const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-Cjl3uRnE.js","assets/useScroll-CA5ySfhV.js","assets/useScroll-BOZLuniq.css","assets/Home-CfvVS6NR.css","assets/Scuba-BZsHGYbI.js","assets/Scuba-DvPcy4YF.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function Hx(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Gf={exports:{}},ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function hw(){if(_0)return ho;_0=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var h in s)h!=="key"&&(r[h]=s[h])}else r=s;return s=r.ref,{$$typeof:u,type:i,key:l,ref:s!==void 0?s:null,props:r}}return ho.Fragment=t,ho.jsx=e,ho.jsxs=e,ho}var A0;function fw(){return A0||(A0=1,Gf.exports=hw()),Gf.exports}var Ut=fw();function dw(u,t,e){const i=/^localhost$|^127(?:\.[0-9]+){0,2}\.[0-9]+$|^(?:0*:)*?:?0*1$/.test(location.hostname)||location.protocol==="file:";if(!t.trackLocalhost&&i)return console.warn("[Plausible] Ignoring event because website is running locally");try{if(window.localStorage.plausible_ignore==="true")return console.warn('[Plausible] Ignoring event because "plausible_ignore" is set to "true" in localStorage')}catch{}const s={n:u,u:t.url,d:t.domain,r:t.referrer,w:t.deviceWidth,h:t.hashMode?1:0,p:e&&e.props?JSON.stringify(e.props):void 0},r=new XMLHttpRequest;r.open("POST",`${t.apiHost}/api/event`,!0),r.setRequestHeader("Content-Type","text/plain"),r.send(JSON.stringify(s)),r.onreadystatechange=()=>{r.readyState===4&&e&&e.callback&&e.callback()}}function pw(u){const t=()=>({hashMode:!1,trackLocalhost:!1,url:location.href,domain:location.hostname,referrer:document.referrer||null,deviceWidth:window.innerWidth,apiHost:"https://plausible.io",...u}),e=(l,h,f)=>{dw(l,{...t(),...f},h)},i=(l,h)=>{e("pageview",h,l)};return{trackEvent:e,trackPageview:i,enableAutoPageviews:()=>{const l=()=>i(),h=history.pushState;return h&&(history.pushState=function(f,d,m){h.apply(this,[f,d,m]),l()},addEventListener("popstate",l)),u&&u.hashMode&&addEventListener("hashchange",l),i(),function(){h&&(history.pushState=h,removeEventListener("popstate",l)),u&&u.hashMode&&removeEventListener("hashchange",l)}},enableAutoOutboundTracking:(l=document,h={subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]})=>{function f(b){e("Outbound Link: Click",{props:{url:this.href}}),typeof process<"u"&&process,setTimeout(()=>{location.href=this.href},150),b.preventDefault()}const d=new Set;function m(b){b instanceof HTMLAnchorElement?b.host!==location.host&&(b.addEventListener("click",f),d.add(b)):"querySelectorAll"in b&&b.querySelectorAll("a").forEach(m)}function x(b){b instanceof HTMLAnchorElement?(b.removeEventListener("click",f),d.delete(b)):"querySelectorAll"in b&&b.querySelectorAll("a").forEach(x)}const g=new MutationObserver(b=>{b.forEach(v=>{v.type==="attributes"?(x(v.target),m(v.target)):v.type==="childList"&&(v.addedNodes.forEach(m),v.removedNodes.forEach(x))})});return l.querySelectorAll("a").forEach(m),g.observe(l,h),function(){d.forEach(v=>{v.removeEventListener("click",f)}),d.clear(),g.disconnect()}}}}var Yf={exports:{}},fo={},Xf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function mw(){return T0||(T0=1,function(u){function t(W,ut){var K=W.length;W.push(ut);t:for(;0<K;){var ct=K-1>>>1,N=W[ct];if(0<s(N,ut))W[ct]=ut,W[K]=N,K=ct;else break t}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var ut=W[0],K=W.pop();if(K!==ut){W[0]=K;t:for(var ct=0,N=W.length,Y=N>>>1;ct<Y;){var at=2*(ct+1)-1,ot=W[at],et=at+1,Tt=W[et];if(0>s(ot,K))et<N&&0>s(Tt,ot)?(W[ct]=Tt,W[et]=K,ct=et):(W[ct]=ot,W[at]=K,ct=at);else if(et<N&&0>s(Tt,K))W[ct]=Tt,W[et]=K,ct=et;else break t}}return ut}function s(W,ut){var K=W.sortIndex-ut.sortIndex;return K!==0?K:W.id-ut.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;u.unstable_now=function(){return r.now()}}else{var l=Date,h=l.now();u.unstable_now=function(){return l.now()-h}}var f=[],d=[],m=1,x=null,g=3,b=!1,v=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(W){for(var ut=e(d);ut!==null;){if(ut.callback===null)i(d);else if(ut.startTime<=W)i(d),ut.sortIndex=ut.expirationTime,t(f,ut);else break;ut=e(d)}}function E(W){if(S=!1,T(W),!v)if(e(f)!==null)v=!0,mt();else{var ut=e(d);ut!==null&&xt(E,ut.startTime-W)}}var O=!1,R=-1,L=5,I=-1;function V(){return!(u.unstable_now()-I<L)}function X(){if(O){var W=u.unstable_now();I=W;var ut=!0;try{t:{v=!1,S&&(S=!1,_(R),R=-1),b=!0;var K=g;try{e:{for(T(W),x=e(f);x!==null&&!(x.expirationTime>W&&V());){var ct=x.callback;if(typeof ct=="function"){x.callback=null,g=x.priorityLevel;var N=ct(x.expirationTime<=W);if(W=u.unstable_now(),typeof N=="function"){x.callback=N,T(W),ut=!0;break e}x===e(f)&&i(f),T(W)}else i(f);x=e(f)}if(x!==null)ut=!0;else{var Y=e(d);Y!==null&&xt(E,Y.startTime-W),ut=!1}}break t}finally{x=null,g=K,b=!1}ut=void 0}}finally{ut?Q():O=!1}}}var Q;if(typeof A=="function")Q=function(){A(X)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,gt=dt.port2;dt.port1.onmessage=X,Q=function(){gt.postMessage(null)}}else Q=function(){M(X,0)};function mt(){O||(O=!0,Q())}function xt(W,ut){R=M(function(){W(u.unstable_now())},ut)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(W){W.callback=null},u.unstable_continueExecution=function(){v||b||(v=!0,mt())},u.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},u.unstable_getCurrentPriorityLevel=function(){return g},u.unstable_getFirstCallbackNode=function(){return e(f)},u.unstable_next=function(W){switch(g){case 1:case 2:case 3:var ut=3;break;default:ut=g}var K=g;g=ut;try{return W()}finally{g=K}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(W,ut){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var K=g;g=W;try{return ut()}finally{g=K}},u.unstable_scheduleCallback=function(W,ut,K){var ct=u.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ct+K:ct):K=ct,W){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=K+N,W={id:m++,callback:ut,priorityLevel:W,startTime:K,expirationTime:N,sortIndex:-1},K>ct?(W.sortIndex=K,t(d,W),e(f)===null&&W===e(d)&&(S?(_(R),R=-1):S=!0,xt(E,K-ct))):(W.sortIndex=N,t(f,W),v||b||(v=!0,mt())),W},u.unstable_shouldYield=V,u.unstable_wrapCallback=function(W){var ut=g;return function(){var K=g;g=ut;try{return W.apply(this,arguments)}finally{g=K}}}}(Zf)),Zf}var C0;function gw(){return C0||(C0=1,Xf.exports=mw()),Xf.exports}var jf={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function yw(){if(E0)return _t;E0=1;var u=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.iterator;function g(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function M(N,Y,at){this.props=N,this.context=Y,this.refs=S,this.updater=at||b}M.prototype.isReactComponent={},M.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},M.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function _(){}_.prototype=M.prototype;function A(N,Y,at){this.props=N,this.context=Y,this.refs=S,this.updater=at||b}var T=A.prototype=new _;T.constructor=A,v(T,M.prototype),T.isPureReactComponent=!0;var E=Array.isArray,O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function L(N,Y,at,ot,et,Tt){return at=Tt.ref,{$$typeof:u,type:N,key:Y,ref:at!==void 0?at:null,props:Tt}}function I(N,Y){return L(N.type,Y,void 0,void 0,void 0,N.props)}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===u}function X(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(at){return Y[at]})}var Q=/\/+/g;function dt(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?X(""+N.key):Y.toString(36)}function gt(){}function mt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(gt,gt):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function xt(N,Y,at,ot,et){var Tt=typeof N;(Tt==="undefined"||Tt==="boolean")&&(N=null);var wt=!1;if(N===null)wt=!0;else switch(Tt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(N.$$typeof){case u:case t:wt=!0;break;case m:return wt=N._init,xt(wt(N._payload),Y,at,ot,et)}}if(wt)return et=et(N),wt=ot===""?"."+dt(N,0):ot,E(et)?(at="",wt!=null&&(at=wt.replace(Q,"$&/")+"/"),xt(et,Y,at,"",function(te){return te})):et!=null&&(V(et)&&(et=I(et,at+(et.key==null||N&&N.key===et.key?"":(""+et.key).replace(Q,"$&/")+"/")+wt)),Y.push(et)),1;wt=0;var jt=ot===""?".":ot+":";if(E(N))for(var Ot=0;Ot<N.length;Ot++)ot=N[Ot],Tt=jt+dt(ot,Ot),wt+=xt(ot,Y,at,Tt,et);else if(Ot=g(N),typeof Ot=="function")for(N=Ot.call(N),Ot=0;!(ot=N.next()).done;)ot=ot.value,Tt=jt+dt(ot,Ot++),wt+=xt(ot,Y,at,Tt,et);else if(Tt==="object"){if(typeof N.then=="function")return xt(mt(N),Y,at,ot,et);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return wt}function W(N,Y,at){if(N==null)return N;var ot=[],et=0;return xt(N,ot,"","",function(Tt){return Y.call(at,Tt,et++)}),ot}function ut(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(at){(N._status===0||N._status===-1)&&(N._status=1,N._result=at)},function(at){(N._status===0||N._status===-1)&&(N._status=2,N._result=at)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var K=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ct(){}return _t.Children={map:W,forEach:function(N,Y,at){W(N,function(){Y.apply(this,arguments)},at)},count:function(N){var Y=0;return W(N,function(){Y++}),Y},toArray:function(N){return W(N,function(Y){return Y})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},_t.Component=M,_t.Fragment=e,_t.Profiler=s,_t.PureComponent=A,_t.StrictMode=i,_t.Suspense=f,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,_t.act=function(){throw Error("act(...) is not supported in production builds of React.")},_t.cache=function(N){return function(){return N.apply(null,arguments)}},_t.cloneElement=function(N,Y,at){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ot=v({},N.props),et=N.key,Tt=void 0;if(Y!=null)for(wt in Y.ref!==void 0&&(Tt=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!R.call(Y,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&Y.ref===void 0||(ot[wt]=Y[wt]);var wt=arguments.length-2;if(wt===1)ot.children=at;else if(1<wt){for(var jt=Array(wt),Ot=0;Ot<wt;Ot++)jt[Ot]=arguments[Ot+2];ot.children=jt}return L(N.type,et,void 0,void 0,Tt,ot)},_t.createContext=function(N){return N={$$typeof:l,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:r,_context:N},N},_t.createElement=function(N,Y,at){var ot,et={},Tt=null;if(Y!=null)for(ot in Y.key!==void 0&&(Tt=""+Y.key),Y)R.call(Y,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(et[ot]=Y[ot]);var wt=arguments.length-2;if(wt===1)et.children=at;else if(1<wt){for(var jt=Array(wt),Ot=0;Ot<wt;Ot++)jt[Ot]=arguments[Ot+2];et.children=jt}if(N&&N.defaultProps)for(ot in wt=N.defaultProps,wt)et[ot]===void 0&&(et[ot]=wt[ot]);return L(N,Tt,void 0,void 0,null,et)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(N){return{$$typeof:h,render:N}},_t.isValidElement=V,_t.lazy=function(N){return{$$typeof:m,_payload:{_status:-1,_result:N},_init:ut}},_t.memo=function(N,Y){return{$$typeof:d,type:N,compare:Y===void 0?null:Y}},_t.startTransition=function(N){var Y=O.T,at={};O.T=at;try{var ot=N(),et=O.S;et!==null&&et(at,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(ct,K)}catch(Tt){K(Tt)}finally{O.T=Y}},_t.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},_t.use=function(N){return O.H.use(N)},_t.useActionState=function(N,Y,at){return O.H.useActionState(N,Y,at)},_t.useCallback=function(N,Y){return O.H.useCallback(N,Y)},_t.useContext=function(N){return O.H.useContext(N)},_t.useDebugValue=function(){},_t.useDeferredValue=function(N,Y){return O.H.useDeferredValue(N,Y)},_t.useEffect=function(N,Y){return O.H.useEffect(N,Y)},_t.useId=function(){return O.H.useId()},_t.useImperativeHandle=function(N,Y,at){return O.H.useImperativeHandle(N,Y,at)},_t.useInsertionEffect=function(N,Y){return O.H.useInsertionEffect(N,Y)},_t.useLayoutEffect=function(N,Y){return O.H.useLayoutEffect(N,Y)},_t.useMemo=function(N,Y){return O.H.useMemo(N,Y)},_t.useOptimistic=function(N,Y){return O.H.useOptimistic(N,Y)},_t.useReducer=function(N,Y,at){return O.H.useReducer(N,Y,at)},_t.useRef=function(N){return O.H.useRef(N)},_t.useState=function(N){return O.H.useState(N)},_t.useSyncExternalStore=function(N,Y,at){return O.H.useSyncExternalStore(N,Y,at)},_t.useTransition=function(){return O.H.useTransition()},_t.version="19.0.0",_t}var z0;function sr(){return z0||(z0=1,jf.exports=yw()),jf.exports}var Wf={exports:{}},ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function xw(){if(R0)return ze;R0=1;var u=sr();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(f,d,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:d,implementation:m}}var l=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ze.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return r(f,d,null,m)},ze.flushSync=function(f){var d=l.T,m=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=m,i.d.f()}},ze.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},ze.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ze.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,x=h(m,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:x,integrity:g,fetchPriority:b}):m==="script"&&i.d.X(f,{crossOrigin:x,integrity:g,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ze.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},ze.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,x=h(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ze.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},ze.requestFormReset=function(f){i.d.r(f)},ze.unstable_batchedUpdates=function(f,d){return f(d)},ze.useFormState=function(f,d,m){return l.H.useFormState(f,d,m)},ze.useFormStatus=function(){return l.H.useHostTransitionStatus()},ze.version="19.0.0",ze}var O0;function bw(){if(O0)return Wf.exports;O0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),Wf.exports=xw(),Wf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function vw(){if(B0)return fo;B0=1;var u=gw(),t=sr(),e=bw();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var r=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),E=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function R(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var L=Symbol.for("react.client.reference");function I(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===L?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case f:return"Fragment";case h:return"Portal";case m:return"Profiler";case d:return"StrictMode";case S:return"Suspense";case M:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case b:return(n.displayName||"Context")+".Provider";case g:return(n._context.displayName||"Context")+".Consumer";case v:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _:return a=n.displayName||null,a!==null?a:I(n.type)||"Memo";case A:a=n._payload,n=n._init;try{return I(n(a))}catch{}}return null}var V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=Object.assign,Q,dt;function gt(n){if(Q===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Q=a&&a[1]||"",dt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Q+n+dt}var mt=!1;function xt(n,a){if(!n||mt)return"";mt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(q){var H=q}Reflect.construct(n,[],j)}else{try{j.call()}catch(q){H=q}n.call(j.prototype)}}else{try{throw Error()}catch(q){H=q}(j=n())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(q){if(q&&H&&typeof q.stack=="string")return[q.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),w=y[0],C=y[1];if(w&&C){var z=w.split(`
`),k=C.split(`
`);for(p=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;p<k.length&&!k[p].includes("DetermineComponentFrameRoot");)p++;if(c===z.length||p===k.length)for(c=z.length-1,p=k.length-1;1<=c&&0<=p&&z[c]!==k[p];)p--;for(;1<=c&&0<=p;c--,p--)if(z[c]!==k[p]){if(c!==1||p!==1)do if(c--,p--,0>p||z[c]!==k[p]){var G=`
`+z[c].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=c&&0<=p);break}}}finally{mt=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?gt(o):""}function W(n){switch(n.tag){case 26:case 27:case 5:return gt(n.type);case 16:return gt("Lazy");case 13:return gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return n=xt(n.type,!1),n;case 11:return n=xt(n.type.render,!1),n;case 1:return n=xt(n.type,!0),n;default:return""}}function ut(n){try{var a="";do a+=W(n),n=n.return;while(n);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function K(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,a.flags&4098&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function ct(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function N(n){if(K(n)!==n)throw Error(i(188))}function Y(n){var a=n.alternate;if(!a){if(a=K(n),a===null)throw Error(i(188));return a!==n?null:n}for(var o=n,c=a;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return N(p),n;if(y===c)return N(p),a;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=p,c=y;else{for(var w=!1,C=p.child;C;){if(C===o){w=!0,o=p,c=y;break}if(C===c){w=!0,c=p,o=y;break}C=C.sibling}if(!w){for(C=y.child;C;){if(C===o){w=!0,o=y,c=p;break}if(C===c){w=!0,c=y,o=p;break}C=C.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:a}function at(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=at(n),a!==null)return a;n=n.sibling}return null}var ot=Array.isArray,et=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},wt=[],jt=-1;function Ot(n){return{current:n}}function te(n){0>jt||(n.current=wt[jt],wt[jt]=null,jt--)}function Nt(n,a){jt++,wt[jt]=n.current,n.current=a}var le=Ot(null),$=Ot(null),tt=Ot(null),it=Ot(null);function pt(n,a){switch(Nt(tt,a),Nt($,n),Nt(le,null),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?Ky(a):0;break;default:if(n=n===8?a.parentNode:a,a=n.tagName,n=n.namespaceURI)n=Ky(n),a=t0(n,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}te(le),Nt(le,a)}function nt(){te(le),te($),te(tt)}function Dt(n){n.memoizedState!==null&&Nt(it,n);var a=le.current,o=t0(a,n.type);a!==o&&(Nt($,n),Nt(le,o))}function Lt(n){$.current===n&&(te(le),te($)),it.current===n&&(te(it),ro._currentValue=Tt)}var Yt=Object.prototype.hasOwnProperty,pe=u.unstable_scheduleCallback,ae=u.unstable_cancelCallback,as=u.unstable_shouldYield,hr=u.unstable_requestPaint,ue=u.unstable_now,$o=u.unstable_getCurrentPriorityLevel,fr=u.unstable_ImmediatePriority,dr=u.unstable_UserBlockingPriority,Ys=u.unstable_NormalPriority,Uc=u.unstable_LowPriority,pr=u.unstable_IdlePriority,Ko=u.log,jb=u.unstable_setDisableYieldValue,mr=null,Ze=null;function Wb(n){if(Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(mr,n,void 0,(n.current.flags&128)===128)}catch{}}function Mn(n){if(typeof Ko=="function"&&jb(n),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(mr,n)}catch{}}var je=Math.clz32?Math.clz32:$b,Jb=Math.log,Qb=Math.LN2;function $b(n){return n>>>=0,n===0?32:31-(Jb(n)/Qb|0)|0}var tl=128,el=4194304;function rs(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function il(n,a){var o=n.pendingLanes;if(o===0)return 0;var c=0,p=n.suspendedLanes,y=n.pingedLanes,w=n.warmLanes;n=n.finishedLanes!==0;var C=o&134217727;return C!==0?(o=C&~p,o!==0?c=rs(o):(y&=C,y!==0?c=rs(y):n||(w=C&~w,w!==0&&(c=rs(w))))):(C=o&~p,C!==0?c=rs(C):y!==0?c=rs(y):n||(w=o&~w,w!==0&&(c=rs(w)))),c===0?0:a!==0&&a!==c&&!(a&p)&&(p=c&-c,w=a&-a,p>=w||p===32&&(w&4194176)!==0)?a:c}function gr(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Kb(n,a){switch(n){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yp(){var n=tl;return tl<<=1,!(tl&4194176)&&(tl=128),n}function Xp(){var n=el;return el<<=1,!(el&62914560)&&(el=4194304),n}function Fc(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function yr(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function tv(n,a,o,c,p,y){var w=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var C=n.entanglements,z=n.expirationTimes,k=n.hiddenUpdates;for(o=w&~o;0<o;){var G=31-je(o),j=1<<G;C[G]=0,z[G]=-1;var H=k[G];if(H!==null)for(k[G]=null,G=0;G<H.length;G++){var q=H[G];q!==null&&(q.lane&=-536870913)}o&=~j}c!==0&&Zp(n,c,0),y!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=y&~(w&~a))}function Zp(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var c=31-je(a);n.entangledLanes|=a,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194218}function jp(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var c=31-je(o),p=1<<c;p&a|n[c]&a&&(n[c]|=a),o&=~p}}function Wp(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function Jp(){var n=et.p;return n!==0?n:(n=window.event,n===void 0?32:x0(n.type))}function ev(n,a){var o=et.p;try{return et.p=n,a()}finally{et.p=o}}var _n=Math.random().toString(36).slice(2),Ce="__reactFiber$"+_n,He="__reactProps$"+_n,Xs="__reactContainer$"+_n,Ic="__reactEvents$"+_n,iv="__reactListeners$"+_n,nv="__reactHandles$"+_n,Qp="__reactResources$"+_n,xr="__reactMarker$"+_n;function Hc(n){delete n[Ce],delete n[He],delete n[Ic],delete n[iv],delete n[nv]}function os(n){var a=n[Ce];if(a)return a;for(var o=n.parentNode;o;){if(a=o[Xs]||o[Ce]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=n0(n);n!==null;){if(o=n[Ce])return o;n=n0(n)}return a}n=o,o=n.parentNode}return null}function Zs(n){if(n=n[Ce]||n[Xs]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function br(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function js(n){var a=n[Qp];return a||(a=n[Qp]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function xe(n){n[xr]=!0}var $p=new Set,Kp={};function ls(n,a){Ws(n,a),Ws(n+"Capture",a)}function Ws(n,a){for(Kp[n]=a,n=0;n<a.length;n++)$p.add(a[n])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tm={},em={};function av(n){return Yt.call(em,n)?!0:Yt.call(tm,n)?!1:sv.test(n)?em[n]=!0:(tm[n]=!0,!1)}function nl(n,a,o){if(av(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function sl(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function Xi(n,a,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+c)}}function oi(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function im(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rv(n){var a=im(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),c=""+n[a];if(!n.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return p.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(n,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function al(n){n._valueTracker||(n._valueTracker=rv(n))}function nm(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return n&&(c=im(n)?n.checked?"true":"false":n.value),n=c,n!==o?(a.setValue(n),!0):!1}function rl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ov=/[\n"\\]/g;function li(n){return n.replace(ov,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vc(n,a,o,c,p,y,w,C){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),a!=null?w==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+oi(a)):n.value!==""+oi(a)&&(n.value=""+oi(a)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),a!=null?Pc(n,w,oi(a)):o!=null?Pc(n,w,oi(o)):c!=null&&n.removeAttribute("value"),p==null&&y!=null&&(n.defaultChecked=!!y),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+oi(C):n.removeAttribute("name")}function sm(n,a,o,c,p,y,w,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),a!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;o=o!=null?""+oi(o):"",a=a!=null?""+oi(a):o,C||a===n.value||(n.value=a),n.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=C?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Pc(n,a,o){a==="number"&&rl(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Js(n,a,o,c){if(n=n.options,a){a={};for(var p=0;p<o.length;p++)a["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=a.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&c&&(n[o].defaultSelected=!0)}else{for(o=""+oi(o),a=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}a!==null||n[p].disabled||(a=n[p])}a!==null&&(a.selected=!0)}}function am(n,a,o){if(a!=null&&(a=""+oi(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+oi(o):""}function rm(n,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(i(92));if(ot(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=oi(a),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function Qs(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var lv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function om(n,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":c?n.setProperty(a,o):typeof o!="number"||o===0||lv.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function lm(n,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&o[p]!==c&&om(n,p,c)}else for(var y in a)a.hasOwnProperty(y)&&om(n,y,a[y])}function qc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ol(n){return cv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Gc=null;function Yc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $s=null,Ks=null;function um(n){var a=Zs(n);if(a&&(n=a.stateNode)){var o=n[He]||null;t:switch(n=a.stateNode,a.type){case"input":if(Vc(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+li(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==n&&c.form===n.form){var p=c[He]||null;if(!p)throw Error(i(90));Vc(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===n.form&&nm(c)}break t;case"textarea":am(n,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Js(n,!!o.multiple,a,!1)}}}var Xc=!1;function cm(n,a,o){if(Xc)return n(a,o);Xc=!0;try{var c=n(a);return c}finally{if(Xc=!1,($s!==null||Ks!==null)&&(Gl(),$s&&(a=$s,n=Ks,Ks=$s=null,um(a),n)))for(a=0;a<n.length;a++)um(n[a])}}function vr(n,a){var o=n.stateNode;if(o===null)return null;var c=o[He]||null;if(c===null)return null;o=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Zc=!1;if(Yi)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){Zc=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{Zc=!1}var An=null,jc=null,ll=null;function hm(){if(ll)return ll;var n,a=jc,o=a.length,c,p="value"in An?An.value:An.textContent,y=p.length;for(n=0;n<o&&a[n]===p[n];n++);var w=o-n;for(c=1;c<=w&&a[o-c]===p[y-c];c++);return ll=p.slice(n,1<c?1-c:void 0)}function ul(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function cl(){return!0}function fm(){return!1}function Ve(n){function a(o,c,p,y,w){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(o=n[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?cl:fm,this.isPropagationStopped=fm,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),a}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hl=Ve(us),wr=X({},us,{view:0,detail:0}),hv=Ve(wr),Wc,Jc,Mr,fl=X({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Mr&&(Mr&&n.type==="mousemove"?(Wc=n.screenX-Mr.screenX,Jc=n.screenY-Mr.screenY):Jc=Wc=0,Mr=n),Wc)},movementY:function(n){return"movementY"in n?n.movementY:Jc}}),dm=Ve(fl),fv=X({},fl,{dataTransfer:0}),dv=Ve(fv),pv=X({},wr,{relatedTarget:0}),Qc=Ve(pv),mv=X({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),gv=Ve(mv),yv=X({},us,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xv=Ve(yv),bv=X({},us,{data:0}),pm=Ve(bv),vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mv(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=wv[n])?!!a[n]:!1}function $c(){return Mv}var _v=X({},wr,{key:function(n){if(n.key){var a=vv[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=ul(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Sv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(n){return n.type==="keypress"?ul(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ul(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Av=Ve(_v),Tv=X({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mm=Ve(Tv),Cv=X({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),Ev=Ve(Cv),zv=X({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=Ve(zv),Ov=X({},fl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=Ve(Ov),Nv=X({},us,{newState:0,oldState:0}),Dv=Ve(Nv),Lv=[9,13,27,32],Kc=Yi&&"CompositionEvent"in window,_r=null;Yi&&"documentMode"in document&&(_r=document.documentMode);var kv=Yi&&"TextEvent"in window&&!_r,gm=Yi&&(!Kc||_r&&8<_r&&11>=_r),ym=" ",xm=!1;function bm(n,a){switch(n){case"keyup":return Lv.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ta=!1;function Uv(n,a){switch(n){case"compositionend":return vm(a);case"keypress":return a.which!==32?null:(xm=!0,ym);case"textInput":return n=a.data,n===ym&&xm?null:n;default:return null}}function Fv(n,a){if(ta)return n==="compositionend"||!Kc&&bm(n,a)?(n=hm(),ll=jc=An=null,ta=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gm&&a.locale!=="ko"?null:a.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sm(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Iv[n.type]:a==="textarea"}function wm(n,a,o,c){$s?Ks?Ks.push(c):Ks=[c]:$s=c,a=Wl(a,"onChange"),0<a.length&&(o=new hl("onChange","change",null,o,c),n.push({event:o,listeners:a}))}var Ar=null,Tr=null;function Hv(n){jy(n,0)}function dl(n){var a=br(n);if(nm(a))return n}function Mm(n,a){if(n==="change")return a}var _m=!1;if(Yi){var th;if(Yi){var eh="oninput"in document;if(!eh){var Am=document.createElement("div");Am.setAttribute("oninput","return;"),eh=typeof Am.oninput=="function"}th=eh}else th=!1;_m=th&&(!document.documentMode||9<document.documentMode)}function Tm(){Ar&&(Ar.detachEvent("onpropertychange",Cm),Tr=Ar=null)}function Cm(n){if(n.propertyName==="value"&&dl(Tr)){var a=[];wm(a,Tr,n,Yc(n)),cm(Hv,a)}}function Vv(n,a,o){n==="focusin"?(Tm(),Ar=a,Tr=o,Ar.attachEvent("onpropertychange",Cm)):n==="focusout"&&Tm()}function Pv(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dl(Tr)}function qv(n,a){if(n==="click")return dl(a)}function Gv(n,a){if(n==="input"||n==="change")return dl(a)}function Yv(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var We=typeof Object.is=="function"?Object.is:Yv;function Cr(n,a){if(We(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Yt.call(a,p)||!We(n[p],a[p]))return!1}return!0}function Em(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zm(n,a){var o=Em(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=a&&c>=a)return{node:o,offset:a-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Em(o)}}function Rm(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Rm(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function Om(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=rl(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=rl(n.document)}return a}function ih(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function Xv(n,a){var o=Om(a);a=n.focusedElem;var c=n.selectionRange;if(o!==a&&a&&a.ownerDocument&&Rm(a.ownerDocument.documentElement,a)){if(c!==null&&ih(a)){if(n=c.start,o=c.end,o===void 0&&(o=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(o,a.value.length);else if(o=(n=a.ownerDocument||document)&&n.defaultView||window,o.getSelection){o=o.getSelection();var p=a.textContent.length,y=Math.min(c.start,p);c=c.end===void 0?y:Math.min(c.end,p),!o.extend&&y>c&&(p=c,c=y,y=p),p=zm(a,y);var w=zm(a,c);p&&w&&(o.rangeCount!==1||o.anchorNode!==p.node||o.anchorOffset!==p.offset||o.focusNode!==w.node||o.focusOffset!==w.offset)&&(n=n.createRange(),n.setStart(p.node,p.offset),o.removeAllRanges(),y>c?(o.addRange(n),o.extend(w.node,w.offset)):(n.setEnd(w.node,w.offset),o.addRange(n)))}}for(n=[],o=a;o=o.parentNode;)o.nodeType===1&&n.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)o=n[a],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Zv=Yi&&"documentMode"in document&&11>=document.documentMode,ea=null,nh=null,Er=null,sh=!1;function Bm(n,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sh||ea==null||ea!==rl(c)||(c=ea,"selectionStart"in c&&ih(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Er&&Cr(Er,c)||(Er=c,c=Wl(nh,"onSelect"),0<c.length&&(a=new hl("onSelect","select",null,a,o),n.push({event:a,listeners:c}),a.target=ea)))}function cs(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var ia={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},ah={},Nm={};Yi&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function hs(n){if(ah[n])return ah[n];if(!ia[n])return n;var a=ia[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in Nm)return ah[n]=a[o];return n}var Dm=hs("animationend"),Lm=hs("animationiteration"),km=hs("animationstart"),jv=hs("transitionrun"),Wv=hs("transitionstart"),Jv=hs("transitioncancel"),Um=hs("transitionend"),Fm=new Map,Im="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mi(n,a){Fm.set(n,a),ls(a,[n])}var ui=[],na=0,rh=0;function pl(){for(var n=na,a=rh=na=0;a<n;){var o=ui[a];ui[a++]=null;var c=ui[a];ui[a++]=null;var p=ui[a];ui[a++]=null;var y=ui[a];if(ui[a++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}y!==0&&Hm(o,p,y)}}function ml(n,a,o,c){ui[na++]=n,ui[na++]=a,ui[na++]=o,ui[na++]=c,rh|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function oh(n,a,o,c){return ml(n,a,o,c),gl(n)}function Tn(n,a){return ml(n,null,null,a),gl(n)}function Hm(n,a,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=n.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(p=!0)),n=y,y=y.return;p&&a!==null&&n.tag===3&&(y=n.stateNode,p=31-je(o),y=y.hiddenUpdates,n=y[p],n===null?y[p]=[a]:n.push(a),a.lane=o|536870912)}function gl(n){if(50<Kr)throw Kr=0,pf=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var sa={},Vm=new WeakMap;function ci(n,a){if(typeof n=="object"&&n!==null){var o=Vm.get(n);return o!==void 0?o:(a={value:n,source:a,stack:ut(a)},Vm.set(n,a),a)}return{value:n,source:a,stack:ut(a)}}var aa=[],ra=0,yl=null,xl=0,hi=[],fi=0,fs=null,Zi=1,ji="";function ds(n,a){aa[ra++]=xl,aa[ra++]=yl,yl=n,xl=a}function Pm(n,a,o){hi[fi++]=Zi,hi[fi++]=ji,hi[fi++]=fs,fs=n;var c=Zi;n=ji;var p=32-je(c)-1;c&=~(1<<p),o+=1;var y=32-je(a)+p;if(30<y){var w=p-p%5;y=(c&(1<<w)-1).toString(32),c>>=w,p-=w,Zi=1<<32-je(a)+p|o<<p|c,ji=y+n}else Zi=1<<y|o<<p|c,ji=n}function lh(n){n.return!==null&&(ds(n,1),Pm(n,1,0))}function uh(n){for(;n===yl;)yl=aa[--ra],aa[ra]=null,xl=aa[--ra],aa[ra]=null;for(;n===fs;)fs=hi[--fi],hi[fi]=null,ji=hi[--fi],hi[fi]=null,Zi=hi[--fi],hi[fi]=null}var De=null,_e=null,Ft=!1,_i=null,Bi=!1,ch=Error(i(519));function ps(n){var a=Error(i(418,""));throw Or(ci(a,n)),ch}function qm(n){var a=n.stateNode,o=n.type,c=n.memoizedProps;switch(a[Ce]=n,a[He]=c,o){case"dialog":Bt("cancel",a),Bt("close",a);break;case"iframe":case"object":case"embed":Bt("load",a);break;case"video":case"audio":for(o=0;o<eo.length;o++)Bt(eo[o],a);break;case"source":Bt("error",a);break;case"img":case"image":case"link":Bt("error",a),Bt("load",a);break;case"details":Bt("toggle",a);break;case"input":Bt("invalid",a),sm(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),al(a);break;case"select":Bt("invalid",a);break;case"textarea":Bt("invalid",a),rm(a,c.value,c.defaultValue,c.children),al(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||$y(a.textContent,o)?(c.popover!=null&&(Bt("beforetoggle",a),Bt("toggle",a)),c.onScroll!=null&&Bt("scroll",a),c.onScrollEnd!=null&&Bt("scrollend",a),c.onClick!=null&&(a.onclick=Jl),a=!0):a=!1,a||ps(n)}function Gm(n){for(De=n.return;De;)switch(De.tag){case 3:case 27:Bi=!0;return;case 5:case 13:Bi=!1;return;default:De=De.return}}function zr(n){if(n!==De)return!1;if(!Ft)return Gm(n),Ft=!0,!1;var a=!1,o;if((o=n.tag!==3&&n.tag!==27)&&((o=n.tag===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Of(n.type,n.memoizedProps)),o=!o),o&&(a=!0),a&&_e&&ps(n),Gm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(a===0){_e=Ti(n.nextSibling);break t}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;n=n.nextSibling}_e=null}}else _e=De?Ti(n.stateNode.nextSibling):null;return!0}function Rr(){_e=De=null,Ft=!1}function Or(n){_i===null?_i=[n]:_i.push(n)}var Br=Error(i(460)),Ym=Error(i(474)),hh={then:function(){}};function Xm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function bl(){}function Zm(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(bl,bl),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===Br?Error(i(483)):n;default:if(typeof a.status=="string")a.then(bl,bl);else{if(n=Xt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,n===Br?Error(i(483)):n}throw Nr=a,Br}}var Nr=null;function jm(){if(Nr===null)throw Error(i(459));var n=Nr;return Nr=null,n}var oa=null,Dr=0;function vl(n){var a=Dr;return Dr+=1,oa===null&&(oa=[]),Zm(oa,n,a)}function Lr(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Sl(n,a){throw a.$$typeof===r?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Wm(n){var a=n._init;return a(n._payload)}function Jm(n){function a(U,D){if(n){var F=U.deletions;F===null?(U.deletions=[D],U.flags|=16):F.push(D)}}function o(U,D){if(!n)return null;for(;D!==null;)a(U,D),D=D.sibling;return null}function c(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function p(U,D){return U=Fn(U,D),U.index=0,U.sibling=null,U}function y(U,D,F){return U.index=F,n?(F=U.alternate,F!==null?(F=F.index,F<D?(U.flags|=33554434,D):F):(U.flags|=33554434,D)):(U.flags|=1048576,D)}function w(U){return n&&U.alternate===null&&(U.flags|=33554434),U}function C(U,D,F,Z){return D===null||D.tag!==6?(D=rf(F,U.mode,Z),D.return=U,D):(D=p(D,F),D.return=U,D)}function z(U,D,F,Z){var st=F.type;return st===f?G(U,D,F.props.children,Z,F.key):D!==null&&(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===A&&Wm(st)===D.type)?(D=p(D,F.props),Lr(D,F),D.return=U,D):(D=Il(F.type,F.key,F.props,null,U.mode,Z),Lr(D,F),D.return=U,D)}function k(U,D,F,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation?(D=of(F,U.mode,Z),D.return=U,D):(D=p(D,F.children||[]),D.return=U,D)}function G(U,D,F,Z,st){return D===null||D.tag!==7?(D=_s(F,U.mode,Z,st),D.return=U,D):(D=p(D,F),D.return=U,D)}function j(U,D,F){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=rf(""+D,U.mode,F),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case l:return F=Il(D.type,D.key,D.props,null,U.mode,F),Lr(F,D),F.return=U,F;case h:return D=of(D,U.mode,F),D.return=U,D;case A:var Z=D._init;return D=Z(D._payload),j(U,D,F)}if(ot(D)||R(D))return D=_s(D,U.mode,F,null),D.return=U,D;if(typeof D.then=="function")return j(U,vl(D),F);if(D.$$typeof===b)return j(U,kl(U,D),F);Sl(U,D)}return null}function H(U,D,F,Z){var st=D!==null?D.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return st!==null?null:C(U,D,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case l:return F.key===st?z(U,D,F,Z):null;case h:return F.key===st?k(U,D,F,Z):null;case A:return st=F._init,F=st(F._payload),H(U,D,F,Z)}if(ot(F)||R(F))return st!==null?null:G(U,D,F,Z,null);if(typeof F.then=="function")return H(U,D,vl(F),Z);if(F.$$typeof===b)return H(U,D,kl(U,F),Z);Sl(U,F)}return null}function q(U,D,F,Z,st){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(F)||null,C(D,U,""+Z,st);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return U=U.get(Z.key===null?F:Z.key)||null,z(D,U,Z,st);case h:return U=U.get(Z.key===null?F:Z.key)||null,k(D,U,Z,st);case A:var Et=Z._init;return Z=Et(Z._payload),q(U,D,F,Z,st)}if(ot(Z)||R(Z))return U=U.get(F)||null,G(D,U,Z,st,null);if(typeof Z.then=="function")return q(U,D,F,vl(Z),st);if(Z.$$typeof===b)return q(U,D,F,kl(D,Z),st);Sl(D,Z)}return null}function lt(U,D,F,Z){for(var st=null,Et=null,ht=D,ft=D=0,Se=null;ht!==null&&ft<F.length;ft++){ht.index>ft?(Se=ht,ht=null):Se=ht.sibling;var It=H(U,ht,F[ft],Z);if(It===null){ht===null&&(ht=Se);break}n&&ht&&It.alternate===null&&a(U,ht),D=y(It,D,ft),Et===null?st=It:Et.sibling=It,Et=It,ht=Se}if(ft===F.length)return o(U,ht),Ft&&ds(U,ft),st;if(ht===null){for(;ft<F.length;ft++)ht=j(U,F[ft],Z),ht!==null&&(D=y(ht,D,ft),Et===null?st=ht:Et.sibling=ht,Et=ht);return Ft&&ds(U,ft),st}for(ht=c(ht);ft<F.length;ft++)Se=q(ht,U,ft,F[ft],Z),Se!==null&&(n&&Se.alternate!==null&&ht.delete(Se.key===null?ft:Se.key),D=y(Se,D,ft),Et===null?st=Se:Et.sibling=Se,Et=Se);return n&&ht.forEach(function(Yn){return a(U,Yn)}),Ft&&ds(U,ft),st}function bt(U,D,F,Z){if(F==null)throw Error(i(151));for(var st=null,Et=null,ht=D,ft=D=0,Se=null,It=F.next();ht!==null&&!It.done;ft++,It=F.next()){ht.index>ft?(Se=ht,ht=null):Se=ht.sibling;var Yn=H(U,ht,It.value,Z);if(Yn===null){ht===null&&(ht=Se);break}n&&ht&&Yn.alternate===null&&a(U,ht),D=y(Yn,D,ft),Et===null?st=Yn:Et.sibling=Yn,Et=Yn,ht=Se}if(It.done)return o(U,ht),Ft&&ds(U,ft),st;if(ht===null){for(;!It.done;ft++,It=F.next())It=j(U,It.value,Z),It!==null&&(D=y(It,D,ft),Et===null?st=It:Et.sibling=It,Et=It);return Ft&&ds(U,ft),st}for(ht=c(ht);!It.done;ft++,It=F.next())It=q(ht,U,ft,It.value,Z),It!==null&&(n&&It.alternate!==null&&ht.delete(It.key===null?ft:It.key),D=y(It,D,ft),Et===null?st=It:Et.sibling=It,Et=It);return n&&ht.forEach(function(cw){return a(U,cw)}),Ft&&ds(U,ft),st}function ne(U,D,F,Z){if(typeof F=="object"&&F!==null&&F.type===f&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case l:t:{for(var st=F.key;D!==null;){if(D.key===st){if(st=F.type,st===f){if(D.tag===7){o(U,D.sibling),Z=p(D,F.props.children),Z.return=U,U=Z;break t}}else if(D.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===A&&Wm(st)===D.type){o(U,D.sibling),Z=p(D,F.props),Lr(Z,F),Z.return=U,U=Z;break t}o(U,D);break}else a(U,D);D=D.sibling}F.type===f?(Z=_s(F.props.children,U.mode,Z,F.key),Z.return=U,U=Z):(Z=Il(F.type,F.key,F.props,null,U.mode,Z),Lr(Z,F),Z.return=U,U=Z)}return w(U);case h:t:{for(st=F.key;D!==null;){if(D.key===st)if(D.tag===4&&D.stateNode.containerInfo===F.containerInfo&&D.stateNode.implementation===F.implementation){o(U,D.sibling),Z=p(D,F.children||[]),Z.return=U,U=Z;break t}else{o(U,D);break}else a(U,D);D=D.sibling}Z=of(F,U.mode,Z),Z.return=U,U=Z}return w(U);case A:return st=F._init,F=st(F._payload),ne(U,D,F,Z)}if(ot(F))return lt(U,D,F,Z);if(R(F)){if(st=R(F),typeof st!="function")throw Error(i(150));return F=st.call(F),bt(U,D,F,Z)}if(typeof F.then=="function")return ne(U,D,vl(F),Z);if(F.$$typeof===b)return ne(U,D,kl(U,F),Z);Sl(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,D!==null&&D.tag===6?(o(U,D.sibling),Z=p(D,F),Z.return=U,U=Z):(o(U,D),Z=rf(F,U.mode,Z),Z.return=U,U=Z),w(U)):o(U,D)}return function(U,D,F,Z){try{Dr=0;var st=ne(U,D,F,Z);return oa=null,st}catch(ht){if(ht===Br)throw ht;var Et=gi(29,ht,null,U.mode);return Et.lanes=Z,Et.return=U,Et}finally{}}}var ms=Jm(!0),Qm=Jm(!1),la=Ot(null),wl=Ot(0);function $m(n,a){n=rn,Nt(wl,n),Nt(la,a),rn=n|a.baseLanes}function fh(){Nt(wl,rn),Nt(la,la.current)}function dh(){rn=wl.current,te(la),te(wl)}var di=Ot(null),Ni=null;function Cn(n){var a=n.alternate;Nt(me,me.current&1),Nt(di,n),Ni===null&&(a===null||la.current!==null||a.memoizedState!==null)&&(Ni=n)}function Km(n){if(n.tag===22){if(Nt(me,me.current),Nt(di,n),Ni===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(Ni=n)}}else En()}function En(){Nt(me,me.current),Nt(di,di.current)}function Wi(n){te(di),Ni===n&&(Ni=null),te(me)}var me=Ot(0);function Ml(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qv=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},$v=u.unstable_scheduleCallback,Kv=u.unstable_NormalPriority,ge={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new Qv,data:new Map,refCount:0}}function kr(n){n.refCount--,n.refCount===0&&$v(Kv,function(){n.controller.abort()})}var Ur=null,mh=0,ua=0,ca=null;function tS(n,a){if(Ur===null){var o=Ur=[];mh=0,ua=wf(),ca={status:"pending",value:void 0,then:function(c){o.push(c)}}}return mh++,a.then(tg,tg),a}function tg(){if(--mh===0&&Ur!==null){ca!==null&&(ca.status="fulfilled");var n=Ur;Ur=null,ua=0,ca=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function eS(n,a){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<o.length;p++)(0,o[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var eg=V.S;V.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&tS(n,a),eg!==null&&eg(n,a)};var gs=Ot(null);function gh(){var n=gs.current;return n!==null?n:Xt.pooledCache}function _l(n,a){a===null?Nt(gs,gs.current):Nt(gs,a.pool)}function ig(){var n=gh();return n===null?null:{parent:ge._currentValue,pool:n}}var zn=0,Ct=null,Pt=null,ce=null,Al=!1,ha=!1,ys=!1,Tl=0,Fr=0,fa=null,iS=0;function re(){throw Error(i(321))}function yh(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!We(n[o],a[o]))return!1;return!0}function xh(n,a,o,c,p,y){return zn=y,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,V.H=n===null||n.memoizedState===null?xs:Rn,ys=!1,y=o(c,p),ys=!1,ha&&(y=sg(a,o,c,p)),ng(n),y}function ng(n){V.H=Di;var a=Pt!==null&&Pt.next!==null;if(zn=0,ce=Pt=Ct=null,Al=!1,Fr=0,fa=null,a)throw Error(i(300));n===null||be||(n=n.dependencies,n!==null&&Ll(n)&&(be=!0))}function sg(n,a,o,c){Ct=n;var p=0;do{if(ha&&(fa=null),Fr=0,ha=!1,25<=p)throw Error(i(301));if(p+=1,ce=Pt=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=bs,y=a(o,c)}while(ha);return y}function nS(){var n=V.H,a=n.useState()[0];return a=typeof a.then=="function"?Ir(a):a,n=n.useState()[0],(Pt!==null?Pt.memoizedState:null)!==n&&(Ct.flags|=1024),a}function bh(){var n=Tl!==0;return Tl=0,n}function vh(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function Sh(n){if(Al){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Al=!1}zn=0,ce=Pt=Ct=null,ha=!1,Fr=Tl=0,fa=null}function Pe(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Ct.memoizedState=ce=n:ce=ce.next=n,ce}function he(){if(Pt===null){var n=Ct.alternate;n=n!==null?n.memoizedState:null}else n=Pt.next;var a=ce===null?Ct.memoizedState:ce.next;if(a!==null)ce=a,Pt=n;else{if(n===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));Pt=n,n={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},ce===null?Ct.memoizedState=ce=n:ce=ce.next=n}return ce}var Cl;Cl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ir(n){var a=Fr;return Fr+=1,fa===null&&(fa=[]),n=Zm(fa,n,a),a=Ct,(ce===null?a.memoizedState:ce.next)===null&&(a=a.alternate,V.H=a===null||a.memoizedState===null?xs:Rn),n}function El(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ir(n);if(n.$$typeof===b)return Ee(n)}throw Error(i(438,String(n)))}function wh(n){var a=null,o=Ct.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Cl(),Ct.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),c=0;c<n;c++)o[c]=E;return a.index++,o}function Ji(n,a){return typeof a=="function"?a(n):a}function zl(n){var a=he();return Mh(a,Pt,n)}function Mh(n,a,o){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var p=n.baseQueue,y=c.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}a.baseQueue=p=y,c.pending=null}if(y=n.baseState,p===null)n.memoizedState=y;else{a=p.next;var C=w=null,z=null,k=a,G=!1;do{var j=k.lane&-536870913;if(j!==k.lane?(kt&j)===j:(zn&j)===j){var H=k.revertLane;if(H===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),j===ua&&(G=!0);else if((zn&H)===H){k=k.next,H===ua&&(G=!0);continue}else j={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},z===null?(C=z=j,w=y):z=z.next=j,Ct.lanes|=H,In|=H;j=k.action,ys&&o(y,j),y=k.hasEagerState?k.eagerState:o(y,j)}else H={lane:j,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},z===null?(C=z=H,w=y):z=z.next=H,Ct.lanes|=j,In|=j;k=k.next}while(k!==null&&k!==a);if(z===null?w=y:z.next=C,!We(y,n.memoizedState)&&(be=!0,G&&(o=ca,o!==null)))throw o;n.memoizedState=y,n.baseState=w,n.baseQueue=z,c.lastRenderedState=y}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function _h(n){var a=he(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var c=o.dispatch,p=o.pending,y=a.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do y=n(y,w.action),w=w.next;while(w!==p);We(y,a.memoizedState)||(be=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),o.lastRenderedState=y}return[y,c]}function ag(n,a,o){var c=Ct,p=he(),y=Ft;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=a();var w=!We((Pt||p).memoizedState,o);if(w&&(p.memoizedState=o,be=!0),p=p.queue,Ch(lg.bind(null,c,p,n),[n]),p.getSnapshot!==a||w||ce!==null&&ce.memoizedState.tag&1){if(c.flags|=2048,da(9,og.bind(null,c,p,o,a),{destroy:void 0},null),Xt===null)throw Error(i(349));y||zn&60||rg(c,a,o)}return o}function rg(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=Ct.updateQueue,a===null?(a=Cl(),Ct.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function og(n,a,o,c){a.value=o,a.getSnapshot=c,ug(a)&&cg(n)}function lg(n,a,o){return o(function(){ug(a)&&cg(n)})}function ug(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!We(n,o)}catch{return!0}}function cg(n){var a=Tn(n,2);a!==null&&Le(a,n,2)}function Ah(n){var a=Pe();if(typeof n=="function"){var o=n;if(n=o(),ys){Mn(!0);try{o()}finally{Mn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:n},a}function hg(n,a,o,c){return n.baseState=o,Mh(n,Pt,typeof c=="function"?c:Ji)}function sS(n,a,o,c,p){if(Bl(n))throw Error(i(485));if(n=a.action,n!==null){var y={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};V.T!==null?o(!0):y.isTransition=!1,c(y),o=a.pending,o===null?(y.next=a.pending=y,fg(a,y)):(y.next=o.next,a.pending=o.next=y)}}function fg(n,a){var o=a.action,c=a.payload,p=n.state;if(a.isTransition){var y=V.T,w={};V.T=w;try{var C=o(p,c),z=V.S;z!==null&&z(w,C),dg(n,a,C)}catch(k){Th(n,a,k)}finally{V.T=y}}else try{y=o(p,c),dg(n,a,y)}catch(k){Th(n,a,k)}}function dg(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){pg(n,a,c)},function(c){return Th(n,a,c)}):pg(n,a,o)}function pg(n,a,o){a.status="fulfilled",a.value=o,mg(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,fg(n,o)))}function Th(n,a,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,mg(a),a=a.next;while(a!==c)}n.action=null}function mg(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function gg(n,a){return a}function yg(n,a){if(Ft){var o=Xt.formState;if(o!==null){t:{var c=Ct;if(Ft){if(_e){e:{for(var p=_e,y=Bi;p.nodeType!==8;){if(!y){p=null;break e}if(p=Ti(p.nextSibling),p===null){p=null;break e}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){_e=Ti(p.nextSibling),c=p.data==="F!";break t}}ps(c)}c=!1}c&&(a=o[0])}}return o=Pe(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:a},o.queue=c,o=Lg.bind(null,Ct,c),c.dispatch=o,c=Ah(!1),y=Bh.bind(null,Ct,!1,c.queue),c=Pe(),p={state:a,dispatch:null,action:n,pending:null},c.queue=p,o=sS.bind(null,Ct,p,y,o),p.dispatch=o,c.memoizedState=n,[a,o,!1]}function xg(n){var a=he();return bg(a,Pt,n)}function bg(n,a,o){a=Mh(n,a,gg)[0],n=zl(Ji)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Ir(a):a;var c=he(),p=c.queue,y=p.dispatch;return o!==c.memoizedState&&(Ct.flags|=2048,da(9,aS.bind(null,p,o),{destroy:void 0},null)),[a,y,n]}function aS(n,a){n.action=a}function vg(n){var a=he(),o=Pt;if(o!==null)return bg(a,o,n);he(),a=a.memoizedState,o=he();var c=o.queue.dispatch;return o.memoizedState=n,[a,c,!1]}function da(n,a,o,c){return n={tag:n,create:a,inst:o,deps:c,next:null},a=Ct.updateQueue,a===null&&(a=Cl(),Ct.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,a.lastEffect=n),n}function Sg(){return he().memoizedState}function Rl(n,a,o,c){var p=Pe();Ct.flags|=n,p.memoizedState=da(1|a,o,{destroy:void 0},c===void 0?null:c)}function Ol(n,a,o,c){var p=he();c=c===void 0?null:c;var y=p.memoizedState.inst;Pt!==null&&c!==null&&yh(c,Pt.memoizedState.deps)?p.memoizedState=da(a,o,y,c):(Ct.flags|=n,p.memoizedState=da(1|a,o,y,c))}function wg(n,a){Rl(8390656,8,n,a)}function Ch(n,a){Ol(2048,8,n,a)}function Mg(n,a){return Ol(4,2,n,a)}function _g(n,a){return Ol(4,4,n,a)}function Ag(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Tg(n,a,o){o=o!=null?o.concat([n]):null,Ol(4,4,Ag.bind(null,a,n),o)}function Eh(){}function Cg(n,a){var o=he();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&yh(a,c[1])?c[0]:(o.memoizedState=[n,a],n)}function Eg(n,a){var o=he();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&yh(a,c[1]))return c[0];if(c=n(),ys){Mn(!0);try{n()}finally{Mn(!1)}}return o.memoizedState=[c,a],c}function zh(n,a,o){return o===void 0||zn&1073741824?n.memoizedState=a:(n.memoizedState=o,n=Ry(),Ct.lanes|=n,In|=n,o)}function zg(n,a,o,c){return We(o,a)?o:la.current!==null?(n=zh(n,o,c),We(n,a)||(be=!0),n):zn&42?(n=Ry(),Ct.lanes|=n,In|=n,a):(be=!0,n.memoizedState=o)}function Rg(n,a,o,c,p){var y=et.p;et.p=y!==0&&8>y?y:8;var w=V.T,C={};V.T=C,Bh(n,!1,a,o);try{var z=p(),k=V.S;if(k!==null&&k(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var G=eS(z,c);Hr(n,a,G,Ke(n))}else Hr(n,a,c,Ke(n))}catch(j){Hr(n,a,{then:function(){},status:"rejected",reason:j},Ke())}finally{et.p=y,V.T=w}}function rS(){}function Rh(n,a,o,c){if(n.tag!==5)throw Error(i(476));var p=Og(n).queue;Rg(n,p,a,Tt,o===null?rS:function(){return Bg(n),o(c)})}function Og(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:Tt},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function Bg(n){var a=Og(n).next.queue;Hr(n,a,{},Ke())}function Oh(){return Ee(ro)}function Ng(){return he().memoizedState}function Dg(){return he().memoizedState}function oS(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=Ke();n=Nn(o);var c=Dn(a,n,o);c!==null&&(Le(c,a,o),qr(c,a,o)),a={cache:ph()},n.payload=a;return}a=a.return}}function lS(n,a,o){var c=Ke();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Bl(n)?kg(a,o):(o=oh(n,a,o,c),o!==null&&(Le(o,n,c),Ug(o,a,c)))}function Lg(n,a,o){var c=Ke();Hr(n,a,o,c)}function Hr(n,a,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bl(n))kg(a,p);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,C=y(w,o);if(p.hasEagerState=!0,p.eagerState=C,We(C,w))return ml(n,a,p,0),Xt===null&&pl(),!1}catch{}finally{}if(o=oh(n,a,p,c),o!==null)return Le(o,n,c),Ug(o,a,c),!0}return!1}function Bh(n,a,o,c){if(c={lane:2,revertLane:wf(),action:c,hasEagerState:!1,eagerState:null,next:null},Bl(n)){if(a)throw Error(i(479))}else a=oh(n,o,c,2),a!==null&&Le(a,n,2)}function Bl(n){var a=n.alternate;return n===Ct||a!==null&&a===Ct}function kg(n,a){ha=Al=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function Ug(n,a,o){if(o&4194176){var c=a.lanes;c&=n.pendingLanes,o|=c,a.lanes=o,jp(n,o)}}var Di={readContext:Ee,use:El,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re};Di.useCacheRefresh=re,Di.useMemoCache=re,Di.useHostTransitionStatus=re,Di.useFormState=re,Di.useActionState=re,Di.useOptimistic=re;var xs={readContext:Ee,use:El,useCallback:function(n,a){return Pe().memoizedState=[n,a===void 0?null:a],n},useContext:Ee,useEffect:wg,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,Rl(4194308,4,Ag.bind(null,a,n),o)},useLayoutEffect:function(n,a){return Rl(4194308,4,n,a)},useInsertionEffect:function(n,a){Rl(4,2,n,a)},useMemo:function(n,a){var o=Pe();a=a===void 0?null:a;var c=n();if(ys){Mn(!0);try{n()}finally{Mn(!1)}}return o.memoizedState=[c,a],c},useReducer:function(n,a,o){var c=Pe();if(o!==void 0){var p=o(a);if(ys){Mn(!0);try{o(a)}finally{Mn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=lS.bind(null,Ct,n),[c.memoizedState,n]},useRef:function(n){var a=Pe();return n={current:n},a.memoizedState=n},useState:function(n){n=Ah(n);var a=n.queue,o=Lg.bind(null,Ct,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:Eh,useDeferredValue:function(n,a){var o=Pe();return zh(o,n,a)},useTransition:function(){var n=Ah(!1);return n=Rg.bind(null,Ct,n.queue,!0,!1),Pe().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var c=Ct,p=Pe();if(Ft){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Xt===null)throw Error(i(349));kt&60||rg(c,a,o)}p.memoizedState=o;var y={value:o,getSnapshot:a};return p.queue=y,wg(lg.bind(null,c,y,n),[n]),c.flags|=2048,da(9,og.bind(null,c,y,o,a),{destroy:void 0},null),o},useId:function(){var n=Pe(),a=Xt.identifierPrefix;if(Ft){var o=ji,c=Zi;o=(c&~(1<<32-je(c)-1)).toString(32)+o,a=":"+a+"R"+o,o=Tl++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=iS++,a=":"+a+"r"+o.toString(32)+":";return n.memoizedState=a},useCacheRefresh:function(){return Pe().memoizedState=oS.bind(null,Ct)}};xs.useMemoCache=wh,xs.useHostTransitionStatus=Oh,xs.useFormState=yg,xs.useActionState=yg,xs.useOptimistic=function(n){var a=Pe();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Bh.bind(null,Ct,!0,o),o.dispatch=a,[n,a]};var Rn={readContext:Ee,use:El,useCallback:Cg,useContext:Ee,useEffect:Ch,useImperativeHandle:Tg,useInsertionEffect:Mg,useLayoutEffect:_g,useMemo:Eg,useReducer:zl,useRef:Sg,useState:function(){return zl(Ji)},useDebugValue:Eh,useDeferredValue:function(n,a){var o=he();return zg(o,Pt.memoizedState,n,a)},useTransition:function(){var n=zl(Ji)[0],a=he().memoizedState;return[typeof n=="boolean"?n:Ir(n),a]},useSyncExternalStore:ag,useId:Ng};Rn.useCacheRefresh=Dg,Rn.useMemoCache=wh,Rn.useHostTransitionStatus=Oh,Rn.useFormState=xg,Rn.useActionState=xg,Rn.useOptimistic=function(n,a){var o=he();return hg(o,Pt,n,a)};var bs={readContext:Ee,use:El,useCallback:Cg,useContext:Ee,useEffect:Ch,useImperativeHandle:Tg,useInsertionEffect:Mg,useLayoutEffect:_g,useMemo:Eg,useReducer:_h,useRef:Sg,useState:function(){return _h(Ji)},useDebugValue:Eh,useDeferredValue:function(n,a){var o=he();return Pt===null?zh(o,n,a):zg(o,Pt.memoizedState,n,a)},useTransition:function(){var n=_h(Ji)[0],a=he().memoizedState;return[typeof n=="boolean"?n:Ir(n),a]},useSyncExternalStore:ag,useId:Ng};bs.useCacheRefresh=Dg,bs.useMemoCache=wh,bs.useHostTransitionStatus=Oh,bs.useFormState=vg,bs.useActionState=vg,bs.useOptimistic=function(n,a){var o=he();return Pt!==null?hg(o,Pt,n,a):(o.baseState=n,[n,o.queue.dispatch])};function Nh(n,a,o,c){a=n.memoizedState,o=o(c,a),o=o==null?a:X({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Dh={isMounted:function(n){return(n=n._reactInternals)?K(n)===n:!1},enqueueSetState:function(n,a,o){n=n._reactInternals;var c=Ke(),p=Nn(c);p.payload=a,o!=null&&(p.callback=o),a=Dn(n,p,c),a!==null&&(Le(a,n,c),qr(a,n,c))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var c=Ke(),p=Nn(c);p.tag=1,p.payload=a,o!=null&&(p.callback=o),a=Dn(n,p,c),a!==null&&(Le(a,n,c),qr(a,n,c))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=Ke(),c=Nn(o);c.tag=2,a!=null&&(c.callback=a),a=Dn(n,c,o),a!==null&&(Le(a,n,o),qr(a,n,o))}};function Fg(n,a,o,c,p,y,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,w):a.prototype&&a.prototype.isPureReactComponent?!Cr(o,c)||!Cr(p,y):!0}function Ig(n,a,o,c){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==n&&Dh.enqueueReplaceState(a,a.state,null)}function vs(n,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(n=n.defaultProps){o===a&&(o=X({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}var Nl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Hg(n){Nl(n)}function Vg(n){console.error(n)}function Pg(n){Nl(n)}function Dl(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function qg(n,a,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Lh(n,a,o){return o=Nn(o),o.tag=3,o.payload={element:null},o.callback=function(){Dl(n,a)},o}function Gg(n){return n=Nn(n),n.tag=3,n}function Yg(n,a,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;n.payload=function(){return p(y)},n.callback=function(){qg(a,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){qg(a,o,c),typeof p!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function uS(n,a,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Pr(a,o,p,!0),o=di.current,o!==null){switch(o.tag){case 13:return Ni===null?yf():o.alternate===null&&ie===0&&(ie=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===hh?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),bf(n,c,p)),!1;case 22:return o.flags|=65536,c===hh?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),bf(n,c,p)),!1}throw Error(i(435,o.tag))}return bf(n,c,p),yf(),!1}if(Ft)return a=di.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==ch&&(n=Error(i(422),{cause:c}),Or(ci(n,o)))):(c!==ch&&(a=Error(i(423),{cause:c}),Or(ci(a,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=ci(c,o),p=Lh(n.stateNode,c,p),Jh(n,p),ie!==4&&(ie=2)),!1;var y=Error(i(520),{cause:c});if(y=ci(y,o),Qr===null?Qr=[y]:Qr.push(y),ie!==4&&(ie=2),a===null)return!0;c=ci(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Lh(o.stateNode,c,n),Jh(o,n),!1;case 1:if(a=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hn===null||!Hn.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Gg(p),Yg(p,n,o,c),Jh(o,p),!1}o=o.return}while(o!==null);return!1}var Xg=Error(i(461)),be=!1;function Ae(n,a,o,c){a.child=n===null?Qm(a,null,o,c):ms(a,n.child,o,c)}function Zg(n,a,o,c,p){o=o.render;var y=a.ref;if("ref"in c){var w={};for(var C in c)C!=="ref"&&(w[C]=c[C])}else w=c;return ws(a),c=xh(n,a,o,w,y,p),C=bh(),n!==null&&!be?(vh(n,a,p),Qi(n,a,p)):(Ft&&C&&lh(a),a.flags|=1,Ae(n,a,c,p),a.child)}function jg(n,a,o,c,p){if(n===null){var y=o.type;return typeof y=="function"&&!af(y)&&y.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=y,Wg(n,a,y,c,p)):(n=Il(o.type,null,c,a,a.mode,p),n.ref=a.ref,n.return=a,a.child=n)}if(y=n.child,!Gh(n,p)){var w=y.memoizedProps;if(o=o.compare,o=o!==null?o:Cr,o(w,c)&&n.ref===a.ref)return Qi(n,a,p)}return a.flags|=1,n=Fn(y,c),n.ref=a.ref,n.return=a,a.child=n}function Wg(n,a,o,c,p){if(n!==null){var y=n.memoizedProps;if(Cr(y,c)&&n.ref===a.ref)if(be=!1,a.pendingProps=c=y,Gh(n,p))n.flags&131072&&(be=!0);else return a.lanes=n.lanes,Qi(n,a,p)}return kh(n,a,o,c,p)}function Jg(n,a,o){var c=a.pendingProps,p=c.children,y=(a.stateNode._pendingVisibility&2)!==0,w=n!==null?n.memoizedState:null;if(Vr(n,a),c.mode==="hidden"||y){if(a.flags&128){if(c=w!==null?w.baseLanes|o:o,n!==null){for(p=a.child=n.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return Qg(n,a,c,o)}if(o&536870912)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&_l(a,w!==null?w.cachePool:null),w!==null?$m(a,w):fh(),Km(a);else return a.lanes=a.childLanes=536870912,Qg(n,a,w!==null?w.baseLanes|o:o,o)}else w!==null?(_l(a,w.cachePool),$m(a,w),En(),a.memoizedState=null):(n!==null&&_l(a,null),fh(),En());return Ae(n,a,p,o),a.child}function Qg(n,a,o,c){var p=gh();return p=p===null?null:{parent:ge._currentValue,pool:p},a.memoizedState={baseLanes:o,cachePool:p},n!==null&&_l(a,null),fh(),Km(a),n!==null&&Pr(n,a,c,!0),null}function Vr(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(a.flags|=2097664)}}function kh(n,a,o,c,p){return ws(a),o=xh(n,a,o,c,void 0,p),c=bh(),n!==null&&!be?(vh(n,a,p),Qi(n,a,p)):(Ft&&c&&lh(a),a.flags|=1,Ae(n,a,o,p),a.child)}function $g(n,a,o,c,p,y){return ws(a),a.updateQueue=null,o=sg(a,c,o,p),ng(n),c=bh(),n!==null&&!be?(vh(n,a,y),Qi(n,a,y)):(Ft&&c&&lh(a),a.flags|=1,Ae(n,a,o,y),a.child)}function Kg(n,a,o,c,p){if(ws(a),a.stateNode===null){var y=sa,w=o.contextType;typeof w=="object"&&w!==null&&(y=Ee(w)),y=new o(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Dh,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},jh(a),w=o.contextType,y.context=typeof w=="object"&&w!==null?Ee(w):sa,y.state=a.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Nh(a,o,w,c),y.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Dh.enqueueReplaceState(y,y.state,null),Yr(a,c,y,p),Gr(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(n===null){y=a.stateNode;var C=a.memoizedProps,z=vs(o,C);y.props=z;var k=y.context,G=o.contextType;w=sa,typeof G=="object"&&G!==null&&(w=Ee(G));var j=o.getDerivedStateFromProps;G=typeof j=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,G||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||k!==w)&&Ig(a,y,c,w),Bn=!1;var H=a.memoizedState;y.state=H,Yr(a,c,y,p),Gr(),k=a.memoizedState,C||H!==k||Bn?(typeof j=="function"&&(Nh(a,o,j,c),k=a.memoizedState),(z=Bn||Fg(a,o,z,c,H,k,w))?(G||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=k),y.props=c,y.state=k,y.context=w,c=z):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,Wh(n,a),w=a.memoizedProps,G=vs(o,w),y.props=G,j=a.pendingProps,H=y.context,k=o.contextType,z=sa,typeof k=="object"&&k!==null&&(z=Ee(k)),C=o.getDerivedStateFromProps,(k=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==j||H!==z)&&Ig(a,y,c,z),Bn=!1,H=a.memoizedState,y.state=H,Yr(a,c,y,p),Gr();var q=a.memoizedState;w!==j||H!==q||Bn||n!==null&&n.dependencies!==null&&Ll(n.dependencies)?(typeof C=="function"&&(Nh(a,o,C,c),q=a.memoizedState),(G=Bn||Fg(a,o,G,c,H,q,z)||n!==null&&n.dependencies!==null&&Ll(n.dependencies))?(k||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,q,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,q,z)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=q),y.props=c,y.state=q,y.context=z,c=G):(typeof y.componentDidUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(a.flags|=1024),c=!1)}return y=c,Vr(n,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,n!==null&&c?(a.child=ms(a,n.child,null,p),a.child=ms(a,null,o,p)):Ae(n,a,o,p),a.memoizedState=y.state,n=a.child):n=Qi(n,a,p),n}function ty(n,a,o,c){return Rr(),a.flags|=256,Ae(n,a,o,c),a.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function Fh(n){return{baseLanes:n,cachePool:ig()}}function Ih(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=yi),n}function ey(n,a,o){var c=a.pendingProps,p=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=n!==null&&n.memoizedState===null?!1:(me.current&2)!==0),w&&(p=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ft){if(p?Cn(a):En(),Ft){var C=_e,z;if(z=C){t:{for(z=C,C=Bi;z.nodeType!==8;){if(!C){C=null;break t}if(z=Ti(z.nextSibling),z===null){C=null;break t}}C=z}C!==null?(a.memoizedState={dehydrated:C,treeContext:fs!==null?{id:Zi,overflow:ji}:null,retryLane:536870912},z=gi(18,null,null,0),z.stateNode=C,z.return=a,a.child=z,De=a,_e=null,z=!0):z=!1}z||ps(a)}if(C=a.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return C.data==="$!"?a.lanes=16:a.lanes=536870912,null;Wi(a)}return C=c.children,c=c.fallback,p?(En(),p=a.mode,C=Vh({mode:"hidden",children:C},p),c=_s(c,p,o,null),C.return=a,c.return=a,C.sibling=c,a.child=C,p=a.child,p.memoizedState=Fh(o),p.childLanes=Ih(n,w,o),a.memoizedState=Uh,c):(Cn(a),Hh(a,C))}if(z=n.memoizedState,z!==null&&(C=z.dehydrated,C!==null)){if(y)a.flags&256?(Cn(a),a.flags&=-257,a=Ph(n,a,o)):a.memoizedState!==null?(En(),a.child=n.child,a.flags|=128,a=null):(En(),p=c.fallback,C=a.mode,c=Vh({mode:"visible",children:c.children},C),p=_s(p,C,o,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,ms(a,n.child,null,o),c=a.child,c.memoizedState=Fh(o),c.childLanes=Ih(n,w,o),a.memoizedState=Uh,a=p);else if(Cn(a),C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var k=w.dgst;w=k,c=Error(i(419)),c.stack="",c.digest=w,Or({value:c,source:null,stack:null}),a=Ph(n,a,o)}else if(be||Pr(n,a,o,!1),w=(o&n.childLanes)!==0,be||w){if(w=Xt,w!==null){if(c=o&-o,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(w.suspendedLanes|o)?0:c,c!==0&&c!==z.retryLane)throw z.retryLane=c,Tn(n,c),Le(w,n,c),Xg}C.data==="$?"||yf(),a=Ph(n,a,o)}else C.data==="$?"?(a.flags|=128,a.child=n.child,a=_S.bind(null,n),C._reactRetry=a,a=null):(n=z.treeContext,_e=Ti(C.nextSibling),De=a,Ft=!0,_i=null,Bi=!1,n!==null&&(hi[fi++]=Zi,hi[fi++]=ji,hi[fi++]=fs,Zi=n.id,ji=n.overflow,fs=a),a=Hh(a,c.children),a.flags|=4096);return a}return p?(En(),p=c.fallback,C=a.mode,z=n.child,k=z.sibling,c=Fn(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&31457280,k!==null?p=Fn(k,p):(p=_s(p,C,o,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,C=n.child.memoizedState,C===null?C=Fh(o):(z=C.cachePool,z!==null?(k=ge._currentValue,z=z.parent!==k?{parent:k,pool:k}:z):z=ig(),C={baseLanes:C.baseLanes|o,cachePool:z}),p.memoizedState=C,p.childLanes=Ih(n,w,o),a.memoizedState=Uh,c):(Cn(a),o=n.child,n=o.sibling,o=Fn(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,n!==null&&(w=a.deletions,w===null?(a.deletions=[n],a.flags|=16):w.push(n)),a.child=o,a.memoizedState=null,o)}function Hh(n,a){return a=Vh({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Vh(n,a){return Cy(n,a,0,null)}function Ph(n,a,o){return ms(a,n.child,null,o),n=Hh(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function iy(n,a,o){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a),Xh(n.return,a,o)}function qh(n,a,o,c,p){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=p)}function ny(n,a,o){var c=a.pendingProps,p=c.revealOrder,y=c.tail;if(Ae(n,a,c.children,o),c=me.current,c&2)c=c&1|2,a.flags|=128;else{if(n!==null&&n.flags&128)t:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&iy(n,o,a);else if(n.tag===19)iy(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(Nt(me,c),p){case"forwards":for(o=a.child,p=null;o!==null;)n=o.alternate,n!==null&&Ml(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=a.child,a.child=null):(p=o.sibling,o.sibling=null),qh(a,!1,p,o,y);break;case"backwards":for(o=null,p=a.child,a.child=null;p!==null;){if(n=p.alternate,n!==null&&Ml(n)===null){a.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}qh(a,!0,o,null,y);break;case"together":qh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Qi(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),In|=a.lanes,!(o&a.childLanes))if(n!==null){if(Pr(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,o=Fn(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=Fn(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function Gh(n,a){return n.lanes&a?!0:(n=n.dependencies,!!(n!==null&&Ll(n)))}function cS(n,a,o){switch(a.tag){case 3:pt(a,a.stateNode.containerInfo),On(a,ge,n.memoizedState.cache),Rr();break;case 27:case 5:Dt(a);break;case 4:pt(a,a.stateNode.containerInfo);break;case 10:On(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Cn(a),a.flags|=128,null):o&a.child.childLanes?ey(n,a,o):(Cn(a),n=Qi(n,a,o),n!==null?n.sibling:null);Cn(a);break;case 19:var p=(n.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Pr(n,a,o,!1),c=(o&a.childLanes)!==0),p){if(c)return ny(n,a,o);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Nt(me,me.current),c)break;return null;case 22:case 23:return a.lanes=0,Jg(n,a,o);case 24:On(a,ge,n.memoizedState.cache)}return Qi(n,a,o)}function sy(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)be=!0;else{if(!Gh(n,o)&&!(a.flags&128))return be=!1,cS(n,a,o);be=!!(n.flags&131072)}else be=!1,Ft&&a.flags&1048576&&Pm(a,xl,a.index);switch(a.lanes=0,a.tag){case 16:t:{n=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")af(c)?(n=vs(c,n),a.tag=1,a=Kg(null,a,c,n,o)):(a.tag=0,a=kh(null,a,c,n,o));else{if(c!=null){if(p=c.$$typeof,p===v){a.tag=11,a=Zg(null,a,c,n,o);break t}else if(p===_){a.tag=14,a=jg(null,a,c,n,o);break t}}throw a=I(c)||c,Error(i(306,a,""))}}return a;case 0:return kh(n,a,a.type,a.pendingProps,o);case 1:return c=a.type,p=vs(c,a.pendingProps),Kg(n,a,c,p,o);case 3:t:{if(pt(a,a.stateNode.containerInfo),n===null)throw Error(i(387));var y=a.pendingProps;p=a.memoizedState,c=p.element,Wh(n,a),Yr(a,y,null,o);var w=a.memoizedState;if(y=w.cache,On(a,ge,y),y!==p.cache&&Zh(a,[ge],o,!0),Gr(),y=w.element,p.isDehydrated)if(p={element:y,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=ty(n,a,y,o);break t}else if(y!==c){c=ci(Error(i(424)),a),Or(c),a=ty(n,a,y,o);break t}else for(_e=Ti(a.stateNode.containerInfo.firstChild),De=a,Ft=!0,_i=null,Bi=!0,o=Qm(a,null,y,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Rr(),y===c){a=Qi(n,a,o);break t}Ae(n,a,y,o)}a=a.child}return a;case 26:return Vr(n,a),n===null?(o=o0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Ft||(o=a.type,n=a.pendingProps,c=Ql(tt.current).createElement(o),c[Ce]=a,c[He]=n,Te(c,o,n),xe(c),a.stateNode=c):a.memoizedState=o0(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Dt(a),n===null&&Ft&&(c=a.stateNode=s0(a.type,a.pendingProps,tt.current),De=a,Bi=!0,_e=Ti(c.firstChild)),c=a.pendingProps.children,n!==null||Ft?Ae(n,a,c,o):a.child=ms(a,null,c,o),Vr(n,a),a.child;case 5:return n===null&&Ft&&((p=c=_e)&&(c=HS(c,a.type,a.pendingProps,Bi),c!==null?(a.stateNode=c,De=a,_e=Ti(c.firstChild),Bi=!1,p=!0):p=!1),p||ps(a)),Dt(a),p=a.type,y=a.pendingProps,w=n!==null?n.memoizedProps:null,c=y.children,Of(p,y)?c=null:w!==null&&Of(p,w)&&(a.flags|=32),a.memoizedState!==null&&(p=xh(n,a,nS,null,null,o),ro._currentValue=p),Vr(n,a),Ae(n,a,c,o),a.child;case 6:return n===null&&Ft&&((n=o=_e)&&(o=VS(o,a.pendingProps,Bi),o!==null?(a.stateNode=o,De=a,_e=null,n=!0):n=!1),n||ps(a)),null;case 13:return ey(n,a,o);case 4:return pt(a,a.stateNode.containerInfo),c=a.pendingProps,n===null?a.child=ms(a,null,c,o):Ae(n,a,c,o),a.child;case 11:return Zg(n,a,a.type,a.pendingProps,o);case 7:return Ae(n,a,a.pendingProps,o),a.child;case 8:return Ae(n,a,a.pendingProps.children,o),a.child;case 12:return Ae(n,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,On(a,a.type,c.value),Ae(n,a,c.children,o),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,ws(a),p=Ee(p),c=c(p),a.flags|=1,Ae(n,a,c,o),a.child;case 14:return jg(n,a,a.type,a.pendingProps,o);case 15:return Wg(n,a,a.type,a.pendingProps,o);case 19:return ny(n,a,o);case 22:return Jg(n,a,o);case 24:return ws(a),c=Ee(ge),n===null?(p=gh(),p===null&&(p=Xt,y=ph(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),a.memoizedState={parent:c,cache:p},jh(a),On(a,ge,p)):(n.lanes&o&&(Wh(n,a),Yr(a,null,null,o),Gr()),p=n.memoizedState,y=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),On(a,ge,c)):(c=y.cache,On(a,ge,c),c!==p.cache&&Zh(a,[ge],o,!0))),Ae(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Yh=Ot(null),Ss=null,$i=null;function On(n,a,o){Nt(Yh,a._currentValue),a._currentValue=o}function Ki(n){n._currentValue=Yh.current,te(Yh)}function Xh(n,a,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),n===o)break;n=n.return}}function Zh(n,a,o,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var y=p.dependencies;if(y!==null){var w=p.child;y=y.firstContext;t:for(;y!==null;){var C=y;y=p;for(var z=0;z<a.length;z++)if(C.context===a[z]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),Xh(y.return,o,n),c||(w=null);break t}y=C.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(i(341));w.lanes|=o,y=w.alternate,y!==null&&(y.lanes|=o),Xh(w,o,n),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===n){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Pr(n,a,o,c){n=null;for(var p=a,y=!1;p!==null;){if(!y){if(p.flags&524288)y=!0;else if(p.flags&262144)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var C=p.type;We(p.pendingProps.value,w.value)||(n!==null?n.push(C):n=[C])}}else if(p===it.current){if(w=p.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(ro):n=[ro])}p=p.return}n!==null&&Zh(a,n,o,c),a.flags|=262144}function Ll(n){for(n=n.firstContext;n!==null;){if(!We(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ws(n){Ss=n,$i=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ee(n){return ay(Ss,n)}function kl(n,a){return Ss===null&&ws(n),ay(n,a)}function ay(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},$i===null){if(n===null)throw Error(i(308));$i=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else $i=$i.next=a;return o}var Bn=!1;function jh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wh(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Nn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Dn(n,a,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,Jt&2){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=gl(n),Hm(n,null,o),a}return ml(n,c,a,o),gl(n)}function qr(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194176)!==0)){var c=a.lanes;c&=n.pendingLanes,o|=c,a.lanes=o,jp(n,o)}}function Jh(n,a){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=w:y=y.next=w,o=o.next}while(o!==null);y===null?p=y=a:y=y.next=a}else p=y=a;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var Qh=!1;function Gr(){if(Qh){var n=ca;if(n!==null)throw n}}function Yr(n,a,o,c){Qh=!1;var p=n.updateQueue;Bn=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var z=C,k=z.next;z.next=null,w===null?y=k:w.next=k,w=z;var G=n.alternate;G!==null&&(G=G.updateQueue,C=G.lastBaseUpdate,C!==w&&(C===null?G.firstBaseUpdate=k:C.next=k,G.lastBaseUpdate=z))}if(y!==null){var j=p.baseState;w=0,G=k=z=null,C=y;do{var H=C.lane&-536870913,q=H!==C.lane;if(q?(kt&H)===H:(c&H)===H){H!==0&&H===ua&&(Qh=!0),G!==null&&(G=G.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var lt=n,bt=C;H=a;var ne=o;switch(bt.tag){case 1:if(lt=bt.payload,typeof lt=="function"){j=lt.call(ne,j,H);break t}j=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=bt.payload,H=typeof lt=="function"?lt.call(ne,j,H):lt,H==null)break t;j=X({},j,H);break t;case 2:Bn=!0}}H=C.callback,H!==null&&(n.flags|=64,q&&(n.flags|=8192),q=p.callbacks,q===null?p.callbacks=[H]:q.push(H))}else q={lane:H,tag:C.tag,payload:C.payload,callback:C.callback,next:null},G===null?(k=G=q,z=j):G=G.next=q,w|=H;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;q=C,C=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);G===null&&(z=j),p.baseState=z,p.firstBaseUpdate=k,p.lastBaseUpdate=G,y===null&&(p.shared.lanes=0),In|=w,n.lanes=w,n.memoizedState=j}}function ry(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function oy(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)ry(o[n],a)}function Xr(n,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&n)===n){c=void 0;var y=o.create,w=o.inst;c=y(),w.destroy=c}o=o.next}while(o!==p)}}catch(C){Gt(a,a.return,C)}}function Ln(n,a,o){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&n)===n){var w=c.inst,C=w.destroy;if(C!==void 0){w.destroy=void 0,p=a;var z=o;try{C()}catch(k){Gt(p,z,k)}}}c=c.next}while(c!==y)}}catch(k){Gt(a,a.return,k)}}function ly(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{oy(a,o)}catch(c){Gt(n,n.return,c)}}}function uy(n,a,o){o.props=vs(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Gt(n,a,c)}}function Ms(n,a){try{var o=n.ref;if(o!==null){var c=n.stateNode;switch(n.tag){case 26:case 27:case 5:var p=c;break;default:p=c}typeof o=="function"?n.refCleanup=o(p):o.current=p}}catch(y){Gt(n,a,y)}}function Je(n,a){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Gt(n,a,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Gt(n,a,p)}else o.current=null}function cy(n){var a=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Gt(n,n.return,p)}}function hy(n,a,o){try{var c=n.stateNode;LS(c,n.type,o,a),c[He]=a}catch(p){Gt(n,n.return,p)}}function fy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function $h(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||fy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Kh(n,a,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(n,a):o.insertBefore(n,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(n,o)):(a=o,a.appendChild(n)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Jl));else if(c!==4&&c!==27&&(n=n.child,n!==null))for(Kh(n,a,o),n=n.sibling;n!==null;)Kh(n,a,o),n=n.sibling}function Ul(n,a,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(c!==4&&c!==27&&(n=n.child,n!==null))for(Ul(n,a,o),n=n.sibling;n!==null;)Ul(n,a,o),n=n.sibling}var tn=!1,ee=!1,tf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,ve=null,py=!1;function hS(n,a){if(n=n.containerInfo,zf=nu,n=Om(n),ih(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break t}var w=0,C=-1,z=-1,k=0,G=0,j=n,H=null;e:for(;;){for(var q;j!==o||p!==0&&j.nodeType!==3||(C=w+p),j!==y||c!==0&&j.nodeType!==3||(z=w+c),j.nodeType===3&&(w+=j.nodeValue.length),(q=j.firstChild)!==null;)H=j,j=q;for(;;){if(j===n)break e;if(H===o&&++k===p&&(C=w),H===y&&++G===c&&(z=w),(q=j.nextSibling)!==null)break;j=H,H=j.parentNode}j=q}o=C===-1||z===-1?null:{start:C,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rf={focusedElem:n,selectionRange:o},nu=!1,ve=a;ve!==null;)if(a=ve,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,ve=n;else for(;ve!==null;){switch(a=ve,y=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&y!==null){n=void 0,o=a,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var lt=vs(o.type,p,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(lt,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(bt){Gt(o,o.return,bt)}}break;case 3:if(n&1024){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)Df(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Df(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,ve=n;break}ve=a.return}return lt=py,py=!1,lt}function my(n,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:nn(n,o),c&4&&Xr(5,o);break;case 1:if(nn(n,o),c&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(C){Gt(o,o.return,C)}else{var p=vs(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(p,a,n.__reactInternalSnapshotBeforeUpdate)}catch(C){Gt(o,o.return,C)}}c&64&&ly(o),c&512&&Ms(o,o.return);break;case 3:if(nn(n,o),c&64&&(c=o.updateQueue,c!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{oy(c,n)}catch(C){Gt(o,o.return,C)}}break;case 26:nn(n,o),c&512&&Ms(o,o.return);break;case 27:case 5:nn(n,o),a===null&&c&4&&cy(o),c&512&&Ms(o,o.return);break;case 12:nn(n,o);break;case 13:nn(n,o),c&4&&xy(n,o);break;case 22:if(p=o.memoizedState!==null||tn,!p){a=a!==null&&a.memoizedState!==null||ee;var y=tn,w=ee;tn=p,(ee=a)&&!w?kn(n,o,(o.subtreeFlags&8772)!==0):nn(n,o),tn=y,ee=w}c&512&&(o.memoizedProps.mode==="manual"?Ms(o,o.return):Je(o,o.return));break;default:nn(n,o)}}function gy(n){var a=n.alternate;a!==null&&(n.alternate=null,gy(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Hc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var fe=null,Qe=!1;function en(n,a,o){for(o=o.child;o!==null;)yy(n,a,o),o=o.sibling}function yy(n,a,o){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(mr,o)}catch{}switch(o.tag){case 26:ee||Je(o,a),en(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ee||Je(o,a);var c=fe,p=Qe;for(fe=o.stateNode,en(n,a,o),o=o.stateNode,a=o.attributes;a.length;)o.removeAttributeNode(a[0]);Hc(o),fe=c,Qe=p;break;case 5:ee||Je(o,a);case 6:p=fe;var y=Qe;if(fe=null,en(n,a,o),fe=p,Qe=y,fe!==null)if(Qe)try{n=fe,c=o.stateNode,n.nodeType===8?n.parentNode.removeChild(c):n.removeChild(c)}catch(w){Gt(o,a,w)}else try{fe.removeChild(o.stateNode)}catch(w){Gt(o,a,w)}break;case 18:fe!==null&&(Qe?(a=fe,o=o.stateNode,a.nodeType===8?Nf(a.parentNode,o):a.nodeType===1&&Nf(a,o),co(a)):Nf(fe,o.stateNode));break;case 4:c=fe,p=Qe,fe=o.stateNode.containerInfo,Qe=!0,en(n,a,o),fe=c,Qe=p;break;case 0:case 11:case 14:case 15:ee||Ln(2,o,a),ee||Ln(4,o,a),en(n,a,o);break;case 1:ee||(Je(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&uy(o,a,c)),en(n,a,o);break;case 21:en(n,a,o);break;case 22:ee||Je(o,a),ee=(c=ee)||o.memoizedState!==null,en(n,a,o),ee=c;break;default:en(n,a,o)}}function xy(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{co(n)}catch(o){Gt(a,a.return,o)}}function fS(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new dy),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new dy),a;default:throw Error(i(435,n.tag))}}function ef(n,a){var o=fS(n);a.forEach(function(c){var p=AS.bind(null,n,c);o.has(c)||(o.add(c),c.then(p,p))})}function pi(n,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=n,w=a,C=w;t:for(;C!==null;){switch(C.tag){case 27:case 5:fe=C.stateNode,Qe=!1;break t;case 3:fe=C.stateNode.containerInfo,Qe=!0;break t;case 4:fe=C.stateNode.containerInfo,Qe=!0;break t}C=C.return}if(fe===null)throw Error(i(160));yy(y,w,p),fe=null,Qe=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)by(a,n),a=a.sibling}var Ai=null;function by(n,a){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pi(a,n),mi(n),c&4&&(Ln(3,n,n.return),Xr(3,n),Ln(5,n,n.return));break;case 1:pi(a,n),mi(n),c&512&&(ee||o===null||Je(o,o.return)),c&64&&tn&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Ai;if(pi(a,n),mi(n),c&512&&(ee||o===null||Je(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[xr]||y[Ce]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),Te(y,c,o),y[Ce]=n,xe(y),c=y;break t;case"link":var w=c0("link","href",p).get(c+(o.href||""));if(w){for(var C=0;C<w.length;C++)if(y=w[C],y.getAttribute("href")===(o.href==null?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(C,1);break e}}y=p.createElement(c),Te(y,c,o),p.head.appendChild(y);break;case"meta":if(w=c0("meta","content",p).get(c+(o.content||""))){for(C=0;C<w.length;C++)if(y=w[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(C,1);break e}}y=p.createElement(c),Te(y,c,o),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ce]=n,xe(y),c=y}n.stateNode=c}else h0(p,n.type,n.stateNode);else n.stateNode=u0(p,c,n.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?h0(p,n.type,n.stateNode):u0(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&hy(n,n.memoizedProps,o.memoizedProps)}break;case 27:if(c&4&&n.alternate===null){p=n.stateNode,y=n.memoizedProps;try{for(var z=p.firstChild;z;){var k=z.nextSibling,G=z.nodeName;z[xr]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&z.rel.toLowerCase()==="stylesheet"||p.removeChild(z),z=k}for(var j=n.type,H=p.attributes;H.length;)p.removeAttributeNode(H[0]);Te(p,j,y),p[Ce]=n,p[He]=y}catch(lt){Gt(n,n.return,lt)}}case 5:if(pi(a,n),mi(n),c&512&&(ee||o===null||Je(o,o.return)),n.flags&32){p=n.stateNode;try{Qs(p,"")}catch(lt){Gt(n,n.return,lt)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,hy(n,p,o!==null?o.memoizedProps:p)),c&1024&&(tf=!0);break;case 6:if(pi(a,n),mi(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(lt){Gt(n,n.return,lt)}}break;case 3:if(tu=null,p=Ai,Ai=$l(a.containerInfo),pi(a,n),Ai=p,mi(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{co(a.containerInfo)}catch(lt){Gt(n,n.return,lt)}tf&&(tf=!1,vy(n));break;case 4:c=Ai,Ai=$l(n.stateNode.containerInfo),pi(a,n),mi(n),Ai=c;break;case 12:pi(a,n),mi(n);break;case 13:pi(a,n),mi(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hf=ue()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ef(n,c)));break;case 22:if(c&512&&(ee||o===null||Je(o,o.return)),z=n.memoizedState!==null,k=o!==null&&o.memoizedState!==null,G=tn,j=ee,tn=G||z,ee=j||k,pi(a,n),ee=j,tn=G,mi(n),a=n.stateNode,a._current=n,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=z?a._visibility&-2:a._visibility|1,z&&(a=tn||ee,o===null||k||a||pa(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))t:for(o=null,a=n;;){if(a.tag===5||a.tag===26||a.tag===27){if(o===null){k=o=a;try{if(p=k.stateNode,z)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=k.stateNode,C=k.memoizedProps.style;var q=C!=null&&C.hasOwnProperty("display")?C.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(lt){Gt(k,k.return,lt)}}}else if(a.tag===6){if(o===null){k=a;try{k.stateNode.nodeValue=z?"":k.memoizedProps}catch(lt){Gt(k,k.return,lt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,ef(n,o))));break;case 19:pi(a,n),mi(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ef(n,c)));break;case 21:break;default:pi(a,n),mi(n)}}function mi(n){var a=n.flags;if(a&2){try{if(n.tag!==27){t:{for(var o=n.return;o!==null;){if(fy(o)){var c=o;break t}o=o.return}throw Error(i(160))}switch(c.tag){case 27:var p=c.stateNode,y=$h(n);Ul(n,y,p);break;case 5:var w=c.stateNode;c.flags&32&&(Qs(w,""),c.flags&=-33);var C=$h(n);Ul(n,C,w);break;case 3:case 4:var z=c.stateNode.containerInfo,k=$h(n);Kh(n,k,z);break;default:throw Error(i(161))}}}catch(G){Gt(n,n.return,G)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function vy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;vy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function nn(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)my(n,a.alternate,a),a=a.sibling}function pa(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ln(4,a,a.return),pa(a);break;case 1:Je(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&uy(a,a.return,o),pa(a);break;case 26:case 27:case 5:Je(a,a.return),pa(a);break;case 22:Je(a,a.return),a.memoizedState===null&&pa(a);break;default:pa(a)}n=n.sibling}}function kn(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=n,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:kn(p,y,o),Xr(4,y);break;case 1:if(kn(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(k){Gt(c,c.return,k)}if(c=y,p=c.updateQueue,p!==null){var C=c.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)ry(z[p],C)}catch(k){Gt(c,c.return,k)}}o&&w&64&&ly(y),Ms(y,y.return);break;case 26:case 27:case 5:kn(p,y,o),o&&c===null&&w&4&&cy(y),Ms(y,y.return);break;case 12:kn(p,y,o);break;case 13:kn(p,y,o),o&&w&4&&xy(p,y);break;case 22:y.memoizedState===null&&kn(p,y,o),Ms(y,y.return);break;default:kn(p,y,o)}a=a.sibling}}function nf(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&kr(o))}function sf(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&kr(n))}function Un(n,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Sy(n,a,o,c),a=a.sibling}function Sy(n,a,o,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Un(n,a,o,c),p&2048&&Xr(9,a);break;case 3:Un(n,a,o,c),p&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&kr(n)));break;case 12:if(p&2048){Un(n,a,o,c),n=a.stateNode;try{var y=a.memoizedProps,w=y.id,C=y.onPostCommit;typeof C=="function"&&C(w,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(z){Gt(a,a.return,z)}}else Un(n,a,o,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Un(n,a,o,c):Zr(n,a):y._visibility&4?Un(n,a,o,c):(y._visibility|=4,ma(n,a,o,c,(a.subtreeFlags&10256)!==0)),p&2048&&nf(a.alternate,a);break;case 24:Un(n,a,o,c),p&2048&&sf(a.alternate,a);break;default:Un(n,a,o,c)}}function ma(n,a,o,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=n,w=a,C=o,z=c,k=w.flags;switch(w.tag){case 0:case 11:case 15:ma(y,w,C,z,p),Xr(8,w);break;case 23:break;case 22:var G=w.stateNode;w.memoizedState!==null?G._visibility&4?ma(y,w,C,z,p):Zr(y,w):(G._visibility|=4,ma(y,w,C,z,p)),p&&k&2048&&nf(w.alternate,w);break;case 24:ma(y,w,C,z,p),p&&k&2048&&sf(w.alternate,w);break;default:ma(y,w,C,z,p)}a=a.sibling}}function Zr(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,c=a,p=c.flags;switch(c.tag){case 22:Zr(o,c),p&2048&&nf(c.alternate,c);break;case 24:Zr(o,c),p&2048&&sf(c.alternate,c);break;default:Zr(o,c)}a=a.sibling}}var jr=8192;function ga(n){if(n.subtreeFlags&jr)for(n=n.child;n!==null;)wy(n),n=n.sibling}function wy(n){switch(n.tag){case 26:ga(n),n.flags&jr&&n.memoizedState!==null&&tw(Ai,n.memoizedState,n.memoizedProps);break;case 5:ga(n);break;case 3:case 4:var a=Ai;Ai=$l(n.stateNode.containerInfo),ga(n),Ai=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=jr,jr=16777216,ga(n),jr=a):ga(n));break;default:ga(n)}}function My(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Wr(n){var a=n.deletions;if(n.flags&16){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];ve=c,Ay(c,n)}My(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(n),n=n.sibling}function _y(n){switch(n.tag){case 0:case 11:case 15:Wr(n),n.flags&2048&&Ln(9,n,n.return);break;case 3:Wr(n);break;case 12:Wr(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&4&&(n.return===null||n.return.tag!==13)?(a._visibility&=-5,Fl(n)):Wr(n);break;default:Wr(n)}}function Fl(n){var a=n.deletions;if(n.flags&16){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];ve=c,Ay(c,n)}My(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ln(8,a,a.return),Fl(a);break;case 22:o=a.stateNode,o._visibility&4&&(o._visibility&=-5,Fl(a));break;default:Fl(a)}n=n.sibling}}function Ay(n,a){for(;ve!==null;){var o=ve;switch(o.tag){case 0:case 11:case 15:Ln(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:kr(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ve=c;else t:for(o=n;ve!==null;){c=ve;var p=c.sibling,y=c.return;if(gy(c),c===o){ve=null;break t}if(p!==null){p.return=y,ve=p;break t}ve=y}}}function dS(n,a,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(n,a,o,c){return new dS(n,a,o,c)}function af(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fn(n,a){var o=n.alternate;return o===null?(o=gi(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&31457280,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ty(n,a){n.flags&=31457282;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Il(n,a,o,c,p,y){var w=0;if(c=n,typeof n=="function")af(n)&&(w=1);else if(typeof n=="string")w=$S(n,o,le.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case f:return _s(o.children,p,y,a);case d:w=8,p|=24;break;case m:return n=gi(12,o,a,p|2),n.elementType=m,n.lanes=y,n;case S:return n=gi(13,o,a,p),n.elementType=S,n.lanes=y,n;case M:return n=gi(19,o,a,p),n.elementType=M,n.lanes=y,n;case T:return Cy(o,p,y,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x:case b:w=10;break t;case g:w=9;break t;case v:w=11;break t;case _:w=14;break t;case A:w=16,c=null;break t}w=29,o=Error(i(130,n===null?"null":typeof n,"")),c=null}return a=gi(w,o,a,p),a.elementType=n,a.type=c,a.lanes=y,a}function _s(n,a,o,c){return n=gi(7,n,c,a),n.lanes=o,n}function Cy(n,a,o,c){n=gi(22,n,c,a),n.elementType=T,n.lanes=o;var p={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=p._current;if(y===null)throw Error(i(456));if(!(p._pendingVisibility&2)){var w=Tn(y,2);w!==null&&(p._pendingVisibility|=2,Le(w,y,2))}},attach:function(){var y=p._current;if(y===null)throw Error(i(456));if(p._pendingVisibility&2){var w=Tn(y,2);w!==null&&(p._pendingVisibility&=-3,Le(w,y,2))}}};return n.stateNode=p,n}function rf(n,a,o){return n=gi(6,n,null,a),n.lanes=o,n}function of(n,a,o){return a=gi(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function sn(n){n.flags|=4}function Ey(n,a){if(a.type!=="stylesheet"||a.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!f0(a)){if(a=di.current,a!==null&&((kt&4194176)===kt?Ni!==null:(kt&62914560)!==kt&&!(kt&536870912)||a!==Ni))throw Nr=hh,Ym;n.flags|=8192}}function Hl(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Xp():536870912,n.lanes|=a,xa|=a)}function Jr(n,a){if(!Ft)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Wt(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(a)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&31457280,c|=p.flags&31457280,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=o,a}function pS(n,a,o){var c=a.pendingProps;switch(uh(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(a),null;case 1:return Wt(a),null;case 3:return o=a.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ki(ge),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(zr(a)?sn(a):n===null||n.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,_i!==null&&(mf(_i),_i=null))),Wt(a),null;case 26:return o=a.memoizedState,n===null?(sn(a),o!==null?(Wt(a),Ey(a,o)):(Wt(a),a.flags&=-16777217)):o?o!==n.memoizedState?(sn(a),Wt(a),Ey(a,o)):(Wt(a),a.flags&=-16777217):(n.memoizedProps!==c&&sn(a),Wt(a),a.flags&=-16777217),null;case 27:Lt(a),o=tt.current;var p=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==c&&sn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Wt(a),null}n=le.current,zr(a)?qm(a):(n=s0(p,c,o),a.stateNode=n,sn(a))}return Wt(a),null;case 5:if(Lt(a),o=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&sn(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return Wt(a),null}if(n=le.current,zr(a))qm(a);else{switch(p=Ql(tt.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}n[Ce]=a,n[He]=c;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=n;t:switch(Te(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&sn(a)}}return Wt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==c&&sn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(n=tt.current,zr(a)){if(n=a.stateNode,o=a.memoizedProps,c=null,p=De,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[Ce]=a,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||$y(n.nodeValue,o)),n||ps(a)}else n=Ql(n).createTextNode(c),n[Ce]=a,a.stateNode=n}return Wt(a),null;case 13:if(c=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=zr(a),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ce]=a}else Rr(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Wt(a),p=!1}else _i!==null&&(mf(_i),_i=null),p=!0;if(!p)return a.flags&256?(Wi(a),a):(Wi(a),null)}if(Wi(a),a.flags&128)return a.lanes=o,a;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return o!==n&&o&&(a.child.flags|=8192),Hl(a,a.updateQueue),Wt(a),null;case 4:return nt(),n===null&&Tf(a.stateNode.containerInfo),Wt(a),null;case 10:return Ki(a.type),Wt(a),null;case 19:if(te(me),p=a.memoizedState,p===null)return Wt(a),null;if(c=(a.flags&128)!==0,y=p.rendering,y===null)if(c)Jr(p,!1);else{if(ie!==0||n!==null&&n.flags&128)for(n=a.child;n!==null;){if(y=Ml(n),y!==null){for(a.flags|=128,Jr(p,!1),n=y.updateQueue,a.updateQueue=n,Hl(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)Ty(o,n),o=o.sibling;return Nt(me,me.current&1|2),a.child}n=n.sibling}p.tail!==null&&ue()>Vl&&(a.flags|=128,c=!0,Jr(p,!1),a.lanes=4194304)}else{if(!c)if(n=Ml(y),n!==null){if(a.flags|=128,c=!0,n=n.updateQueue,a.updateQueue=n,Hl(a,n),Jr(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Ft)return Wt(a),null}else 2*ue()-p.renderingStartTime>Vl&&o!==536870912&&(a.flags|=128,c=!0,Jr(p,!1),a.lanes=4194304);p.isBackwards?(y.sibling=a.child,a.child=y):(n=p.last,n!==null?n.sibling=y:a.child=y,p.last=y)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=ue(),a.sibling=null,n=me.current,Nt(me,c?n&1|2:n&1),a):(Wt(a),null);case 22:case 23:return Wi(a),dh(),c=a.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?o&536870912&&!(a.flags&128)&&(Wt(a),a.subtreeFlags&6&&(a.flags|=8192)):Wt(a),o=a.updateQueue,o!==null&&Hl(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),n!==null&&te(gs),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Ki(ge),Wt(a),null;case 25:return null}throw Error(i(156,a.tag))}function mS(n,a){switch(uh(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Ki(ge),nt(),n=a.flags,n&65536&&!(n&128)?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Lt(a),null;case 13:if(Wi(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Rr()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return te(me),null;case 4:return nt(),null;case 10:return Ki(a.type),null;case 22:case 23:return Wi(a),dh(),n!==null&&te(gs),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Ki(ge),null;case 25:return null;default:return null}}function zy(n,a){switch(uh(a),a.tag){case 3:Ki(ge),nt();break;case 26:case 27:case 5:Lt(a);break;case 4:nt();break;case 13:Wi(a);break;case 19:te(me);break;case 10:Ki(a.type);break;case 22:case 23:Wi(a),dh(),n!==null&&te(gs);break;case 24:Ki(ge)}}var gS={getCacheForType:function(n){var a=Ee(ge),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o}},yS=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Xt=null,Rt=null,kt=0,Zt=0,$e=null,an=!1,ya=!1,lf=!1,rn=0,ie=0,In=0,As=0,uf=0,yi=0,xa=0,Qr=null,Li=null,cf=!1,hf=0,Vl=1/0,Pl=null,Hn=null,ql=!1,Ts=null,$r=0,ff=0,df=null,Kr=0,pf=null;function Ke(){if(Jt&2&&kt!==0)return kt&-kt;if(V.T!==null){var n=ua;return n!==0?n:wf()}return Jp()}function Ry(){yi===0&&(yi=!(kt&536870912)||Ft?Yp():536870912);var n=di.current;return n!==null&&(n.flags|=32),yi}function Le(n,a,o){(n===Xt&&Zt===2||n.cancelPendingCommit!==null)&&(ba(n,0),on(n,kt,yi,!1)),yr(n,o),(!(Jt&2)||n!==Xt)&&(n===Xt&&(!(Jt&2)&&(As|=o),ie===4&&on(n,kt,yi,!1)),ki(n))}function Oy(n,a,o){if(Jt&6)throw Error(i(327));var c=!o&&(a&60)===0&&(a&n.expiredLanes)===0||gr(n,a),p=c?vS(n,a):xf(n,a,!0),y=c;do{if(p===0){ya&&!c&&on(n,a,0,!1);break}else if(p===6)on(n,a,0,!an);else{if(o=n.current.alternate,y&&!xS(o)){p=xf(n,a,!1),y=!1;continue}if(p===2){if(y=a,n.errorRecoveryDisabledLanes&y)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var C=n;p=Qr;var z=C.current.memoizedState.isDehydrated;if(z&&(ba(C,w).flags|=256),w=xf(C,w,!1),w!==2){if(lf&&!z){C.errorRecoveryDisabledLanes|=y,As|=y,p=4;break t}y=Li,Li=p,y!==null&&mf(y)}p=w}if(y=!1,p!==2)continue}}if(p===1){ba(n,0),on(n,a,0,!0);break}t:{switch(c=n,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){on(c,a,yi,!an);break t}break;case 2:Li=null;break;case 3:case 5:break;default:throw Error(i(329))}if(c.finishedWork=o,c.finishedLanes=a,(a&62914560)===a&&(y=hf+300-ue(),10<y)){if(on(c,a,yi,!an),il(c,0)!==0)break t;c.timeoutHandle=e0(By.bind(null,c,o,Li,Pl,cf,a,yi,As,xa,an,2,-0,0),y);break t}By(c,o,Li,Pl,cf,a,yi,As,xa,an,0,-0,0)}}break}while(!0);ki(n)}function mf(n){Li===null?Li=n:Li.push.apply(Li,n)}function By(n,a,o,c,p,y,w,C,z,k,G,j,H){var q=a.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:KS},wy(a),a=ew(),a!==null)){n.cancelPendingCommit=a(Iy.bind(null,n,o,c,p,w,C,z,1,j,H)),on(n,y,w,!k);return}Iy(n,o,c,p,w,C,z,G,j,H)}function xS(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!We(y(),p))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function on(n,a,o,c){a&=~uf,a&=~As,n.suspendedLanes|=a,n.pingedLanes&=~a,c&&(n.warmLanes|=a),c=n.expirationTimes;for(var p=a;0<p;){var y=31-je(p),w=1<<y;c[y]=-1,p&=~w}o!==0&&Zp(n,o,a)}function Gl(){return Jt&6?!0:(to(0),!1)}function gf(){if(Rt!==null){if(Zt===0)var n=Rt.return;else n=Rt,$i=Ss=null,Sh(n),oa=null,Dr=0,n=Rt;for(;n!==null;)zy(n.alternate,n),n=n.return;Rt=null}}function ba(n,a){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,US(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),gf(),Xt=n,Rt=o=Fn(n.current,null),kt=a,Zt=0,$e=null,an=!1,ya=gr(n,a),lf=!1,xa=yi=uf=As=In=ie=0,Li=Qr=null,cf=!1,a&8&&(a|=a&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=a;0<c;){var p=31-je(c),y=1<<p;a|=n[p],c&=~y}return rn=a,pl(),o}function Ny(n,a){Ct=null,V.H=Di,a===Br?(a=jm(),Zt=3):a===Ym?(a=jm(),Zt=4):Zt=a===Xg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,$e=a,Rt===null&&(ie=1,Dl(n,ci(a,n.current)))}function Dy(){var n=V.H;return V.H=Di,n===null?Di:n}function Ly(){var n=V.A;return V.A=gS,n}function yf(){ie=4,an||(kt&4194176)!==kt&&di.current!==null||(ya=!0),!(In&134217727)&&!(As&134217727)||Xt===null||on(Xt,kt,yi,!1)}function xf(n,a,o){var c=Jt;Jt|=2;var p=Dy(),y=Ly();(Xt!==n||kt!==a)&&(Pl=null,ba(n,a)),a=!1;var w=ie;t:do try{if(Zt!==0&&Rt!==null){var C=Rt,z=$e;switch(Zt){case 8:gf(),w=6;break t;case 3:case 2:case 6:di.current===null&&(a=!0);var k=Zt;if(Zt=0,$e=null,va(n,C,z,k),o&&ya){w=0;break t}break;default:k=Zt,Zt=0,$e=null,va(n,C,z,k)}}bS(),w=ie;break}catch(G){Ny(n,G)}while(!0);return a&&n.shellSuspendCounter++,$i=Ss=null,Jt=c,V.H=p,V.A=y,Rt===null&&(Xt=null,kt=0,pl()),w}function bS(){for(;Rt!==null;)ky(Rt)}function vS(n,a){var o=Jt;Jt|=2;var c=Dy(),p=Ly();Xt!==n||kt!==a?(Pl=null,Vl=ue()+500,ba(n,a)):ya=gr(n,a);t:do try{if(Zt!==0&&Rt!==null){a=Rt;var y=$e;e:switch(Zt){case 1:Zt=0,$e=null,va(n,a,y,1);break;case 2:if(Xm(y)){Zt=0,$e=null,Uy(a);break}a=function(){Zt===2&&Xt===n&&(Zt=7),ki(n)},y.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Xm(y)?(Zt=0,$e=null,Uy(a)):(Zt=0,$e=null,va(n,a,y,7));break;case 5:var w=null;switch(Rt.tag){case 26:w=Rt.memoizedState;case 5:case 27:var C=Rt;if(!w||f0(w)){Zt=0,$e=null;var z=C.sibling;if(z!==null)Rt=z;else{var k=C.return;k!==null?(Rt=k,Yl(k)):Rt=null}break e}}Zt=0,$e=null,va(n,a,y,5);break;case 6:Zt=0,$e=null,va(n,a,y,6);break;case 8:gf(),ie=6;break t;default:throw Error(i(462))}}SS();break}catch(G){Ny(n,G)}while(!0);return $i=Ss=null,V.H=c,V.A=p,Jt=o,Rt!==null?0:(Xt=null,kt=0,pl(),ie)}function SS(){for(;Rt!==null&&!as();)ky(Rt)}function ky(n){var a=sy(n.alternate,n,rn);n.memoizedProps=n.pendingProps,a===null?Yl(n):Rt=a}function Uy(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=$g(o,a,a.pendingProps,a.type,void 0,kt);break;case 11:a=$g(o,a,a.pendingProps,a.type.render,a.ref,kt);break;case 5:Sh(a);default:zy(o,a),a=Rt=Ty(a,rn),a=sy(o,a,rn)}n.memoizedProps=n.pendingProps,a===null?Yl(n):Rt=a}function va(n,a,o,c){$i=Ss=null,Sh(a),oa=null,Dr=0;var p=a.return;try{if(uS(n,p,a,o,kt)){ie=1,Dl(n,ci(o,n.current)),Rt=null;return}}catch(y){if(p!==null)throw Rt=p,y;ie=1,Dl(n,ci(o,n.current)),Rt=null;return}a.flags&32768?(Ft||c===1?n=!0:ya||kt&536870912?n=!1:(an=n=!0,(c===2||c===3||c===6)&&(c=di.current,c!==null&&c.tag===13&&(c.flags|=16384))),Fy(a,n)):Yl(a)}function Yl(n){var a=n;do{if(a.flags&32768){Fy(a,an);return}n=a.return;var o=pS(a.alternate,a,rn);if(o!==null){Rt=o;return}if(a=a.sibling,a!==null){Rt=a;return}Rt=a=n}while(a!==null);ie===0&&(ie=5)}function Fy(n,a){do{var o=mS(n.alternate,n);if(o!==null){o.flags&=32767,Rt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){Rt=n;return}Rt=n=o}while(n!==null);ie=6,Rt=null}function Iy(n,a,o,c,p,y,w,C,z,k){var G=V.T,j=et.p;try{et.p=2,V.T=null,wS(n,a,o,c,j,p,y,w,C,z,k)}finally{V.T=G,et.p=j}}function wS(n,a,o,c,p,y,w,C){do Sa();while(Ts!==null);if(Jt&6)throw Error(i(327));var z=n.finishedWork;if(c=n.finishedLanes,z===null)return null;if(n.finishedWork=null,n.finishedLanes=0,z===n.current)throw Error(i(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var k=z.lanes|z.childLanes;if(k|=rh,tv(n,c,k,y,w,C),n===Xt&&(Rt=Xt=null,kt=0),!(z.subtreeFlags&10256)&&!(z.flags&10256)||ql||(ql=!0,ff=k,df=o,TS(Ys,function(){return Sa(),null})),o=(z.flags&15990)!==0,z.subtreeFlags&15990||o?(o=V.T,V.T=null,y=et.p,et.p=2,w=Jt,Jt|=4,hS(n,z),by(z,n),Xv(Rf,n.containerInfo),nu=!!zf,Rf=zf=null,n.current=z,my(n,z.alternate,z),hr(),Jt=w,et.p=y,V.T=o):n.current=z,ql?(ql=!1,Ts=n,$r=c):Hy(n,k),k=n.pendingLanes,k===0&&(Hn=null),Wb(z.stateNode),ki(n),a!==null)for(p=n.onRecoverableError,z=0;z<a.length;z++)k=a[z],p(k.value,{componentStack:k.stack});return $r&3&&Sa(),k=n.pendingLanes,c&4194218&&k&42?n===pf?Kr++:(Kr=0,pf=n):Kr=0,to(0),null}function Hy(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,kr(a)))}function Sa(){if(Ts!==null){var n=Ts,a=ff;ff=0;var o=Wp($r),c=V.T,p=et.p;try{if(et.p=32>o?32:o,V.T=null,Ts===null)var y=!1;else{o=df,df=null;var w=Ts,C=$r;if(Ts=null,$r=0,Jt&6)throw Error(i(331));var z=Jt;if(Jt|=4,_y(w.current),Sy(w,w.current,C,o),Jt=z,to(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(mr,w)}catch{}y=!0}return y}finally{et.p=p,V.T=c,Hy(n,a)}}return!1}function Vy(n,a,o){a=ci(o,a),a=Lh(n.stateNode,a,2),n=Dn(n,a,2),n!==null&&(yr(n,2),ki(n))}function Gt(n,a,o){if(n.tag===3)Vy(n,n,o);else for(;a!==null;){if(a.tag===3){Vy(a,n,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hn===null||!Hn.has(c))){n=ci(o,n),o=Gg(2),c=Dn(a,o,2),c!==null&&(Yg(o,c,a,n),yr(c,2),ki(c));break}}a=a.return}}function bf(n,a,o){var c=n.pingCache;if(c===null){c=n.pingCache=new yS;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(o)||(lf=!0,p.add(o),n=MS.bind(null,n,a,o),a.then(n,n))}function MS(n,a,o){var c=n.pingCache;c!==null&&c.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Xt===n&&(kt&o)===o&&(ie===4||ie===3&&(kt&62914560)===kt&&300>ue()-hf?!(Jt&2)&&ba(n,0):uf|=o,xa===kt&&(xa=0)),ki(n)}function Py(n,a){a===0&&(a=Xp()),n=Tn(n,a),n!==null&&(yr(n,a),ki(n))}function _S(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),Py(n,o)}function AS(n,a){var o=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),Py(n,o)}function TS(n,a){return pe(n,a)}var Xl=null,wa=null,vf=!1,Zl=!1,Sf=!1,Cs=0;function ki(n){n!==wa&&n.next===null&&(wa===null?Xl=wa=n:wa=wa.next=n),Zl=!0,vf||(vf=!0,ES(CS))}function to(n,a){if(!Sf&&Zl){Sf=!0;do for(var o=!1,c=Xl;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var w=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-je(42|n)+1)-1,y&=p&~(w&~C),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(o=!0,Yy(c,y))}else y=kt,y=il(c,c===Xt?y:0),!(y&3)||gr(c,y)||(o=!0,Yy(c,y));c=c.next}while(o);Sf=!1}}function CS(){Zl=vf=!1;var n=0;Cs!==0&&(kS()&&(n=Cs),Cs=0);for(var a=ue(),o=null,c=Xl;c!==null;){var p=c.next,y=qy(c,a);y===0?(c.next=null,o===null?Xl=p:o.next=p,p===null&&(wa=o)):(o=c,(n!==0||y&3)&&(Zl=!0)),c=p}to(n)}function qy(n,a){for(var o=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var w=31-je(y),C=1<<w,z=p[w];z===-1?(!(C&o)||C&c)&&(p[w]=Kb(C,a)):z<=a&&(n.expiredLanes|=C),y&=~C}if(a=Xt,o=kt,o=il(n,n===a?o:0),c=n.callbackNode,o===0||n===a&&Zt===2||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ae(c),n.callbackNode=null,n.callbackPriority=0;if(!(o&3)||gr(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(c!==null&&ae(c),Wp(o)){case 2:case 8:o=dr;break;case 32:o=Ys;break;case 268435456:o=pr;break;default:o=Ys}return c=Gy.bind(null,n),o=pe(o,c),n.callbackPriority=a,n.callbackNode=o,a}return c!==null&&c!==null&&ae(c),n.callbackPriority=2,n.callbackNode=null,2}function Gy(n,a){var o=n.callbackNode;if(Sa()&&n.callbackNode!==o)return null;var c=kt;return c=il(n,n===Xt?c:0),c===0?null:(Oy(n,c,a),qy(n,ue()),n.callbackNode!=null&&n.callbackNode===o?Gy.bind(null,n):null)}function Yy(n,a){if(Sa())return null;Oy(n,a,!0)}function ES(n){FS(function(){Jt&6?pe(fr,n):n()})}function wf(){return Cs===0&&(Cs=Yp()),Cs}function Xy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ol(""+n)}function Zy(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function zS(n,a,o,c,p){if(a==="submit"&&o&&o.stateNode===p){var y=Xy((p[He]||null).action),w=c.submitter;w&&(a=(a=w[He]||null)?Xy(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var C=new hl("action","action",null,c,p);n.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Cs!==0){var z=w?Zy(p,w):new FormData(p);Rh(o,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(C.preventDefault(),z=w?Zy(p,w):new FormData(p),Rh(o,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var Mf=0;Mf<Im.length;Mf++){var _f=Im[Mf],RS=_f.toLowerCase(),OS=_f[0].toUpperCase()+_f.slice(1);Mi(RS,"on"+OS)}Mi(Dm,"onAnimationEnd"),Mi(Lm,"onAnimationIteration"),Mi(km,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(jv,"onTransitionRun"),Mi(Wv,"onTransitionStart"),Mi(Jv,"onTransitionCancel"),Mi(Um,"onTransitionEnd"),Ws("onMouseEnter",["mouseout","mouseover"]),Ws("onMouseLeave",["mouseout","mouseover"]),Ws("onPointerEnter",["pointerout","pointerover"]),Ws("onPointerLeave",["pointerout","pointerover"]),ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function jy(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],p=c.event;c=c.listeners;t:{var y=void 0;if(a)for(var w=c.length-1;0<=w;w--){var C=c[w],z=C.instance,k=C.currentTarget;if(C=C.listener,z!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=k;try{y(p)}catch(G){Nl(G)}p.currentTarget=null,y=z}else for(w=0;w<c.length;w++){if(C=c[w],z=C.instance,k=C.currentTarget,C=C.listener,z!==y&&p.isPropagationStopped())break t;y=C,p.currentTarget=k;try{y(p)}catch(G){Nl(G)}p.currentTarget=null,y=z}}}}function Bt(n,a){var o=a[Ic];o===void 0&&(o=a[Ic]=new Set);var c=n+"__bubble";o.has(c)||(Wy(a,n,2,!1),o.add(c))}function Af(n,a,o){var c=0;a&&(c|=4),Wy(o,n,c,a)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Tf(n){if(!n[jl]){n[jl]=!0,$p.forEach(function(o){o!=="selectionchange"&&(BS.has(o)||Af(o,!1,n),Af(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[jl]||(a[jl]=!0,Af("selectionchange",!1,a))}}function Wy(n,a,o,c){switch(x0(a)){case 2:var p=sw;break;case 8:p=aw;break;default:p=If}o=p.bind(null,a,o,n),p=void 0,!Zc||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(a,o,{capture:!0,passive:p}):n.addEventListener(a,o,!0):p!==void 0?n.addEventListener(a,o,{passive:p}):n.addEventListener(a,o,!1)}function Cf(n,a,o,c,p){var y=c;if(!(a&1)&&!(a&2)&&c!==null)t:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var C=c.stateNode.containerInfo;if(C===p||C.nodeType===8&&C.parentNode===p)break;if(w===4)for(w=c.return;w!==null;){var z=w.tag;if((z===3||z===4)&&(z=w.stateNode.containerInfo,z===p||z.nodeType===8&&z.parentNode===p))return;w=w.return}for(;C!==null;){if(w=os(C),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){c=y=w;continue t}C=C.parentNode}}c=c.return}cm(function(){var k=y,G=Yc(o),j=[];t:{var H=Fm.get(n);if(H!==void 0){var q=hl,lt=n;switch(n){case"keypress":if(ul(o)===0)break t;case"keydown":case"keyup":q=Av;break;case"focusin":lt="focus",q=Qc;break;case"focusout":lt="blur",q=Qc;break;case"beforeblur":case"afterblur":q=Qc;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Ev;break;case Dm:case Lm:case km:q=gv;break;case Um:q=Rv;break;case"scroll":case"scrollend":q=hv;break;case"wheel":q=Bv;break;case"copy":case"cut":case"paste":q=xv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=mm;break;case"toggle":case"beforetoggle":q=Dv}var bt=(a&4)!==0,ne=!bt&&(n==="scroll"||n==="scrollend"),U=bt?H!==null?H+"Capture":null:H;bt=[];for(var D=k,F;D!==null;){var Z=D;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||U===null||(Z=vr(D,U),Z!=null&&bt.push(io(D,Z,F))),ne)break;D=D.return}0<bt.length&&(H=new q(H,lt,null,o,G),j.push({event:H,listeners:bt}))}}if(!(a&7)){t:{if(H=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",H&&o!==Gc&&(lt=o.relatedTarget||o.fromElement)&&(os(lt)||lt[Xs]))break t;if((q||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,q?(lt=o.relatedTarget||o.toElement,q=k,lt=lt?os(lt):null,lt!==null&&(ne=K(lt),bt=lt.tag,lt!==ne||bt!==5&&bt!==27&&bt!==6)&&(lt=null)):(q=null,lt=k),q!==lt)){if(bt=dm,Z="onMouseLeave",U="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(bt=mm,Z="onPointerLeave",U="onPointerEnter",D="pointer"),ne=q==null?H:br(q),F=lt==null?H:br(lt),H=new bt(Z,D+"leave",q,o,G),H.target=ne,H.relatedTarget=F,Z=null,os(G)===k&&(bt=new bt(U,D+"enter",lt,o,G),bt.target=F,bt.relatedTarget=ne,Z=bt),ne=Z,q&&lt)e:{for(bt=q,U=lt,D=0,F=bt;F;F=Ma(F))D++;for(F=0,Z=U;Z;Z=Ma(Z))F++;for(;0<D-F;)bt=Ma(bt),D--;for(;0<F-D;)U=Ma(U),F--;for(;D--;){if(bt===U||U!==null&&bt===U.alternate)break e;bt=Ma(bt),U=Ma(U)}bt=null}else bt=null;q!==null&&Jy(j,H,q,bt,!1),lt!==null&&ne!==null&&Jy(j,ne,lt,bt,!0)}}t:{if(H=k?br(k):window,q=H.nodeName&&H.nodeName.toLowerCase(),q==="select"||q==="input"&&H.type==="file")var st=Mm;else if(Sm(H))if(_m)st=Gv;else{st=Pv;var Et=Vv}else q=H.nodeName,!q||q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?k&&qc(k.elementType)&&(st=Mm):st=qv;if(st&&(st=st(n,k))){wm(j,st,o,G);break t}Et&&Et(n,H,k),n==="focusout"&&k&&H.type==="number"&&k.memoizedProps.value!=null&&Pc(H,"number",H.value)}switch(Et=k?br(k):window,n){case"focusin":(Sm(Et)||Et.contentEditable==="true")&&(ea=Et,nh=k,Er=null);break;case"focusout":Er=nh=ea=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Bm(j,o,G);break;case"selectionchange":if(Zv)break;case"keydown":case"keyup":Bm(j,o,G)}var ht;if(Kc)t:{switch(n){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else ta?bm(n,o)&&(ft="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ft="onCompositionStart");ft&&(gm&&o.locale!=="ko"&&(ta||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&ta&&(ht=hm()):(An=G,jc="value"in An?An.value:An.textContent,ta=!0)),Et=Wl(k,ft),0<Et.length&&(ft=new pm(ft,n,null,o,G),j.push({event:ft,listeners:Et}),ht?ft.data=ht:(ht=vm(o),ht!==null&&(ft.data=ht)))),(ht=kv?Uv(n,o):Fv(n,o))&&(ft=Wl(k,"onBeforeInput"),0<ft.length&&(Et=new pm("onBeforeInput","beforeinput",null,o,G),j.push({event:Et,listeners:ft}),Et.data=ht)),zS(j,n,k,o,G)}jy(j,a)})}function io(n,a,o){return{instance:n,listener:a,currentTarget:o}}function Wl(n,a){for(var o=a+"Capture",c=[];n!==null;){var p=n,y=p.stateNode;p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=vr(n,o),p!=null&&c.unshift(io(n,p,y)),p=vr(n,a),p!=null&&c.push(io(n,p,y))),n=n.return}return c}function Ma(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Jy(n,a,o,c,p){for(var y=a._reactName,w=[];o!==null&&o!==c;){var C=o,z=C.alternate,k=C.stateNode;if(C=C.tag,z!==null&&z===c)break;C!==5&&C!==26&&C!==27||k===null||(z=k,p?(k=vr(o,y),k!=null&&w.unshift(io(o,k,z))):p||(k=vr(o,y),k!=null&&w.push(io(o,k,z)))),o=o.return}w.length!==0&&n.push({event:a,listeners:w})}var NS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function Qy(n){return(typeof n=="string"?n:""+n).replace(NS,`
`).replace(DS,"")}function $y(n,a){return a=Qy(a),Qy(n)===a}function Jl(){}function qt(n,a,o,c,p,y){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Qs(n,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Qs(n,""+c);break;case"className":sl(n,"class",c);break;case"tabIndex":sl(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sl(n,o,c);break;case"style":lm(n,c,y);break;case"data":if(a!=="object"){sl(n,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=ol(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(a!=="input"&&qt(n,a,"name",p.name,p,null),qt(n,a,"formEncType",p.formEncType,p,null),qt(n,a,"formMethod",p.formMethod,p,null),qt(n,a,"formTarget",p.formTarget,p,null)):(qt(n,a,"encType",p.encType,p,null),qt(n,a,"method",p.method,p,null),qt(n,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=ol(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Jl);break;case"onScroll":c!=null&&Bt("scroll",n);break;case"onScrollEnd":c!=null&&Bt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=ol(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Bt("beforetoggle",n),Bt("toggle",n),nl(n,"popover",c);break;case"xlinkActuate":Xi(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Xi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Xi(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Xi(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Xi(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Xi(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Xi(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Xi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Xi(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":nl(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=uv.get(o)||o,nl(n,o,c))}}function Ef(n,a,o,c,p,y){switch(o){case"style":lm(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Qs(n,c):(typeof c=="number"||typeof c=="bigint")&&Qs(n,""+c);break;case"onScroll":c!=null&&Bt("scroll",n);break;case"onScrollEnd":c!=null&&Bt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kp.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),a=o.slice(2,p?o.length-7:void 0),y=n[He]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(a,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,c,p);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):nl(n,o,c)}}}function Te(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",n),Bt("load",n);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var w=o[y];if(w!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:qt(n,a,y,w,o,null)}}p&&qt(n,a,"srcSet",o.srcSet,o,null),c&&qt(n,a,"src",o.src,o,null);return;case"input":Bt("invalid",n);var C=y=w=p=null,z=null,k=null;for(c in o)if(o.hasOwnProperty(c)){var G=o[c];if(G!=null)switch(c){case"name":p=G;break;case"type":w=G;break;case"checked":z=G;break;case"defaultChecked":k=G;break;case"value":y=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:qt(n,a,c,G,o,null)}}sm(n,y,C,z,k,w,p,!1),al(n);return;case"select":Bt("invalid",n),c=w=y=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":w=C;break;case"multiple":c=C;default:qt(n,a,p,C,o,null)}a=y,o=w,n.multiple=!!c,a!=null?Js(n,!!c,a,!1):o!=null&&Js(n,!!c,o,!0);return;case"textarea":Bt("invalid",n),y=p=c=null;for(w in o)if(o.hasOwnProperty(w)&&(C=o[w],C!=null))switch(w){case"value":c=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:qt(n,a,w,C,o,null)}rm(n,c,p,y),al(n);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:qt(n,a,z,c,o,null)}return;case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":Bt("load",n);break;case"video":case"audio":for(c=0;c<eo.length;c++)Bt(eo[c],n);break;case"image":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"embed":case"source":case"link":Bt("error",n),Bt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:qt(n,a,k,c,o,null)}return;default:if(qc(a)){for(G in o)o.hasOwnProperty(G)&&(c=o[G],c!==void 0&&Ef(n,a,G,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&qt(n,a,C,c,o,null))}function LS(n,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,w=null,C=null,z=null,k=null,G=null;for(q in o){var j=o[q];if(o.hasOwnProperty(q)&&j!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":z=j;default:c.hasOwnProperty(q)||qt(n,a,q,null,c,j)}}for(var H in c){var q=c[H];if(j=o[H],c.hasOwnProperty(H)&&(q!=null||j!=null))switch(H){case"type":y=q;break;case"name":p=q;break;case"checked":k=q;break;case"defaultChecked":G=q;break;case"value":w=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:q!==j&&qt(n,a,H,q,c,j)}}Vc(n,w,C,z,k,G,y,p);return;case"select":q=w=C=H=null;for(y in o)if(z=o[y],o.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":q=z;default:c.hasOwnProperty(y)||qt(n,a,y,null,c,z)}for(p in c)if(y=c[p],z=o[p],c.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":H=y;break;case"defaultValue":C=y;break;case"multiple":w=y;default:y!==z&&qt(n,a,p,y,c,z)}a=C,o=w,c=q,H!=null?Js(n,!!o,H,!1):!!c!=!!o&&(a!=null?Js(n,!!o,a,!0):Js(n,!!o,o?[]:"",!1));return;case"textarea":q=H=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:qt(n,a,C,null,c,p)}for(w in c)if(p=c[w],y=o[w],c.hasOwnProperty(w)&&(p!=null||y!=null))switch(w){case"value":H=p;break;case"defaultValue":q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&qt(n,a,w,p,c,y)}am(n,H,q);return;case"option":for(var lt in o)if(H=o[lt],o.hasOwnProperty(lt)&&H!=null&&!c.hasOwnProperty(lt))switch(lt){case"selected":n.selected=!1;break;default:qt(n,a,lt,null,c,H)}for(z in c)if(H=c[z],q=o[z],c.hasOwnProperty(z)&&H!==q&&(H!=null||q!=null))switch(z){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:qt(n,a,z,H,c,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)H=o[bt],o.hasOwnProperty(bt)&&H!=null&&!c.hasOwnProperty(bt)&&qt(n,a,bt,null,c,H);for(k in c)if(H=c[k],q=o[k],c.hasOwnProperty(k)&&H!==q&&(H!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,a));break;default:qt(n,a,k,H,c,q)}return;default:if(qc(a)){for(var ne in o)H=o[ne],o.hasOwnProperty(ne)&&H!==void 0&&!c.hasOwnProperty(ne)&&Ef(n,a,ne,void 0,c,H);for(G in c)H=c[G],q=o[G],!c.hasOwnProperty(G)||H===q||H===void 0&&q===void 0||Ef(n,a,G,H,c,q);return}}for(var U in o)H=o[U],o.hasOwnProperty(U)&&H!=null&&!c.hasOwnProperty(U)&&qt(n,a,U,null,c,H);for(j in c)H=c[j],q=o[j],!c.hasOwnProperty(j)||H===q||H==null&&q==null||qt(n,a,j,H,c,q)}var zf=null,Rf=null;function Ql(n){return n.nodeType===9?n:n.ownerDocument}function Ky(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Of(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bf=null;function kS(){var n=window.event;return n&&n.type==="popstate"?n===Bf?!1:(Bf=n,!0):(Bf=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,FS=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(n){return i0.resolve(null).then(n).catch(IS)}:e0;function IS(n){setTimeout(function(){throw n})}function Nf(n,a){var o=a,c=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(c===0){n.removeChild(p),co(a);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=p}while(o);co(a)}function Df(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Df(o),Hc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function HS(n,a,o,c){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[xr])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==p.rel||n.getAttribute("href")!==(p.href==null?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Ti(n.nextSibling),n===null)break}return null}function VS(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Ti(n.nextSibling),n===null))return null;return n}function Ti(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}function n0(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return n;a--}else o==="/$"&&a++}n=n.previousSibling}return null}function s0(n,a,o){switch(a=Ql(o),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}var xi=new Map,a0=new Set;function $l(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ln=et.d;et.d={f:PS,r:qS,D:GS,C:YS,L:XS,m:ZS,X:WS,S:jS,M:JS};function PS(){var n=ln.f(),a=Gl();return n||a}function qS(n){var a=Zs(n);a!==null&&a.tag===5&&a.type==="form"?Bg(a):ln.r(n)}var _a=typeof document>"u"?null:document;function r0(n,a,o){var c=_a;if(c&&typeof a=="string"&&a){var p=li(a);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),a0.has(p)||(a0.add(p),n={rel:n,crossOrigin:o,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Te(a,"link",n),xe(a),c.head.appendChild(a)))}}function GS(n){ln.D(n),r0("dns-prefetch",n,null)}function YS(n,a){ln.C(n,a),r0("preconnect",n,a)}function XS(n,a,o){ln.L(n,a,o);var c=_a;if(c&&n&&a){var p='link[rel="preload"][as="'+li(a)+'"]';a==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+li(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+li(o.imageSizes)+'"]')):p+='[href="'+li(n)+'"]';var y=p;switch(a){case"style":y=Aa(n);break;case"script":y=Ta(n)}xi.has(y)||(n=X({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),xi.set(y,n),c.querySelector(p)!==null||a==="style"&&c.querySelector(no(y))||a==="script"&&c.querySelector(so(y))||(a=c.createElement("link"),Te(a,"link",n),xe(a),c.head.appendChild(a)))}}function ZS(n,a){ln.m(n,a);var o=_a;if(o&&n){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+li(c)+'"][href="'+li(n)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ta(n)}if(!xi.has(y)&&(n=X({rel:"modulepreload",href:n},a),xi.set(y,n),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(so(y)))return}c=o.createElement("link"),Te(c,"link",n),xe(c),o.head.appendChild(c)}}}function jS(n,a,o){ln.S(n,a,o);var c=_a;if(c&&n){var p=js(c).hoistableStyles,y=Aa(n);a=a||"default";var w=p.get(y);if(!w){var C={loading:0,preload:null};if(w=c.querySelector(no(y)))C.loading=5;else{n=X({rel:"stylesheet",href:n,"data-precedence":a},o),(o=xi.get(y))&&Lf(n,o);var z=w=c.createElement("link");xe(z),Te(z,"link",n),z._p=new Promise(function(k,G){z.onload=k,z.onerror=G}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Kl(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:C},p.set(y,w)}}}function WS(n,a){ln.X(n,a);var o=_a;if(o&&n){var c=js(o).hoistableScripts,p=Ta(n),y=c.get(p);y||(y=o.querySelector(so(p)),y||(n=X({src:n,async:!0},a),(a=xi.get(p))&&kf(n,a),y=o.createElement("script"),xe(y),Te(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function JS(n,a){ln.M(n,a);var o=_a;if(o&&n){var c=js(o).hoistableScripts,p=Ta(n),y=c.get(p);y||(y=o.querySelector(so(p)),y||(n=X({src:n,async:!0,type:"module"},a),(a=xi.get(p))&&kf(n,a),y=o.createElement("script"),xe(y),Te(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function o0(n,a,o,c){var p=(p=tt.current)?$l(p):null;if(!p)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Aa(o.href),o=js(p).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Aa(o.href);var y=js(p).hoistableStyles,w=y.get(n);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,w),(y=p.querySelector(no(n)))&&!y._p&&(w.instance=y,w.state.loading=5),xi.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},xi.set(n,o),y||QS(p,n,o,w.state))),a&&c===null)throw Error(i(528,""));return w}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ta(o),o=js(p).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Aa(n){return'href="'+li(n)+'"'}function no(n){return'link[rel="stylesheet"]['+n+"]"}function l0(n){return X({},n,{"data-precedence":n.precedence,precedence:null})}function QS(n,a,o,c){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=n.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Te(a,"link",o),xe(a),n.head.appendChild(a))}function Ta(n){return'[src="'+li(n)+'"]'}function so(n){return"script[async]"+n}function u0(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=n.querySelector('style[data-href~="'+li(o.href)+'"]');if(c)return a.instance=c,xe(c),c;var p=X({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),xe(c),Te(c,"style",p),Kl(c,o.precedence,n),a.instance=c;case"stylesheet":p=Aa(o.href);var y=n.querySelector(no(p));if(y)return a.state.loading|=4,a.instance=y,xe(y),y;c=l0(o),(p=xi.get(p))&&Lf(c,p),y=(n.ownerDocument||n).createElement("link"),xe(y);var w=y;return w._p=new Promise(function(C,z){w.onload=C,w.onerror=z}),Te(y,"link",c),a.state.loading|=4,Kl(y,o.precedence,n),a.instance=y;case"script":return y=Ta(o.src),(p=n.querySelector(so(y)))?(a.instance=p,xe(p),p):(c=o,(p=xi.get(y))&&(c=X({},o),kf(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),xe(p),Te(p,"link",c),n.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,Kl(c,o.precedence,n));return a.instance}function Kl(n,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,w=0;w<c.length;w++){var C=c[w];if(C.dataset.precedence===a)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(n,y.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function Lf(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function kf(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var tu=null;function c0(n,a,o){if(tu===null){var c=new Map,p=tu=new Map;p.set(o,c)}else p=tu,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var y=o[p];if(!(y[xr]||y[Ce]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=n+w;var C=c.get(w);C?C.push(y):c.set(w,[y])}}return c}function h0(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function $S(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function f0(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var ao=null;function KS(){}function tw(n,a,o){if(ao===null)throw Error(i(475));var c=ao;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var p=Aa(o.href),y=n.querySelector(no(p));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=eu.bind(c),n.then(c,c)),a.state.loading|=4,a.instance=y,xe(y);return}y=n.ownerDocument||n,o=l0(o),(p=xi.get(p))&&Lf(o,p),y=y.createElement("link"),xe(y);var w=y;w._p=new Promise(function(C,z){w.onload=C,w.onerror=z}),Te(y,"link",o),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,n),(n=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=eu.bind(c),n.addEventListener("load",a),n.addEventListener("error",a))}}function ew(){if(ao===null)throw Error(i(475));var n=ao;return n.stylesheets&&n.count===0&&Uf(n,n.stylesheets),0<n.count?function(a){var o=setTimeout(function(){if(n.stylesheets&&Uf(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(o)}}:null}function eu(){if(this.count--,this.count===0){if(this.stylesheets)Uf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var iu=null;function Uf(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,iu=new Map,a.forEach(iw,n),iu=null,eu.call(n))}function iw(n,a){if(!(a.state.loading&4)){var o=iu.get(n);if(o)var c=o.get(null);else{o=new Map,iu.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var w=p[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}p=a.instance,w=p.getAttribute("data-precedence"),y=o.get(w)||c,y===c&&o.set(null,p),o.set(w,p),this.count++,c=eu.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),a.state.loading|=4}}var ro={$$typeof:b,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function nw(n,a,o,c,p,y,w,C){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fc(0),this.hiddenUpdates=Fc(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function d0(n,a,o,c,p,y,w,C,z,k,G,j){return n=new nw(n,a,o,w,C,z,k,j),a=1,y===!0&&(a|=24),y=gi(3,null,null,a),n.current=y,y.stateNode=n,a=ph(),a.refCount++,n.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:a},jh(y),n}function p0(n){return n?(n=sa,n):sa}function m0(n,a,o,c,p,y){p=p0(p),c.context===null?c.context=p:c.pendingContext=p,c=Nn(a),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=Dn(n,c,a),o!==null&&(Le(o,n,a),qr(o,n,a))}function g0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function Ff(n,a){g0(n,a),(n=n.alternate)&&g0(n,a)}function y0(n){if(n.tag===13){var a=Tn(n,67108864);a!==null&&Le(a,n,67108864),Ff(n,67108864)}}var nu=!0;function sw(n,a,o,c){var p=V.T;V.T=null;var y=et.p;try{et.p=2,If(n,a,o,c)}finally{et.p=y,V.T=p}}function aw(n,a,o,c){var p=V.T;V.T=null;var y=et.p;try{et.p=8,If(n,a,o,c)}finally{et.p=y,V.T=p}}function If(n,a,o,c){if(nu){var p=Hf(c);if(p===null)Cf(n,a,c,su,o),b0(n,c);else if(ow(p,n,a,o,c))c.stopPropagation();else if(b0(n,c),a&4&&-1<rw.indexOf(n)){for(;p!==null;){var y=Zs(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=rs(y.pendingLanes);if(w!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;w;){var z=1<<31-je(w);C.entanglements[1]|=z,w&=~z}ki(y),!(Jt&6)&&(Vl=ue()+500,to(0))}}break;case 13:C=Tn(y,2),C!==null&&Le(C,y,2),Gl(),Ff(y,2)}if(y=Hf(c),y===null&&Cf(n,a,c,su,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else Cf(n,a,c,null,o)}}function Hf(n){return n=Yc(n),Vf(n)}var su=null;function Vf(n){if(su=null,n=os(n),n!==null){var a=K(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=ct(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return su=n,null}function x0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($o()){case fr:return 2;case dr:return 8;case Ys:case Uc:return 32;case pr:return 268435456;default:return 32}default:return 32}}var Pf=!1,Vn=null,Pn=null,qn=null,oo=new Map,lo=new Map,Gn=[],rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b0(n,a){switch(n){case"focusin":case"focusout":Vn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":oo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(a.pointerId)}}function uo(n,a,o,c,p,y){return n===null||n.nativeEvent!==y?(n={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},a!==null&&(a=Zs(a),a!==null&&y0(a)),n):(n.eventSystemFlags|=c,a=n.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),n)}function ow(n,a,o,c,p){switch(a){case"focusin":return Vn=uo(Vn,n,a,o,c,p),!0;case"dragenter":return Pn=uo(Pn,n,a,o,c,p),!0;case"mouseover":return qn=uo(qn,n,a,o,c,p),!0;case"pointerover":var y=p.pointerId;return oo.set(y,uo(oo.get(y)||null,n,a,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,lo.set(y,uo(lo.get(y)||null,n,a,o,c,p)),!0}return!1}function v0(n){var a=os(n.target);if(a!==null){var o=K(a);if(o!==null){if(a=o.tag,a===13){if(a=ct(o),a!==null){n.blockedOn=a,ev(n.priority,function(){if(o.tag===13){var c=Ke(),p=Tn(o,c);p!==null&&Le(p,o,c),Ff(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function au(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=Hf(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Gc=c,o.target.dispatchEvent(c),Gc=null}else return a=Zs(o),a!==null&&y0(a),n.blockedOn=o,!1;a.shift()}return!0}function S0(n,a,o){au(n)&&o.delete(a)}function lw(){Pf=!1,Vn!==null&&au(Vn)&&(Vn=null),Pn!==null&&au(Pn)&&(Pn=null),qn!==null&&au(qn)&&(qn=null),oo.forEach(S0),lo.forEach(S0)}function ru(n,a){n.blockedOn===a&&(n.blockedOn=null,Pf||(Pf=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,lw)))}var ou=null;function w0(n){ou!==n&&(ou=n,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){ou===n&&(ou=null);for(var a=0;a<n.length;a+=3){var o=n[a],c=n[a+1],p=n[a+2];if(typeof c!="function"){if(Vf(c||o)===null)continue;break}var y=Zs(o);y!==null&&(n.splice(a,3),a-=3,Rh(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function co(n){function a(z){return ru(z,n)}Vn!==null&&ru(Vn,n),Pn!==null&&ru(Pn,n),qn!==null&&ru(qn,n),oo.forEach(a),lo.forEach(a);for(var o=0;o<Gn.length;o++){var c=Gn[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Gn.length&&(o=Gn[0],o.blockedOn===null);)v0(o),o.blockedOn===null&&Gn.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],w=p[He]||null;if(typeof y=="function")w||w0(o);else if(w){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,w=y[He]||null)C=w.formAction;else if(Vf(p)!==null)continue}else C=w.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),w0(o)}}}function qf(n){this._internalRoot=n}lu.prototype.render=qf.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,c=Ke();m0(o,c,n,a,null,null)},lu.prototype.unmount=qf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;n.tag===0&&Sa(),m0(n.current,2,null,n,null,null),Gl(),a[Xs]=null}};function lu(n){this._internalRoot=n}lu.prototype.unstable_scheduleHydration=function(n){if(n){var a=Jp();n={blockedOn:null,target:n,priority:a};for(var o=0;o<Gn.length&&a!==0&&a<Gn[o].priority;o++);Gn.splice(o,0,n),o===0&&v0(n)}};var M0=t.version;if(M0!=="19.0.0")throw Error(i(527,M0,"19.0.0"));et.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=Y(a),n=n!==null?at(n):null,n=n===null?null:n.stateNode,n};var uw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:os,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{mr=uu.inject(uw),Ze=uu}catch{}}return fo.createRoot=function(n,a){if(!s(n))throw Error(i(299));var o=!1,c="",p=Hg,y=Vg,w=Pg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks)),a=d0(n,1,!1,null,null,o,c,p,y,w,C,null),n[Xs]=a.current,Tf(n.nodeType===8?n.parentNode:n),new qf(a)},fo.hydrateRoot=function(n,a,o){if(!s(n))throw Error(i(299));var c=!1,p="",y=Hg,w=Vg,C=Pg,z=null,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(k=o.formState)),a=d0(n,1,!0,a,o??null,c,p,y,w,C,z,k),a.context=p0(null),o=a.current,c=Ke(),p=Nn(c),p.callback=null,Dn(o,p,c),a.current.lanes=c,yr(a,c),ki(a),n[Xs]=a.current,Tf(n),new lu(a)},fo.version="19.0.0",fo}var N0;function Sw(){if(N0)return Yf.exports;N0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(t){console.error(t)}}return u(),Yf.exports=vw(),Yf.exports}var ww=Sw(),P=sr();const qd=Hx(P);var po={},D0;function Mw(){if(D0)return po;D0=1,Object.defineProperty(po,"__esModule",{value:!0}),po.parse=l,po.serialize=d;const u=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function l(g,b){const v=new r,S=g.length;if(S<2)return v;const M=(b==null?void 0:b.decode)||m;let _=0;do{const A=g.indexOf("=",_);if(A===-1)break;const T=g.indexOf(";",_),E=T===-1?S:T;if(A>E){_=g.lastIndexOf(";",A-1)+1;continue}const O=h(g,_,A),R=f(g,A,O),L=g.slice(O,R);if(v[L]===void 0){let I=h(g,A+1,E),V=f(g,E,I);const X=M(g.slice(I,V));v[L]=X}_=E+1}while(_<S);return v}function h(g,b,v){do{const S=g.charCodeAt(b);if(S!==32&&S!==9)return b}while(++b<v);return v}function f(g,b,v){for(;b>v;){const S=g.charCodeAt(--b);if(S!==32&&S!==9)return b+1}return v}function d(g,b,v){const S=(v==null?void 0:v.encode)||encodeURIComponent;if(!u.test(g))throw new TypeError(`argument name is invalid: ${g}`);const M=S(b);if(!t.test(M))throw new TypeError(`argument val is invalid: ${b}`);let _=g+"="+M;if(!v)return _;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);_+="; Max-Age="+v.maxAge}if(v.domain){if(!e.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);_+="; Domain="+v.domain}if(v.path){if(!i.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);_+="; Path="+v.path}if(v.expires){if(!x(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);_+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(_+="; HttpOnly"),v.secure&&(_+="; Secure"),v.partitioned&&(_+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return _}function m(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function x(g){return s.call(g)==="[object Date]"}return po}Mw();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L0="popstate";function _w(u={}){function t(i,s){let{pathname:r,search:l,hash:h}=i.location;return Gd("",{pathname:r,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function e(i,s){return typeof s=="string"?s:Fo(s)}return Tw(t,e,null,u)}function $t(u,t){if(u===!1||u===null||typeof u>"u")throw new Error(t)}function Ii(u,t){if(!u){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Aw(){return Math.random().toString(36).substring(2,10)}function k0(u,t){return{usr:u.state,key:u.key,idx:t}}function Gd(u,t,e=null,i){return{pathname:typeof u=="string"?u:u.pathname,search:"",hash:"",...typeof t=="string"?ar(t):t,state:e,key:t&&t.key||i||Aw()}}function Fo({pathname:u="/",search:t="",hash:e=""}){return t&&t!=="?"&&(u+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(u+=e.charAt(0)==="#"?e:"#"+e),u}function ar(u){let t={};if(u){let e=u.indexOf("#");e>=0&&(t.hash=u.substring(e),u=u.substring(0,e));let i=u.indexOf("?");i>=0&&(t.search=u.substring(i),u=u.substring(0,i)),u&&(t.pathname=u)}return t}function Tw(u,t,e,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,l=s.history,h="POP",f=null,d=m();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function m(){return(l.state||{idx:null}).idx}function x(){h="POP";let M=m(),_=M==null?null:M-d;d=M,f&&f({action:h,location:S.location,delta:_})}function g(M,_){h="PUSH";let A=Gd(S.location,M,_);d=m()+1;let T=k0(A,d),E=S.createHref(A);try{l.pushState(T,"",E)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(E)}r&&f&&f({action:h,location:S.location,delta:1})}function b(M,_){h="REPLACE";let A=Gd(S.location,M,_);d=m();let T=k0(A,d),E=S.createHref(A);l.replaceState(T,"",E),r&&f&&f({action:h,location:S.location,delta:0})}function v(M){let _=s.location.origin!=="null"?s.location.origin:s.location.href,A=typeof M=="string"?M:Fo(M);return A=A.replace(/ $/,"%20"),$t(_,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,_)}let S={get action(){return h},get location(){return u(s,l)},listen(M){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(L0,x),f=M,()=>{s.removeEventListener(L0,x),f=null}},createHref(M){return t(s,M)},createURL:v,encodeLocation(M){let _=v(M);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:b,go(M){return l.go(M)}};return S}function Vx(u,t,e="/"){return Cw(u,t,e,!1)}function Cw(u,t,e,i){let s=typeof t=="string"?ar(t):t,r=es(s.pathname||"/",e);if(r==null)return null;let l=Px(u);Ew(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let d=Iw(r);h=Uw(l[f],d,i)}return h}function Px(u,t=[],e=[],i=""){let s=(r,l,h)=>{let f={relativePath:h===void 0?r.path||"":h,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};f.relativePath.startsWith("/")&&($t(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=yn([i,f.relativePath]),m=e.concat(f);r.children&&r.children.length>0&&($t(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Px(r.children,t,m,d)),!(r.path==null&&!r.index)&&t.push({path:d,score:Lw(d,r.index),routesMeta:m})};return u.forEach((r,l)=>{var h;if(r.path===""||!((h=r.path)!=null&&h.includes("?")))s(r,l);else for(let f of qx(r.path))s(r,l,f)}),t}function qx(u){let t=u.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),r=e.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let l=qx(i.join("/")),h=[];return h.push(...l.map(f=>f===""?r:[r,f].join("/"))),s&&h.push(...l),h.map(f=>u.startsWith("/")&&f===""?"/":f)}function Ew(u){u.sort((t,e)=>t.score!==e.score?e.score-t.score:kw(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var zw=/^:[\w-]+$/,Rw=3,Ow=2,Bw=1,Nw=10,Dw=-2,U0=u=>u==="*";function Lw(u,t){let e=u.split("/"),i=e.length;return e.some(U0)&&(i+=Dw),t&&(i+=Ow),e.filter(s=>!U0(s)).reduce((s,r)=>s+(zw.test(r)?Rw:r===""?Bw:Nw),i)}function kw(u,t){return u.length===t.length&&u.slice(0,-1).every((i,s)=>i===t[s])?u[u.length-1]-t[t.length-1]:0}function Uw(u,t,e=!1){let{routesMeta:i}=u,s={},r="/",l=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,m=r==="/"?t:t.slice(r.length)||"/",x=rc({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),g=f.route;if(!x&&d&&e&&!i[i.length-1].route.index&&(x=rc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!x)return null;Object.assign(s,x.params),l.push({params:s,pathname:yn([r,x.pathname]),pathnameBase:qw(yn([r,x.pathnameBase])),route:g}),x.pathnameBase!=="/"&&(r=yn([r,x.pathnameBase]))}return l}function rc(u,t){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[e,i]=Fw(u.path,u.caseSensitive,u.end),s=t.match(e);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:x},g)=>{if(m==="*"){let v=h[g]||"";l=r.slice(0,r.length-v.length).replace(/(.)\/+$/,"$1")}const b=h[g];return x&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:l,pattern:u}}function Fw(u,t=!1,e=!0){Ii(u==="*"||!u.endsWith("*")||u.endsWith("/*"),`Route path "${u}" will be treated as if it were "${u.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${u.replace(/\*$/,"/*")}".`);let i=[],s="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return u.endsWith("*")?(i.push({paramName:"*"}),s+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":u!==""&&u!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function Iw(u){try{return u.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ii(!1,`The URL path "${u}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),u}}function es(u,t){if(t==="/")return u;if(!u.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=u.charAt(e);return i&&i!=="/"?null:u.slice(e)||"/"}function Hw(u,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof u=="string"?ar(u):u;return{pathname:e?e.startsWith("/")?e:Vw(e,t):t,search:Gw(i),hash:Yw(s)}}function Vw(u,t){let e=t.replace(/\/+$/,"").split("/");return u.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function Jf(u,t,e,i){return`Cannot include a '${u}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pw(u){return u.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Gx(u){let t=Pw(u);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Yx(u,t,e,i=!1){let s;typeof u=="string"?s=ar(u):(s={...u},$t(!s.pathname||!s.pathname.includes("?"),Jf("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),Jf("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),Jf("#","search","hash",s)));let r=u===""||s.pathname==="",l=r?"/":s.pathname,h;if(l==null)h=e;else{let x=t.length-1;if(!i&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),x-=1;s.pathname=g.join("/")}h=x>=0?t[x]:"/"}let f=Hw(s,h),d=l&&l!=="/"&&l.endsWith("/"),m=(r||l===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var yn=u=>u.join("/").replace(/\/\/+/g,"/"),qw=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),Gw=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,Yw=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u;function Xw(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}var Xx=["POST","PUT","PATCH","DELETE"];new Set(Xx);var Zw=["GET",...Xx];new Set(Zw);var rr=P.createContext(null);rr.displayName="DataRouter";var _c=P.createContext(null);_c.displayName="DataRouterState";var Zx=P.createContext({isTransitioning:!1});Zx.displayName="ViewTransition";var jw=P.createContext(new Map);jw.displayName="Fetchers";var Ww=P.createContext(null);Ww.displayName="Await";var Vi=P.createContext(null);Vi.displayName="Navigation";var Zo=P.createContext(null);Zo.displayName="Location";var Sn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Sn.displayName="Route";var rp=P.createContext(null);rp.displayName="RouteError";function Jw(u,{relative:t}={}){$t(jo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=P.useContext(Vi),{hash:s,pathname:r,search:l}=Wo(u,{relative:t}),h=r;return e!=="/"&&(h=r==="/"?e:yn([e,r])),i.createHref({pathname:h,search:l,hash:s})}function jo(){return P.useContext(Zo)!=null}function ns(){return $t(jo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Zo).location}var jx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wx(u){P.useContext(Vi).static||P.useLayoutEffect(u)}function Qw(){let{isDataRoute:u}=P.useContext(Sn);return u?cM():$w()}function $w(){$t(jo(),"useNavigate() may be used only in the context of a <Router> component.");let u=P.useContext(rr),{basename:t,navigator:e}=P.useContext(Vi),{matches:i}=P.useContext(Sn),{pathname:s}=ns(),r=JSON.stringify(Gx(i)),l=P.useRef(!1);return Wx(()=>{l.current=!0}),P.useCallback((f,d={})=>{if(Ii(l.current,jx),!l.current)return;if(typeof f=="number"){e.go(f);return}let m=Yx(f,JSON.parse(r),s,d.relative==="path");u==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:yn([t,m.pathname])),(d.replace?e.replace:e.push)(m,d.state,d)},[t,e,r,s,u])}P.createContext(null);function Wo(u,{relative:t}={}){let{matches:e}=P.useContext(Sn),{pathname:i}=ns(),s=JSON.stringify(Gx(e));return P.useMemo(()=>Yx(u,JSON.parse(s),i,t==="path"),[u,s,i,t])}function Kw(u,t){return Jx(u,t)}function Jx(u,t,e,i){var _;$t(jo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=P.useContext(Vi),{matches:r}=P.useContext(Sn),l=r[r.length-1],h=l?l.params:{},f=l?l.pathname:"/",d=l?l.pathnameBase:"/",m=l&&l.route;{let A=m&&m.path||"";Qx(f,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let x=ns(),g;if(t){let A=typeof t=="string"?ar(t):t;$t(d==="/"||((_=A.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${A.pathname}" was given in the \`location\` prop.`),g=A}else g=x;let b=g.pathname||"/",v=b;if(d!=="/"){let A=d.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=Vx(u,{pathname:v});Ii(m||S!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ii(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=sM(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},h,A.params),pathname:yn([d,s.encodeLocation?s.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?d:yn([d,s.encodeLocation?s.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),r,e,i);return t&&M?P.createElement(Zo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},M):M}function tM(){let u=uM(),t=Xw(u)?`${u.status} ${u.statusText}`:u instanceof Error?u.message:JSON.stringify(u),e=u instanceof Error?u.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",u),l=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:r},"ErrorBoundary")," or"," ",P.createElement("code",{style:r},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),e?P.createElement("pre",{style:s},e):null,l)}var eM=P.createElement(tM,null),iM=class extends P.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,t){return t.location!==u.location||t.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:t.error,location:t.location,revalidation:u.revalidation||t.revalidation}}componentDidCatch(u,t){console.error("React Router caught the following error during render",u,t)}render(){return this.state.error!==void 0?P.createElement(Sn.Provider,{value:this.props.routeContext},P.createElement(rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nM({routeContext:u,match:t,children:e}){let i=P.useContext(rr);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Sn.Provider,{value:u},e)}function sM(u,t=[],e=null,i=null){if(u==null){if(!e)return null;if(e.errors)u=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)u=e.matches;else return null}let s=u,r=e==null?void 0:e.errors;if(r!=null){let f=s.findIndex(d=>d.route.id&&(r==null?void 0:r[d.route.id])!==void 0);$t(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,h=-1;if(e)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(h=f),d.route.id){let{loaderData:m,errors:x}=e,g=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!x||x[d.route.id]===void 0);if(d.route.lazy||g){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,d,m)=>{let x,g=!1,b=null,v=null;e&&(x=r&&d.route.id?r[d.route.id]:void 0,b=d.route.errorElement||eM,l&&(h<0&&m===0?(Qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):h===m&&(g=!0,v=d.route.hydrateFallbackElement||null)));let S=t.concat(s.slice(0,m+1)),M=()=>{let _;return x?_=b:g?_=v:d.route.Component?_=P.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=f,P.createElement(nM,{match:d,routeContext:{outlet:f,matches:S,isDataRoute:e!=null},children:_})};return e&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?P.createElement(iM,{location:e.location,revalidation:e.revalidation,component:b,error:x,children:M(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):M()},null)}function op(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aM(u){let t=P.useContext(rr);return $t(t,op(u)),t}function rM(u){let t=P.useContext(_c);return $t(t,op(u)),t}function oM(u){let t=P.useContext(Sn);return $t(t,op(u)),t}function lp(u){let t=oM(u),e=t.matches[t.matches.length-1];return $t(e.route.id,`${u} can only be used on routes that contain a unique "id"`),e.route.id}function lM(){return lp("useRouteId")}function uM(){var i;let u=P.useContext(rp),t=rM("useRouteError"),e=lp("useRouteError");return u!==void 0?u:(i=t.errors)==null?void 0:i[e]}function cM(){let{router:u}=aM("useNavigate"),t=lp("useNavigate"),e=P.useRef(!1);return Wx(()=>{e.current=!0}),P.useCallback(async(s,r={})=>{Ii(e.current,jx),e.current&&(typeof s=="number"?u.navigate(s):await u.navigate(s,{fromRouteId:t,...r}))},[u,t])}var F0={};function Qx(u,t,e){!t&&!F0[u]&&(F0[u]=!0,Ii(!1,e))}P.memo(hM);function hM({routes:u,future:t,state:e}){return Jx(u,void 0,e,t)}function Yd(u){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fM({basename:u="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:r=!1}){$t(!jo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=u.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:l,navigator:s,static:r,future:{}}),[l,s,r]);typeof e=="string"&&(e=ar(e));let{pathname:f="/",search:d="",hash:m="",state:x=null,key:g="default"}=e,b=P.useMemo(()=>{let v=es(f,l);return v==null?null:{location:{pathname:v,search:d,hash:m,state:x,key:g},navigationType:i}},[l,f,d,m,x,g,i]);return Ii(b!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Vi.Provider,{value:h},P.createElement(Zo.Provider,{children:t,value:b}))}function dM({children:u,location:t}){return Kw(Xd(u),t)}function Xd(u,t=[]){let e=[];return P.Children.forEach(u,(i,s)=>{if(!P.isValidElement(i))return;let r=[...t,s];if(i.type===P.Fragment){e.push.apply(e,Xd(i.props.children,r));return}$t(i.type===Yd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Xd(i.props.children,r)),e.push(l)}),e}var sc="get",ac="application/x-www-form-urlencoded";function Ac(u){return u!=null&&typeof u.tagName=="string"}function pM(u){return Ac(u)&&u.tagName.toLowerCase()==="button"}function mM(u){return Ac(u)&&u.tagName.toLowerCase()==="form"}function gM(u){return Ac(u)&&u.tagName.toLowerCase()==="input"}function yM(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function xM(u,t){return u.button===0&&(!t||t==="_self")&&!yM(u)}var cu=null;function bM(){if(cu===null)try{new FormData(document.createElement("form"),0),cu=!1}catch{cu=!0}return cu}var vM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qf(u){return u!=null&&!vM.has(u)?(Ii(!1,`"${u}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ac}"`),null):u}function SM(u,t){let e,i,s,r,l;if(mM(u)){let h=u.getAttribute("action");i=h?es(h,t):null,e=u.getAttribute("method")||sc,s=Qf(u.getAttribute("enctype"))||ac,r=new FormData(u)}else if(pM(u)||gM(u)&&(u.type==="submit"||u.type==="image")){let h=u.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=u.getAttribute("formaction")||h.getAttribute("action");if(i=f?es(f,t):null,e=u.getAttribute("formmethod")||h.getAttribute("method")||sc,s=Qf(u.getAttribute("formenctype"))||Qf(h.getAttribute("enctype"))||ac,r=new FormData(h,u),!bM()){let{name:d,type:m,value:x}=u;if(m==="image"){let g=d?`${d}.`:"";r.append(`${g}x`,"0"),r.append(`${g}y`,"0")}else d&&r.append(d,x)}}else{if(Ac(u))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=sc,i=null,s=ac,l=u}return r&&s==="text/plain"&&(l=r,r=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:r,body:l}}function up(u,t){if(u===!1||u===null||typeof u>"u")throw new Error(t)}async function wM(u,t){if(u.id in t)return t[u.id];try{let e=await import(u.module);return t[u.id]=e,e}catch(e){return console.error(`Error loading route module \`${u.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MM(u){return u==null?!1:u.href==null?u.rel==="preload"&&typeof u.imageSrcSet=="string"&&typeof u.imageSizes=="string":typeof u.rel=="string"&&typeof u.href=="string"}async function _M(u,t,e){let i=await Promise.all(u.map(async s=>{let r=t.routes[s.route.id];if(r){let l=await wM(r,e);return l.links?l.links():[]}return[]}));return EM(i.flat(1).filter(MM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function I0(u,t,e,i,s,r){let l=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,h=(f,d)=>{var m;return e[d].pathname!==f.pathname||((m=e[d].route.path)==null?void 0:m.endsWith("*"))&&e[d].params["*"]!==f.params["*"]};return r==="assets"?t.filter((f,d)=>l(f,d)||h(f,d)):r==="data"?t.filter((f,d)=>{var x;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=e[0])==null?void 0:x.params)||{},nextUrl:new URL(u,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function AM(u,t){return TM(u.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function TM(u){return[...new Set(u)]}function CM(u){let t={},e=Object.keys(u).sort();for(let i of e)t[i]=u[i];return t}function EM(u,t){let e=new Set;return new Set(t),u.reduce((i,s)=>{let r=JSON.stringify(CM(s));return e.has(r)||(e.add(r),i.push({key:r,link:s})),i},[])}function zM(u){let t=typeof u=="string"?new URL(u,typeof window>"u"?"server://singlefetch/":window.location.origin):u;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function RM(){let u=P.useContext(rr);return up(u,"You must render this element inside a <DataRouterContext.Provider> element"),u}function OM(){let u=P.useContext(_c);return up(u,"You must render this element inside a <DataRouterStateContext.Provider> element"),u}var cp=P.createContext(void 0);cp.displayName="FrameworkContext";function $x(){let u=P.useContext(cp);return up(u,"You must render this element inside a <HydratedRouter> element"),u}function BM(u,t){let e=P.useContext(cp),[i,s]=P.useState(!1),[r,l]=P.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:x}=t,g=P.useRef(null);P.useEffect(()=>{if(u==="render"&&l(!0),u==="viewport"){let S=_=>{_.forEach(A=>{l(A.isIntersecting)})},M=new IntersectionObserver(S,{threshold:.5});return g.current&&M.observe(g.current),()=>{M.disconnect()}}},[u]),P.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let b=()=>{s(!0)},v=()=>{s(!1),l(!1)};return e?u!=="intent"?[r,g,{}]:[r,g,{onFocus:mo(h,b),onBlur:mo(f,v),onMouseEnter:mo(d,b),onMouseLeave:mo(m,v),onTouchStart:mo(x,b)}]:[!1,g,{}]}function mo(u,t){return e=>{u&&u(e),e.defaultPrevented||t(e)}}function NM({page:u,...t}){let{router:e}=RM(),i=P.useMemo(()=>Vx(e.routes,u,e.basename),[e.routes,u,e.basename]);return i?P.createElement(LM,{page:u,matches:i,...t}):(console.warn(`Tried to prefetch ${u} but no routes matched.`),null)}function DM(u){let{manifest:t,routeModules:e}=$x(),[i,s]=P.useState([]);return P.useEffect(()=>{let r=!1;return _M(u,t,e).then(l=>{r||s(l)}),()=>{r=!0}},[u,t,e]),i}function LM({page:u,matches:t,...e}){let i=ns(),{manifest:s,routeModules:r}=$x(),{loaderData:l,matches:h}=OM(),f=P.useMemo(()=>I0(u,t,h,s,i,"data"),[u,t,h,s,i]),d=P.useMemo(()=>I0(u,t,h,s,i,"assets"),[u,t,h,s,i]),m=P.useMemo(()=>{if(u===i.pathname+i.search+i.hash)return[];let b=new Set,v=!1;if(t.forEach(M=>{var A;let _=s.routes[M.route.id];!_||!_.hasLoader||(!f.some(T=>T.route.id===M.route.id)&&M.route.id in l&&((A=r[M.route.id])!=null&&A.shouldRevalidate)||_.hasClientLoader?v=!0:b.add(M.route.id))}),b.size===0)return[];let S=zM(u);return v&&b.size>0&&S.searchParams.set("_routes",t.filter(M=>b.has(M.route.id)).map(M=>M.route.id).join(",")),[S.pathname+S.search]},[l,i,s,f,t,u,r]),x=P.useMemo(()=>AM(d,s),[d,s]),g=DM(d);return P.createElement(P.Fragment,null,m.map(b=>P.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...e})),x.map(b=>P.createElement("link",{key:b,rel:"modulepreload",href:b,...e})),g.map(({key:b,link:v})=>P.createElement("link",{key:b,...v})))}function kM(...u){return t=>{u.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kx&&(window.__reactRouterVersion="7.0.2")}catch{}function UM({basename:u,children:t,window:e}){let i=P.useRef();i.current==null&&(i.current=_w({window:e,v5Compat:!0}));let s=i.current,[r,l]=P.useState({action:s.action,location:s.location}),h=P.useCallback(f=>{P.startTransition(()=>l(f))},[l]);return P.useLayoutEffect(()=>s.listen(h),[s,h]),P.createElement(fM,{basename:u,children:t,location:r.location,navigationType:r.action,navigator:s})}var tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eb=P.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:r,replace:l,state:h,target:f,to:d,preventScrollReset:m,viewTransition:x,...g},b){let{basename:v}=P.useContext(Vi),S=typeof d=="string"&&tb.test(d),M,_=!1;if(typeof d=="string"&&S&&(M=d,Kx))try{let V=new URL(window.location.href),X=d.startsWith("//")?new URL(V.protocol+d):new URL(d),Q=es(X.pathname,v);X.origin===V.origin&&Q!=null?d=Q+X.search+X.hash:_=!0}catch{Ii(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=Jw(d,{relative:s}),[T,E,O]=BM(i,g),R=VM(d,{replace:l,state:h,target:f,preventScrollReset:m,relative:s,viewTransition:x});function L(V){t&&t(V),V.defaultPrevented||R(V)}let I=P.createElement("a",{...g,...O,href:M||A,onClick:_||r?t:L,ref:kM(b,E),target:f,"data-discover":!S&&e==="render"?"true":void 0});return T&&!S?P.createElement(P.Fragment,null,I,P.createElement(NM,{page:A})):I});eb.displayName="Link";var FM=P.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:r,to:l,viewTransition:h,children:f,...d},m){let x=Wo(l,{relative:d.relative}),g=ns(),b=P.useContext(_c),{navigator:v,basename:S}=P.useContext(Vi),M=b!=null&&XM(x)&&h===!0,_=v.encodeLocation?v.encodeLocation(x).pathname:x.pathname,A=g.pathname,T=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;e||(A=A.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&S&&(T=es(T,S)||T);const E=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=A===_||!s&&A.startsWith(_)&&A.charAt(E)==="/",R=T!=null&&(T===_||!s&&T.startsWith(_)&&T.charAt(_.length)==="/"),L={isActive:O,isPending:R,isTransitioning:M},I=O?t:void 0,V;typeof i=="function"?V=i(L):V=[i,O?"active":null,R?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let X=typeof r=="function"?r(L):r;return P.createElement(eb,{...d,"aria-current":I,className:V,ref:m,style:X,to:l,viewTransition:h},typeof f=="function"?f(L):f)});FM.displayName="NavLink";var IM=P.forwardRef(({discover:u="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:r,method:l=sc,action:h,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:x,...g},b)=>{let v=GM(),S=YM(h,{relative:d}),M=l.toLowerCase()==="get"?"get":"post",_=typeof h=="string"&&tb.test(h),A=T=>{if(f&&f(T),T.defaultPrevented)return;T.preventDefault();let E=T.nativeEvent.submitter,O=(E==null?void 0:E.getAttribute("formmethod"))||l;v(E||T.currentTarget,{fetcherKey:t,method:O,navigate:e,replace:s,state:r,relative:d,preventScrollReset:m,viewTransition:x})};return P.createElement("form",{ref:b,method:M,action:S,onSubmit:i?f:A,...g,"data-discover":!_&&u==="render"?"true":void 0})});IM.displayName="Form";function HM(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ib(u){let t=P.useContext(rr);return $t(t,HM(u)),t}function VM(u,{target:t,replace:e,state:i,preventScrollReset:s,relative:r,viewTransition:l}={}){let h=Qw(),f=ns(),d=Wo(u,{relative:r});return P.useCallback(m=>{if(xM(m,t)){m.preventDefault();let x=e!==void 0?e:Fo(f)===Fo(d);h(u,{replace:x,state:i,preventScrollReset:s,relative:r,viewTransition:l})}},[f,h,d,e,i,t,u,s,r,l])}var PM=0,qM=()=>`__${String(++PM)}__`;function GM(){let{router:u}=ib("useSubmit"),{basename:t}=P.useContext(Vi),e=lM();return P.useCallback(async(i,s={})=>{let{action:r,method:l,encType:h,formData:f,body:d}=SM(i,t);if(s.navigate===!1){let m=s.fetcherKey||qM();await u.fetch(m,e,s.action||r,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await u.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[u,t,e])}function YM(u,{relative:t}={}){let{basename:e}=P.useContext(Vi),i=P.useContext(Sn);$t(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Wo(u||".",{relative:t})},l=ns();if(u==null){r.search=l.search;let h=new URLSearchParams(r.search),f=h.getAll("index");if(f.some(m=>m==="")){h.delete("index"),f.filter(x=>x).forEach(x=>h.append("index",x));let m=h.toString();r.search=m?`?${m}`:""}}return(!u||u===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(r.pathname=r.pathname==="/"?e:yn([e,r.pathname])),Fo(r)}function XM(u,t={}){let e=P.useContext(Zx);$t(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ib("useViewTransitionState"),s=Wo(u,{relative:t.relative});if(!e.isTransitioning)return!1;let r=es(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=es(e.nextLocation.pathname,i)||e.nextLocation.pathname;return rc(s.pathname,l)!=null||rc(s.pathname,r)!=null}new TextEncoder;const ZM="modulepreload",jM=function(u){return"/"+u},H0={},nb=function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(e.map(f=>{if(f=jM(f),f in H0)return;H0[f]=!0;const d=f.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const x=document.createElement("link");if(x.rel=d?"stylesheet":ZM,d||(x.as="script"),x.crossOrigin="",x.href=f,h&&x.setAttribute("nonce",h),document.head.appendChild(x),d)return new Promise((g,b)=>{x.addEventListener("load",g),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function r(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return s.then(l=>{for(const h of l||[])h.status==="rejected"&&r(h.reason);return t().catch(r)})},WM="Dark",JM={"--dark-mode":"1","--background-color":"#0a0a0a","--sky-color":"#000000","--model-bg-fallback":"#151515","--model-bg":"linear-gradient(180deg, #151515 0%, #000000 92%)","--background-color-alt":"#FFFFFF","--background-emphasis":"#101010","--text-color":"#FFFFFF","--text-color-alt":"#000000","--emphasis-text":"#FFFFFF","--accent-color":"#FF00FF","--accent-color-alt":"#00FFFF","--emphasis-shadow":"#FF00FF","--footer-profile-silhouette":100},QM={themeName:WM,themeStyles:JM},$M="Light",KM={"--dark-mode":"0","--background-color":"#FFEEEE","--model-bg-fallback":"rgb(255,238,238)","--model-bg":"linear-gradient(180deg, rgba(255,238,238,1) 0%, rgba(158,237,255,1) 92%)","--background-color-alt":"#151515","--background-emphasis":"#ffe3e3","--text-color":"#000000","--text-color-alt":"#FFEEEE","--emphasis-text":"#FF9999","--accent-color":"#FF00FF","--accent-color-alt":"#00FFFF","--emphasis-shadow":"#000000","--footer-profile-silhouette":0},t_={themeName:$M,themeStyles:KM},V0=u=>{let t;const e=new Set,i=(d,m)=>{const x=typeof d=="function"?d(t):d;if(!Object.is(x,t)){const g=t;t=m??(typeof x!="object"||x===null)?x:Object.assign({},t,x),e.forEach(b=>b(t,g))}},s=()=>t,h={setState:i,getState:s,getInitialState:()=>f,subscribe:d=>(e.add(d),()=>e.delete(d))},f=t=u(i,s,h);return h},e_=u=>u?V0(u):V0,i_=u=>u;function n_(u,t=i_){const e=qd.useSyncExternalStore(u.subscribe,()=>t(u.getState()),()=>t(u.getInitialState()));return qd.useDebugValue(e),e}const P0=u=>{const t=e_(u),e=i=>n_(t,i);return Object.assign(e,t),e},sb=u=>u?P0(u):P0,s_=u=>(t,e,i)=>{const s=i.subscribe;return i.subscribe=(l,h,f)=>{let d=l;if(h){const m=(f==null?void 0:f.equalityFn)||Object.is;let x=l(i.getState());d=g=>{const b=l(g);if(!m(x,b)){const v=x;h(x=b,v)}},f!=null&&f.fireImmediately&&h(x,x)}return s(d)},u(t,e,i)},jE=s_;function a_(u,t){let e;try{e=u()}catch{return}return{getItem:s=>{var r;const l=f=>f===null?null:JSON.parse(f,void 0),h=(r=e.getItem(s))!=null?r:null;return h instanceof Promise?h.then(l):l(h)},setItem:(s,r)=>e.setItem(s,JSON.stringify(r,void 0)),removeItem:s=>e.removeItem(s)}}const Zd=u=>t=>{try{const e=u(t);return e instanceof Promise?e:{then(i){return Zd(i)(e)},catch(i){return this}}}catch(e){return{then(i){return this},catch(i){return Zd(i)(e)}}}},r_=(u,t)=>(e,i,s)=>{let r={storage:a_(()=>localStorage),partialize:S=>S,version:0,merge:(S,M)=>({...M,...S}),...t},l=!1;const h=new Set,f=new Set;let d=r.storage;if(!d)return u((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),e(...S)},i,s);const m=()=>{const S=r.partialize({...i()});return d.setItem(r.name,{state:S,version:r.version})},x=s.setState;s.setState=(S,M)=>{x(S,M),m()};const g=u((...S)=>{e(...S),m()},i,s);s.getInitialState=()=>g;let b;const v=()=>{var S,M;if(!d)return;l=!1,h.forEach(A=>{var T;return A((T=i())!=null?T:g)});const _=((M=r.onRehydrateStorage)==null?void 0:M.call(r,(S=i())!=null?S:g))||void 0;return Zd(d.getItem.bind(d))(r.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==r.version){if(r.migrate){const T=r.migrate(A.state,A.version);return T instanceof Promise?T.then(E=>[!0,E]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var T;const[E,O]=A;if(b=r.merge(O,(T=i())!=null?T:g),e(b,!0),E)return m()}).then(()=>{_==null||_(b,void 0),b=i(),l=!0,f.forEach(A=>A(b))}).catch(A=>{_==null||_(void 0,A)})};return s.persist={setOptions:S=>{r={...r,...S},S.storage&&(d=S.storage)},clearStorage:()=>{d==null||d.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>v(),hasHydrated:()=>l,onHydrate:S=>(h.add(S),()=>{h.delete(S)}),onFinishHydration:S=>(f.add(S),()=>{f.delete(S)})},r.skipHydration||v(),b||g},o_=r_;var ab=(u=>(u[u.LIGHT=0]="LIGHT",u[u.DARK=1]="DARK",u))(ab||{});const q0="@ryqndev/theme",rb=[t_,QM],G0=u=>{const t=rb[u].themeStyles;for(const e in t)document.documentElement.style.setProperty(e,t[e])},l_=u=>(t,e,i)=>{const r=u((l,h)=>{const f=e();t(l,h);const d=e();f.theme!==d.theme&&G0(d.theme)},e,i);return G0(r.theme),r},u_=sb(l_(o_(u=>({theme:localStorage.getItem(q0)??ab.DARK,toggleTheme:()=>u(t=>({theme:(t.theme+1)%rb.length})),setTheme:t=>u({theme:t})}),{name:q0})));var hu={},$f={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Y0;function c_(){return Y0||(Y0=1,function(u){(function(){var t={}.hasOwnProperty;function e(){for(var r="",l=0;l<arguments.length;l++){var h=arguments[l];h&&(r=s(r,i(h)))}return r}function i(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return e.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var l="";for(var h in r)t.call(r,h)&&r[h]&&(l=s(l,h));return l}function s(r,l){return l?r?r+" "+l:r+l:r}u.exports?(e.default=e,u.exports=e):window.classNames=e})()}($f)),$f.exports}var Kf={exports:{}},td,X0;function h_(){if(X0)return td;X0=1;var u="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return td=u,td}var ed,Z0;function f_(){if(Z0)return ed;Z0=1;var u=h_();function t(){}function e(){}return e.resetWarningCache=t,ed=function(){function i(l,h,f,d,m,x){if(x!==u){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}i.isRequired=i;function s(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:e,resetWarningCache:t};return r.PropTypes=r,r},ed}var j0;function d_(){return j0||(j0=1,Kf.exports=f_()()),Kf.exports}var fu={},W0;function p_(){if(W0)return fu;W0=1,Object.defineProperty(fu,"__esModule",{value:!0});var u=sr(),t=e(u);function e(i){return i&&i.__esModule?i:{default:i}}return fu.default=function(){return t.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},t.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))},fu}var du={},J0;function m_(){if(J0)return du;J0=1,Object.defineProperty(du,"__esModule",{value:!0});var u=sr(),t=e(u);function e(i){return i&&i.__esModule?i:{default:i}}return du.default=function(){return t.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},t.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))},du}var pu={},Q0;function g_(){if(Q0)return pu;Q0=1,Object.defineProperty(pu,"__esModule",{value:!0}),pu.pointerCoord=u;function u(t){if(t){var e=t.changedTouches;if(e&&e.length>0){var i=e[0];return{x:i.clientX,y:i.clientY}}var s=t.pageX;if(s!==void 0)return{x:s,y:t.pageY}}return{x:0,y:0}}return pu}var $0;function y_(){if($0)return hu;$0=1,Object.defineProperty(hu,"__esModule",{value:!0});var u=Object.assign||function(T){for(var E=1;E<arguments.length;E++){var O=arguments[E];for(var R in O)Object.prototype.hasOwnProperty.call(O,R)&&(T[R]=O[R])}return T},t=function(){function T(E,O){for(var R=0;R<O.length;R++){var L=O[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,O,R){return O&&T(E.prototype,O),R&&T(E,R),E}}(),e=sr(),i=b(e),s=c_(),r=b(s),l=d_(),h=b(l),f=p_(),d=b(f),m=m_(),x=b(m),g=g_();function b(T){return T&&T.__esModule?T:{default:T}}function v(T,E){var O={};for(var R in T)E.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(T,R)&&(O[R]=T[R]);return O}function S(T,E){if(!(T instanceof E))throw new TypeError("Cannot call a class as a function")}function M(T,E){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:T}function _(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(T,E):T.__proto__=E)}var A=function(T){_(E,T);function E(O){S(this,E);var R=M(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O));return R.handleClick=R.handleClick.bind(R),R.handleTouchStart=R.handleTouchStart.bind(R),R.handleTouchMove=R.handleTouchMove.bind(R),R.handleTouchEnd=R.handleTouchEnd.bind(R),R.handleFocus=R.handleFocus.bind(R),R.handleBlur=R.handleBlur.bind(R),R.previouslyChecked=!!(O.checked||O.defaultChecked),R.state={checked:!!(O.checked||O.defaultChecked),hasFocus:!1},R}return t(E,[{key:"componentDidUpdate",value:function(R){R.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(R){if(!this.props.disabled){var L=this.input;if(R.target!==L&&!this.moved){this.previouslyChecked=L.checked,R.preventDefault(),L.focus(),L.click();return}var I=this.props.hasOwnProperty("checked")?this.props.checked:L.checked;this.setState({checked:I})}}},{key:"handleTouchStart",value:function(R){this.props.disabled||(this.startX=(0,g.pointerCoord)(R).x,this.activated=!0)}},{key:"handleTouchMove",value:function(R){if(this.activated&&(this.moved=!0,this.startX)){var L=(0,g.pointerCoord)(R).x;this.state.checked&&L+15<this.startX?(this.setState({checked:!1}),this.startX=L,this.activated=!0):L-15>this.startX&&(this.setState({checked:!0}),this.startX=L,this.activated=L<this.startX+5)}}},{key:"handleTouchEnd",value:function(R){if(this.moved){var L=this.input;if(R.preventDefault(),this.startX){var I=(0,g.pointerCoord)(R).x;this.previouslyChecked===!0&&this.startX+4>I?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,L.click()):this.startX-4<I&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,L.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(R){var L=this.props.onFocus;L&&L(R),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(R){var L=this.props.onBlur;L&&L(R),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(R){var L=this.props.icons;return L?L[R]===void 0?E.defaultProps.icons[R]:L[R]:null}},{key:"render",value:function(){var R=this,L=this.props,I=L.className;L.icons;var V=v(L,["className","icons"]),X=(0,r.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},I);return i.default.createElement("div",{className:X,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},i.default.createElement("div",{className:"react-toggle-track"},i.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),i.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),i.default.createElement("div",{className:"react-toggle-thumb"}),i.default.createElement("input",u({},V,{ref:function(dt){R.input=dt},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),E}(e.PureComponent);return hu.default=A,A.displayName="Toggle",A.defaultProps={icons:{checked:i.default.createElement(d.default,null),unchecked:i.default.createElement(x.default,null)}},A.propTypes={checked:h.default.bool,disabled:h.default.bool,defaultChecked:h.default.bool,onChange:h.default.func,onFocus:h.default.func,onBlur:h.default.func,className:h.default.string,name:h.default.string,value:h.default.string,id:h.default.string,"aria-labelledby":h.default.string,"aria-label":h.default.string,icons:h.default.oneOfType([h.default.bool,h.default.shape({checked:h.default.node,unchecked:h.default.node})])},hu}var x_=y_();const b_=Hx(x_),K0=u=>Symbol.iterator in u,t1=u=>"entries"in u,e1=(u,t)=>{const e=u instanceof Map?u:new Map(u.entries()),i=t instanceof Map?t:new Map(t.entries());if(e.size!==i.size)return!1;for(const[s,r]of e)if(!Object.is(r,i.get(s)))return!1;return!0},v_=(u,t)=>{const e=u[Symbol.iterator](),i=t[Symbol.iterator]();let s=e.next(),r=i.next();for(;!s.done&&!r.done;){if(!Object.is(s.value,r.value))return!1;s=e.next(),r=i.next()}return!!s.done&&!!r.done};function S_(u,t){return Object.is(u,t)?!0:typeof u!="object"||u===null||typeof t!="object"||t===null?!1:!K0(u)||!K0(t)?e1({entries:()=>Object.entries(u)},{entries:()=>Object.entries(t)}):t1(u)&&t1(t)?e1(u,t):v_(u,t)}function w_(u){const t=qd.useRef();return e=>{const i=u(e);return S_(t.current,i)?t.current:t.current=i}}const M_=P.memo(()=>{const{theme:u,toggle:t}=u_(w_(e=>({toggle:e.toggleTheme,theme:e.theme})));return Ut.jsx("div",{className:"t-w","data-mouse-hover":"button","data-mouse-hover-text":"toggle theme",onClick:t,children:Ut.jsx(b_,{checked:!!u,icons:!1,onChange:t})})}),ob=u=>new Proxy({},{get:(t,e)=>{if(typeof e=="string")return P.lazy(()=>u(e).then(i=>({default:i[e]})))}});function lb(u){var t,e,i="";if(typeof u=="string"||typeof u=="number")i+=u;else if(typeof u=="object")if(Array.isArray(u)){var s=u.length;for(t=0;t<s;t++)u[t]&&(e=lb(u[t]))&&(i&&(i+=" "),i+=e)}else for(e in u)u[e]&&(i&&(i+=" "),i+=e);return i}function ja(){for(var u,t,e=0,i="",s=arguments.length;e<s;e++)(u=arguments[e])&&(t=lb(u))&&(i&&(i+=" "),i+=t);return i}function __(){if(console&&console.warn){for(var u=arguments.length,t=new Array(u),e=0;e<u;e++)t[e]=arguments[e];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const i1={};function jd(){for(var u=arguments.length,t=new Array(u),e=0;e<u;e++)t[e]=arguments[e];typeof t[0]=="string"&&i1[t[0]]||(typeof t[0]=="string"&&(i1[t[0]]=new Date),__(...t))}const ub=(u,t)=>()=>{if(u.isInitialized)t();else{const e=()=>{setTimeout(()=>{u.off("initialized",e)},0),t()};u.on("initialized",e)}};function n1(u,t,e){u.loadNamespaces(t,ub(u,e))}function s1(u,t,e,i){typeof e=="string"&&(e=[e]),e.forEach(s=>{u.options.ns.indexOf(s)<0&&u.options.ns.push(s)}),u.loadLanguages(t,ub(u,i))}function A_(u,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=t.languages[0],s=t.options?t.options.fallbackLng:!1,r=t.languages[t.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(h,f)=>{const d=t.services.backendConnector.state[`${h}|${f}`];return d===-1||d===2};return e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!l(t.isLanguageChangingTo,u)?!1:!!(t.hasResourceBundle(i,u)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||l(i,u)&&(!s||l(r,u)))}function T_(u,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(jd("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(u,{lng:e.lng,precheck:(s,r)=>{if(e.bindI18n&&e.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!r(s.isLanguageChangingTo,u))return!1}}):A_(u,t,e)}const C_=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,E_={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},z_=u=>E_[u],R_=u=>u.replace(C_,z_);let Wd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:R_};function O_(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Wd={...Wd,...u}}function B_(){return Wd}let cb;function N_(u){cb=u}function D_(){return cb}const L_={type:"3rdParty",init(u){O_(u.options.react),N_(u)}},k_=P.createContext();class U_{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const F_=(u,t)=>{const e=P.useRef();return P.useEffect(()=>{e.current=u},[u,t]),e.current};function I_(u){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:e}=t,{i18n:i,defaultNS:s}=P.useContext(k_)||{},r=e||i||D_();if(r&&!r.reportNamespaces&&(r.reportNamespaces=new U_),!r){jd("You will need to pass in an i18next instance by using initReactI18next");const T=(O,R)=>typeof R=="string"?R:R&&typeof R=="object"&&typeof R.defaultValue=="string"?R.defaultValue:Array.isArray(O)?O[O.length-1]:O,E=[T,{},!1];return E.t=T,E.i18n={},E.ready=!1,E}r.options.react&&r.options.react.wait!==void 0&&jd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...B_(),...r.options.react,...t},{useSuspense:h,keyPrefix:f}=l;let d=s||r.options&&r.options.defaultNS;d=typeof d=="string"?[d]:d||["translation"],r.reportNamespaces.addUsedNamespaces&&r.reportNamespaces.addUsedNamespaces(d);const m=(r.isInitialized||r.initializedStoreOnce)&&d.every(T=>T_(T,r,l));function x(){return r.getFixedT(t.lng||null,l.nsMode==="fallback"?d:d[0],f)}const[g,b]=P.useState(x);let v=d.join();t.lng&&(v=`${t.lng}${v}`);const S=F_(v),M=P.useRef(!0);P.useEffect(()=>{const{bindI18n:T,bindI18nStore:E}=l;M.current=!0,!m&&!h&&(t.lng?s1(r,t.lng,d,()=>{M.current&&b(x)}):n1(r,d,()=>{M.current&&b(x)})),m&&S&&S!==v&&M.current&&b(x);function O(){M.current&&b(x)}return T&&r&&r.on(T,O),E&&r&&r.store.on(E,O),()=>{M.current=!1,T&&r&&T.split(" ").forEach(R=>r.off(R,O)),E&&r&&E.split(" ").forEach(R=>r.store.off(R,O))}},[r,v]);const _=P.useRef(!0);P.useEffect(()=>{M.current&&!_.current&&b(x),_.current=!1},[r,f]);const A=[g,r,m];if(A.t=g,A.i18n=r,A.ready=m,m||!m&&!h)return A;throw new Promise(T=>{t.lng?s1(r,t.lng,d,()=>T()):n1(r,d,()=>T())})}const H_="_container_7zxws_10",V_="_rotate_7zxws_1",P_="_link_7zxws_41",q_="_button_7zxws_62",id={container:H_,rotate:V_,link:P_,button:q_};function G_(u,t=25){const[e,i]=P.useState(u),[s,r]=P.useState(!1);return P.useEffect(()=>{const l=setTimeout(()=>{i(u)},t);return()=>{clearTimeout(l)}},[u,t]),P.useEffect(()=>{s||(i(u),r(!0),setTimeout(()=>{r(!1),i(u)},t))},[u,t]),e}const Y_=P.memo(function(){const{t}=I_(),[e,i]=P.useState({pos:[-100,-100],target:"none",message:""}),s=G_(e,80);return P.useEffect(()=>{const r=l=>{var h,f;i({pos:[l.clientX,l.clientY],target:(h=l.target.dataset)==null?void 0:h.mouseHover,message:((f=l.target.dataset)==null?void 0:f.mouseHoverText)??""})};return window.addEventListener("mousemove",r),()=>{window.removeEventListener("mousemove",r)}},[]),Ut.jsx("div",{className:ja(id.container,s.target==="link"&&id.link,s.target==="button"&&id.button),style:{top:s.pos[1],left:s.pos[0]},children:Ut.jsxs("svg",{viewBox:"0 0 300 300",enableBackground:"new 0 0 300 300",children:[Ut.jsx("defs",{children:Ut.jsx("path",{id:"circleTextPath",d:"M 150, 150 m -120, 0 a 120,120 0 0,1 240,0 a 120,120 0 0,1 -240,0"})}),Ut.jsxs("g",{children:[Ut.jsx("use",{xlinkHref:"#circleTextPath",fill:"none"}),Ut.jsx("text",{fill:"#fff",children:Ut.jsx("textPath",{xlinkHref:"#circleTextPath",children:t(s.message)})})]})]})})});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const hb="171",WE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},JE={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},QE=0,$E=1,KE=2,t3=3,e3=0,i3=1,n3=2,s3=3,Jd=0,fb=1,a3=2,X_=0,a1=1,r3=2,o3=3,l3=4,u3=5,r1=100,c3=101,h3=102,f3=103,d3=104,p3=200,m3=201,g3=202,y3=203,o1=204,l1=205,x3=206,b3=207,v3=208,S3=209,w3=210,M3=211,_3=212,A3=213,T3=214,C3=0,E3=1,z3=2,u1=3,R3=4,O3=5,B3=6,N3=7,hp=0,D3=1,L3=2,k3=0,U3=1,F3=2,I3=3,H3=4,V3=5,P3=6,q3=7,c1="attached",Z_="detached",fp=300,dp=301,j_=302,W_=303,J_=304,Q_=306,Qd=1e3,Ui=1001,$d=1002,Ri=1003,$_=1004,G3=1004,K_=1005,Y3=1005,wi=1006,t2=1007,X3=1007,Tc=1008,Z3=1008,db=1009,e2=1010,i2=1011,n2=1012,s2=1013,pp=1014,ir=1015,a2=1016,r2=1017,o2=1018,l2=1020,u2=35902,c2=1021,h2=1022,Io=1023,f2=1024,d2=1025,nd=1026,h1=1027,pb=1028,mb=1029,p2=1030,m2=1031,j3=1032,g2=1033,y2=33776,x2=33777,b2=33778,v2=33779,S2=35840,w2=35841,M2=35842,_2=35843,A2=36196,T2=37492,C2=37496,E2=37808,z2=37809,R2=37810,O2=37811,B2=37812,N2=37813,D2=37814,L2=37815,k2=37816,U2=37817,F2=37818,I2=37819,H2=37820,V2=37821,P2=36492,q2=36494,G2=36495,Y2=36283,X2=36284,Z2=36285,j2=36286,W2=2200,J2=2201,Q2=2202,oc=2300,Kd=2301,sd=2302,Wa=2400,Ja=2401,lc=2402,mp=2500,gb=2501,W3=0,J3=1,Q3=2,$2=3200,$3=3201,K3=3202,tz=3203,or=0,ez=1,yb="",vi="srgb",f1="srgb-linear",d1="linear",ad="srgb",iz=0,Ca=7680,nz=7681,sz=7682,az=7683,rz=34055,oz=34056,lz=5386,uz=512,cz=513,hz=514,fz=515,dz=516,pz=517,mz=518,p1=519,gz=512,yz=513,xz=514,bz=515,vz=516,Sz=517,wz=518,Mz=519,uc=35044,_z=35048,Az=35040,Tz=35045,Cz=35049,Ez=35041,zz=35046,Rz=35050,Oz=35042,Bz="100",Nz="300 es",Kn=2e3,cc=2001;class ss{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const s=this._listeners[t];if(s!==void 0){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const s=i.slice(0);for(let r=0,l=s.length;r<l;r++)s[r].call(this,t);t.target=null}}}const Re=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let m1=1234567;const Hs=Math.PI/180,Ho=180/Math.PI;function si(){const u=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Re[u&255]+Re[u>>8&255]+Re[u>>16&255]+Re[u>>24&255]+"-"+Re[t&255]+Re[t>>8&255]+"-"+Re[t>>16&15|64]+Re[t>>24&255]+"-"+Re[e&63|128]+Re[e>>8&255]+"-"+Re[e>>16&255]+Re[e>>24&255]+Re[i&255]+Re[i>>8&255]+Re[i>>16&255]+Re[i>>24&255]).toLowerCase()}function vt(u,t,e){return Math.max(t,Math.min(e,u))}function gp(u,t){return(u%t+t)%t}function K2(u,t,e,i,s){return i+(u-t)*(s-i)/(e-t)}function tA(u,t,e){return u!==t?(e-u)/(t-u):0}function Do(u,t,e){return(1-e)*u+e*t}function eA(u,t,e,i){return Do(u,t,1-Math.exp(-e*i))}function iA(u,t=1){return t-Math.abs(gp(u,t*2)-t)}function nA(u,t,e){return u<=t?0:u>=e?1:(u=(u-t)/(e-t),u*u*(3-2*u))}function sA(u,t,e){return u<=t?0:u>=e?1:(u=(u-t)/(e-t),u*u*u*(u*(u*6-15)+10))}function aA(u,t){return u+Math.floor(Math.random()*(t-u+1))}function rA(u,t){return u+Math.random()*(t-u)}function oA(u){return u*(.5-Math.random())}function lA(u){u!==void 0&&(m1=u);let t=m1+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function uA(u){return u*Hs}function cA(u){return u*Ho}function hA(u){return(u&u-1)===0&&u!==0}function fA(u){return Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function dA(u){return Math.pow(2,Math.floor(Math.log(u)/Math.LN2))}function pA(u,t,e,i,s){const r=Math.cos,l=Math.sin,h=r(e/2),f=l(e/2),d=r((t+i)/2),m=l((t+i)/2),x=r((t-i)/2),g=l((t-i)/2),b=r((i-t)/2),v=l((i-t)/2);switch(s){case"XYX":u.set(h*m,f*x,f*g,h*d);break;case"YZY":u.set(f*g,h*m,f*x,h*d);break;case"ZXZ":u.set(f*x,f*g,h*m,h*d);break;case"XZX":u.set(h*m,f*v,f*b,h*d);break;case"YXY":u.set(f*b,h*m,f*v,h*d);break;case"ZYZ":u.set(f*v,f*b,h*m,h*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function Ue(u,t){switch(t.constructor){case Float32Array:return u;case Uint32Array:return u/4294967295;case Uint16Array:return u/65535;case Uint8Array:return u/255;case Int32Array:return Math.max(u/2147483647,-1);case Int16Array:return Math.max(u/32767,-1);case Int8Array:return Math.max(u/127,-1);default:throw new Error("Invalid component type.")}}function Mt(u,t){switch(t.constructor){case Float32Array:return u;case Uint32Array:return Math.round(u*4294967295);case Uint16Array:return Math.round(u*65535);case Uint8Array:return Math.round(u*255);case Int32Array:return Math.round(u*2147483647);case Int16Array:return Math.round(u*32767);case Int8Array:return Math.round(u*127);default:throw new Error("Invalid component type.")}}const Dz={DEG2RAD:Hs,RAD2DEG:Ho,generateUUID:si,clamp:vt,euclideanModulo:gp,mapLinear:K2,inverseLerp:tA,lerp:Do,damp:eA,pingpong:iA,smoothstep:nA,smootherstep:sA,randInt:aA,randFloat:rA,randFloatSpread:oA,seededRandom:lA,degToRad:uA,radToDeg:cA,isPowerOfTwo:hA,ceilPowerOfTwo:fA,floorPowerOfTwo:dA,setQuaternionFromProperEuler:pA,normalize:Mt,denormalize:Ue};class J{constructor(t=0,e=0){J.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(vt(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),r=this.x-t.x,l=this.y-t.y;return this.x=r*i-l*s+t.x,this.y=r*s+l*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Pi{constructor(t,e,i,s,r,l,h,f,d){Pi.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,s,r,l,h,f,d)}set(t,e,i,s,r,l,h,f,d){const m=this.elements;return m[0]=t,m[1]=s,m[2]=h,m[3]=e,m[4]=r,m[5]=f,m[6]=i,m[7]=l,m[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,l=i[0],h=i[3],f=i[6],d=i[1],m=i[4],x=i[7],g=i[2],b=i[5],v=i[8],S=s[0],M=s[3],_=s[6],A=s[1],T=s[4],E=s[7],O=s[2],R=s[5],L=s[8];return r[0]=l*S+h*A+f*O,r[3]=l*M+h*T+f*R,r[6]=l*_+h*E+f*L,r[1]=d*S+m*A+x*O,r[4]=d*M+m*T+x*R,r[7]=d*_+m*E+x*L,r[2]=g*S+b*A+v*O,r[5]=g*M+b*T+v*R,r[8]=g*_+b*E+v*L,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],l=t[4],h=t[5],f=t[6],d=t[7],m=t[8];return e*l*m-e*h*d-i*r*m+i*h*f+s*r*d-s*l*f}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],l=t[4],h=t[5],f=t[6],d=t[7],m=t[8],x=m*l-h*d,g=h*f-m*r,b=d*r-l*f,v=e*x+i*g+s*b;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/v;return t[0]=x*S,t[1]=(s*d-m*i)*S,t[2]=(h*i-s*l)*S,t[3]=g*S,t[4]=(m*e-s*f)*S,t[5]=(s*r-h*e)*S,t[6]=b*S,t[7]=(i*f-d*e)*S,t[8]=(l*e-i*r)*S,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,r,l,h){const f=Math.cos(r),d=Math.sin(r);return this.set(i*f,i*d,-i*(f*l+d*h)+l+t,-s*d,s*f,-s*(-d*l+f*h)+h+e,0,0,1),this}scale(t,e){return this.premultiply(rd.makeScale(t,e)),this}rotate(t){return this.premultiply(rd.makeRotation(-t)),this}translate(t,e){return this.premultiply(rd.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const rd=new Pi;function mA(u){for(let t=u.length-1;t>=0;--t)if(u[t]>=65535)return!0;return!1}const gA={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Qa(u,t){return new gA[u](t)}function hc(u){return document.createElementNS("http://www.w3.org/1999/xhtml",u)}function Lz(){const u=hc("canvas");return u.style.display="block",u}const g1={};function kz(u){u in g1||(g1[u]=!0,console.warn(u))}function Uz(u,t,e){return new Promise(function(i,s){function r(){switch(u.clientWaitSync(t,u.SYNC_FLUSH_COMMANDS_BIT,0)){case u.WAIT_FAILED:s();break;case u.TIMEOUT_EXPIRED:setTimeout(r,e);break;default:i()}}setTimeout(r,e)})}function Fz(u){const t=u.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function Iz(u){const t=u.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const y1=new Pi().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),x1=new Pi().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function yA(){const u={enabled:!0,workingColorSpace:f1,spaces:{},convert:function(s,r,l){return this.enabled===!1||r===l||!r||!l||(this.spaces[r].transfer===ad&&(s.r=xn(s.r),s.g=xn(s.g),s.b=xn(s.b)),this.spaces[r].primaries!==this.spaces[l].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===ad&&(s.r=tr(s.r),s.g=tr(s.g),s.b=tr(s.b))),s},fromWorkingColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},toWorkingColorSpace:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===yb?d1:this.spaces[s].transfer},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,l){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return u.define({[f1]:{primaries:t,whitePoint:i,transfer:d1,toXYZ:y1,fromXYZ:x1,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:vi},outputColorSpaceConfig:{drawingBufferColorSpace:vi}},[vi]:{primaries:t,whitePoint:i,transfer:ad,toXYZ:y1,fromXYZ:x1,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:vi}}}),u}const ii=yA();function xn(u){return u<.04045?u*.0773993808:Math.pow(u*.9478672986+.0521327014,2.4)}function tr(u){return u<.0031308?u*12.92:1.055*Math.pow(u,.41666)-.055}let Ea;class xA{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{Ea===void 0&&(Ea=hc("canvas")),Ea.width=t.width,Ea.height=t.height;const i=Ea.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=Ea}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=hc("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),r=s.data;for(let l=0;l<r.length;l++)r[l]=xn(r[l]/255)*255;return i.putImageData(s,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(xn(e[i]/255)*255):e[i]=xn(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let bA=0;class $a{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bA++}),this.uuid=si(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let l=0,h=s.length;l<h;l++)s[l].isDataTexture?r.push(od(s[l].image)):r.push(od(s[l]))}else r=od(s);i.url=r}return e||(t.images[this.uuid]=i),i}}function od(u){return typeof HTMLImageElement<"u"&&u instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&u instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&u instanceof ImageBitmap?xA.getDataURL(u):u.data?{data:Array.from(u.data),width:u.width,height:u.height,type:u.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let vA=0;class ye extends ss{constructor(t=ye.DEFAULT_IMAGE,e=ye.DEFAULT_MAPPING,i=Ui,s=Ui,r=wi,l=Tc,h=Io,f=db,d=ye.DEFAULT_ANISOTROPY,m=yb){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:vA++}),this.uuid=si(),this.name="",this.source=new $a(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=l,this.anisotropy=d,this.format=h,this.internalFormat=null,this.type=f,this.offset=new J(0,0),this.repeat=new J(1,1),this.center=new J(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Pi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==fp)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Qd:t.x=t.x-Math.floor(t.x);break;case Ui:t.x=t.x<0?0:1;break;case $d:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Qd:t.y=t.y-Math.floor(t.y);break;case Ui:t.y=t.y<0?0:1;break;case $d:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}ye.DEFAULT_IMAGE=null;ye.DEFAULT_MAPPING=fp;ye.DEFAULT_ANISOTROPY=1;class Me{constructor(t=0,e=0,i=0,s=1){Me.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=this.w,l=t.elements;return this.x=l[0]*e+l[4]*i+l[8]*s+l[12]*r,this.y=l[1]*e+l[5]*i+l[9]*s+l[13]*r,this.z=l[2]*e+l[6]*i+l[10]*s+l[14]*r,this.w=l[3]*e+l[7]*i+l[11]*s+l[15]*r,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,r;const f=t.elements,d=f[0],m=f[4],x=f[8],g=f[1],b=f[5],v=f[9],S=f[2],M=f[6],_=f[10];if(Math.abs(m-g)<.01&&Math.abs(x-S)<.01&&Math.abs(v-M)<.01){if(Math.abs(m+g)<.1&&Math.abs(x+S)<.1&&Math.abs(v+M)<.1&&Math.abs(d+b+_-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const T=(d+1)/2,E=(b+1)/2,O=(_+1)/2,R=(m+g)/4,L=(x+S)/4,I=(v+M)/4;return T>E&&T>O?T<.01?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(T),s=R/i,r=L/i):E>O?E<.01?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(E),i=R/s,r=I/s):O<.01?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(O),i=L/r,s=I/r),this.set(i,s,r,e),this}let A=Math.sqrt((M-v)*(M-v)+(x-S)*(x-S)+(g-m)*(g-m));return Math.abs(A)<.001&&(A=1),this.x=(M-v)/A,this.y=(x-S)/A,this.z=(g-m)/A,this.w=Math.acos((d+b+_-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this.z=vt(this.z,t.z,e.z),this.w=vt(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this.z=vt(this.z,t,e),this.w=vt(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class SA extends ss{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Me(0,0,t,e),this.scissorTest=!1,this.viewport=new Me(0,0,t,e);const s={width:t,height:e,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:wi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const r=new ye(s,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);r.flipY=!1,r.generateMipmaps=i.generateMipmaps,r.internalFormat=i.internalFormat,this.textures=[];const l=i.count;for(let h=0;h<l;h++)this.textures[h]=r.clone(),this.textures[h].isRenderTargetTexture=!0;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=t,this.textures[s].image.height=e,this.textures[s].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let i=0,s=t.textures.length;i<s;i++)this.textures[i]=t.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new $a(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Cc extends SA{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class wA extends ye{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ri,this.minFilter=Ri,this.wrapR=Ui,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class Hz extends Cc{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new wA(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class MA extends ye{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ri,this.minFilter=Ri,this.wrapR=Ui,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Vz extends Cc{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new MA(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class ai{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,r,l,h){let f=i[s+0],d=i[s+1],m=i[s+2],x=i[s+3];const g=r[l+0],b=r[l+1],v=r[l+2],S=r[l+3];if(h===0){t[e+0]=f,t[e+1]=d,t[e+2]=m,t[e+3]=x;return}if(h===1){t[e+0]=g,t[e+1]=b,t[e+2]=v,t[e+3]=S;return}if(x!==S||f!==g||d!==b||m!==v){let M=1-h;const _=f*g+d*b+m*v+x*S,A=_>=0?1:-1,T=1-_*_;if(T>Number.EPSILON){const O=Math.sqrt(T),R=Math.atan2(O,_*A);M=Math.sin(M*R)/O,h=Math.sin(h*R)/O}const E=h*A;if(f=f*M+g*E,d=d*M+b*E,m=m*M+v*E,x=x*M+S*E,M===1-h){const O=1/Math.sqrt(f*f+d*d+m*m+x*x);f*=O,d*=O,m*=O,x*=O}}t[e]=f,t[e+1]=d,t[e+2]=m,t[e+3]=x}static multiplyQuaternionsFlat(t,e,i,s,r,l){const h=i[s],f=i[s+1],d=i[s+2],m=i[s+3],x=r[l],g=r[l+1],b=r[l+2],v=r[l+3];return t[e]=h*v+m*x+f*b-d*g,t[e+1]=f*v+m*g+d*x-h*b,t[e+2]=d*v+m*b+h*g-f*x,t[e+3]=m*v-h*x-f*g-d*b,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,r=t._z,l=t._order,h=Math.cos,f=Math.sin,d=h(i/2),m=h(s/2),x=h(r/2),g=f(i/2),b=f(s/2),v=f(r/2);switch(l){case"XYZ":this._x=g*m*x+d*b*v,this._y=d*b*x-g*m*v,this._z=d*m*v+g*b*x,this._w=d*m*x-g*b*v;break;case"YXZ":this._x=g*m*x+d*b*v,this._y=d*b*x-g*m*v,this._z=d*m*v-g*b*x,this._w=d*m*x+g*b*v;break;case"ZXY":this._x=g*m*x-d*b*v,this._y=d*b*x+g*m*v,this._z=d*m*v+g*b*x,this._w=d*m*x-g*b*v;break;case"ZYX":this._x=g*m*x-d*b*v,this._y=d*b*x+g*m*v,this._z=d*m*v-g*b*x,this._w=d*m*x+g*b*v;break;case"YZX":this._x=g*m*x+d*b*v,this._y=d*b*x+g*m*v,this._z=d*m*v-g*b*x,this._w=d*m*x-g*b*v;break;case"XZY":this._x=g*m*x-d*b*v,this._y=d*b*x-g*m*v,this._z=d*m*v+g*b*x,this._w=d*m*x+g*b*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],r=e[8],l=e[1],h=e[5],f=e[9],d=e[2],m=e[6],x=e[10],g=i+h+x;if(g>0){const b=.5/Math.sqrt(g+1);this._w=.25/b,this._x=(m-f)*b,this._y=(r-d)*b,this._z=(l-s)*b}else if(i>h&&i>x){const b=2*Math.sqrt(1+i-h-x);this._w=(m-f)/b,this._x=.25*b,this._y=(s+l)/b,this._z=(r+d)/b}else if(h>x){const b=2*Math.sqrt(1+h-i-x);this._w=(r-d)/b,this._x=(s+l)/b,this._y=.25*b,this._z=(f+m)/b}else{const b=2*Math.sqrt(1+x-i-h);this._w=(l-s)/b,this._x=(r+d)/b,this._y=(f+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(vt(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,r=t._z,l=t._w,h=e._x,f=e._y,d=e._z,m=e._w;return this._x=i*m+l*h+s*d-r*f,this._y=s*m+l*f+r*h-i*d,this._z=r*m+l*d+i*f-s*h,this._w=l*m-i*h-s*f-r*d,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,s=this._y,r=this._z,l=this._w;let h=l*t._w+i*t._x+s*t._y+r*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=l,this._x=i,this._y=s,this._z=r,this;const f=1-h*h;if(f<=Number.EPSILON){const b=1-e;return this._w=b*l+e*this._w,this._x=b*i+e*this._x,this._y=b*s+e*this._y,this._z=b*r+e*this._z,this.normalize(),this}const d=Math.sqrt(f),m=Math.atan2(d,h),x=Math.sin((1-e)*m)/d,g=Math.sin(e*m)/d;return this._w=l*x+this._w*g,this._x=i*x+this._x*g,this._y=s*x+this._y*g,this._z=r*x+this._z*g,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class B{constructor(t=0,e=0,i=0){B.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(b1.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(b1.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*s,this.y=r[1]*e+r[4]*i+r[7]*s,this.z=r[2]*e+r[5]*i+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=t.elements,l=1/(r[3]*e+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*s+r[12])*l,this.y=(r[1]*e+r[5]*i+r[9]*s+r[13])*l,this.z=(r[2]*e+r[6]*i+r[10]*s+r[14])*l,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,r=t.x,l=t.y,h=t.z,f=t.w,d=2*(l*s-h*i),m=2*(h*e-r*s),x=2*(r*i-l*e);return this.x=e+f*d+l*x-h*m,this.y=i+f*m+h*d-r*x,this.z=s+f*x+r*m-l*d,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*s,this.y=r[1]*e+r[5]*i+r[9]*s,this.z=r[2]*e+r[6]*i+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=vt(this.x,t.x,e.x),this.y=vt(this.y,t.y,e.y),this.z=vt(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=vt(this.x,t,e),this.y=vt(this.y,t,e),this.z=vt(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(vt(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,r=t.z,l=e.x,h=e.y,f=e.z;return this.x=s*f-r*h,this.y=r*l-i*f,this.z=i*h-s*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return ld.copy(this).projectOnVector(t),this.sub(ld)}reflect(t){return this.sub(ld.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(vt(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ld=new B,b1=new ai;class Ye{constructor(t=new B(1/0,1/0,1/0),e=new B(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Ci.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Ci.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Ci.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const r=i.getAttribute("position");if(e===!0&&r!==void 0&&t.isInstancedMesh!==!0)for(let l=0,h=r.count;l<h;l++)t.isMesh===!0?t.getVertexPosition(l,Ci):Ci.fromBufferAttribute(r,l),Ci.applyMatrix4(t.matrixWorld),this.expandByPoint(Ci);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),mu.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),mu.copy(i.boundingBox)),mu.applyMatrix4(t.matrixWorld),this.union(mu)}const s=t.children;for(let r=0,l=s.length;r<l;r++)this.expandByObject(s[r],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Ci),Ci.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(go),gu.subVectors(this.max,go),za.subVectors(t.a,go),Ra.subVectors(t.b,go),Oa.subVectors(t.c,go),Xn.subVectors(Ra,za),Zn.subVectors(Oa,Ra),Es.subVectors(za,Oa);let e=[0,-Xn.z,Xn.y,0,-Zn.z,Zn.y,0,-Es.z,Es.y,Xn.z,0,-Xn.x,Zn.z,0,-Zn.x,Es.z,0,-Es.x,-Xn.y,Xn.x,0,-Zn.y,Zn.x,0,-Es.y,Es.x,0];return!ud(e,za,Ra,Oa,gu)||(e=[1,0,0,0,1,0,0,0,1],!ud(e,za,Ra,Oa,gu))?!1:(yu.crossVectors(Xn,Zn),e=[yu.x,yu.y,yu.z],ud(e,za,Ra,Oa,gu))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Ci).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Ci).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(un[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),un[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),un[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),un[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),un[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),un[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),un[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),un[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(un),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const un=[new B,new B,new B,new B,new B,new B,new B,new B],Ci=new B,mu=new Ye,za=new B,Ra=new B,Oa=new B,Xn=new B,Zn=new B,Es=new B,go=new B,gu=new B,yu=new B,zs=new B;function ud(u,t,e,i,s){for(let r=0,l=u.length-3;r<=l;r+=3){zs.fromArray(u,r);const h=s.x*Math.abs(zs.x)+s.y*Math.abs(zs.y)+s.z*Math.abs(zs.z),f=t.dot(zs),d=e.dot(zs),m=i.dot(zs);if(Math.max(-Math.max(f,d,m),Math.min(f,d,m))>h)return!1}return!0}const _A=new Ye,yo=new B,cd=new B;class Fe{constructor(t=new B,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):_A.setFromPoints(t).getCenter(i);let s=0;for(let r=0,l=t.length;r<l;r++)s=Math.max(s,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;yo.subVectors(t,this.center);const e=yo.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=(i-this.radius)*.5;this.center.addScaledVector(yo,s/i),this.radius+=s}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(cd.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(yo.copy(t.center).add(cd)),this.expandByPoint(yo.copy(t.center).sub(cd))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const cn=new B,hd=new B,xu=new B,jn=new B,fd=new B,bu=new B,dd=new B;class Jo{constructor(t=new B,e=new B(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,cn)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=cn.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(cn.copy(this.origin).addScaledVector(this.direction,e),cn.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){hd.copy(t).add(e).multiplyScalar(.5),xu.copy(e).sub(t).normalize(),jn.copy(this.origin).sub(hd);const r=t.distanceTo(e)*.5,l=-this.direction.dot(xu),h=jn.dot(this.direction),f=-jn.dot(xu),d=jn.lengthSq(),m=Math.abs(1-l*l);let x,g,b,v;if(m>0)if(x=l*f-h,g=l*h-f,v=r*m,x>=0)if(g>=-v)if(g<=v){const S=1/m;x*=S,g*=S,b=x*(x+l*g+2*h)+g*(l*x+g+2*f)+d}else g=r,x=Math.max(0,-(l*g+h)),b=-x*x+g*(g+2*f)+d;else g=-r,x=Math.max(0,-(l*g+h)),b=-x*x+g*(g+2*f)+d;else g<=-v?(x=Math.max(0,-(-l*r+h)),g=x>0?-r:Math.min(Math.max(-r,-f),r),b=-x*x+g*(g+2*f)+d):g<=v?(x=0,g=Math.min(Math.max(-r,-f),r),b=g*(g+2*f)+d):(x=Math.max(0,-(l*r+h)),g=x>0?r:Math.min(Math.max(-r,-f),r),b=-x*x+g*(g+2*f)+d);else g=l>0?-r:r,x=Math.max(0,-(l*g+h)),b=-x*x+g*(g+2*f)+d;return i&&i.copy(this.origin).addScaledVector(this.direction,x),s&&s.copy(hd).addScaledVector(xu,g),b}intersectSphere(t,e){cn.subVectors(t.center,this.origin);const i=cn.dot(this.direction),s=cn.dot(cn)-i*i,r=t.radius*t.radius;if(s>r)return null;const l=Math.sqrt(r-s),h=i-l,f=i+l;return f<0?null:h<0?this.at(f,e):this.at(h,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,r,l,h,f;const d=1/this.direction.x,m=1/this.direction.y,x=1/this.direction.z,g=this.origin;return d>=0?(i=(t.min.x-g.x)*d,s=(t.max.x-g.x)*d):(i=(t.max.x-g.x)*d,s=(t.min.x-g.x)*d),m>=0?(r=(t.min.y-g.y)*m,l=(t.max.y-g.y)*m):(r=(t.max.y-g.y)*m,l=(t.min.y-g.y)*m),i>l||r>s||((r>i||isNaN(i))&&(i=r),(l<s||isNaN(s))&&(s=l),x>=0?(h=(t.min.z-g.z)*x,f=(t.max.z-g.z)*x):(h=(t.max.z-g.z)*x,f=(t.min.z-g.z)*x),i>f||h>s)||((h>i||i!==i)&&(i=h),(f<s||s!==s)&&(s=f),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return this.intersectBox(t,cn)!==null}intersectTriangle(t,e,i,s,r){fd.subVectors(e,t),bu.subVectors(i,t),dd.crossVectors(fd,bu);let l=this.direction.dot(dd),h;if(l>0){if(s)return null;h=1}else if(l<0)h=-1,l=-l;else return null;jn.subVectors(this.origin,t);const f=h*this.direction.dot(bu.crossVectors(jn,bu));if(f<0)return null;const d=h*this.direction.dot(fd.cross(jn));if(d<0||f+d>l)return null;const m=-h*jn.dot(dd);return m<0?null:this.at(m/l,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class At{constructor(t,e,i,s,r,l,h,f,d,m,x,g,b,v,S,M){At.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,s,r,l,h,f,d,m,x,g,b,v,S,M)}set(t,e,i,s,r,l,h,f,d,m,x,g,b,v,S,M){const _=this.elements;return _[0]=t,_[4]=e,_[8]=i,_[12]=s,_[1]=r,_[5]=l,_[9]=h,_[13]=f,_[2]=d,_[6]=m,_[10]=x,_[14]=g,_[3]=b,_[7]=v,_[11]=S,_[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new At().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/Ba.setFromMatrixColumn(t,0).length(),r=1/Ba.setFromMatrixColumn(t,1).length(),l=1/Ba.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*l,e[9]=i[9]*l,e[10]=i[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,r=t.z,l=Math.cos(i),h=Math.sin(i),f=Math.cos(s),d=Math.sin(s),m=Math.cos(r),x=Math.sin(r);if(t.order==="XYZ"){const g=l*m,b=l*x,v=h*m,S=h*x;e[0]=f*m,e[4]=-f*x,e[8]=d,e[1]=b+v*d,e[5]=g-S*d,e[9]=-h*f,e[2]=S-g*d,e[6]=v+b*d,e[10]=l*f}else if(t.order==="YXZ"){const g=f*m,b=f*x,v=d*m,S=d*x;e[0]=g+S*h,e[4]=v*h-b,e[8]=l*d,e[1]=l*x,e[5]=l*m,e[9]=-h,e[2]=b*h-v,e[6]=S+g*h,e[10]=l*f}else if(t.order==="ZXY"){const g=f*m,b=f*x,v=d*m,S=d*x;e[0]=g-S*h,e[4]=-l*x,e[8]=v+b*h,e[1]=b+v*h,e[5]=l*m,e[9]=S-g*h,e[2]=-l*d,e[6]=h,e[10]=l*f}else if(t.order==="ZYX"){const g=l*m,b=l*x,v=h*m,S=h*x;e[0]=f*m,e[4]=v*d-b,e[8]=g*d+S,e[1]=f*x,e[5]=S*d+g,e[9]=b*d-v,e[2]=-d,e[6]=h*f,e[10]=l*f}else if(t.order==="YZX"){const g=l*f,b=l*d,v=h*f,S=h*d;e[0]=f*m,e[4]=S-g*x,e[8]=v*x+b,e[1]=x,e[5]=l*m,e[9]=-h*m,e[2]=-d*m,e[6]=b*x+v,e[10]=g-S*x}else if(t.order==="XZY"){const g=l*f,b=l*d,v=h*f,S=h*d;e[0]=f*m,e[4]=-x,e[8]=d*m,e[1]=g*x+S,e[5]=l*m,e[9]=b*x-v,e[2]=v*x-b,e[6]=h*m,e[10]=S*x+g}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(AA,t,TA)}lookAt(t,e,i){const s=this.elements;return ti.subVectors(t,e),ti.lengthSq()===0&&(ti.z=1),ti.normalize(),Wn.crossVectors(i,ti),Wn.lengthSq()===0&&(Math.abs(i.z)===1?ti.x+=1e-4:ti.z+=1e-4,ti.normalize(),Wn.crossVectors(i,ti)),Wn.normalize(),vu.crossVectors(ti,Wn),s[0]=Wn.x,s[4]=vu.x,s[8]=ti.x,s[1]=Wn.y,s[5]=vu.y,s[9]=ti.y,s[2]=Wn.z,s[6]=vu.z,s[10]=ti.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,l=i[0],h=i[4],f=i[8],d=i[12],m=i[1],x=i[5],g=i[9],b=i[13],v=i[2],S=i[6],M=i[10],_=i[14],A=i[3],T=i[7],E=i[11],O=i[15],R=s[0],L=s[4],I=s[8],V=s[12],X=s[1],Q=s[5],dt=s[9],gt=s[13],mt=s[2],xt=s[6],W=s[10],ut=s[14],K=s[3],ct=s[7],N=s[11],Y=s[15];return r[0]=l*R+h*X+f*mt+d*K,r[4]=l*L+h*Q+f*xt+d*ct,r[8]=l*I+h*dt+f*W+d*N,r[12]=l*V+h*gt+f*ut+d*Y,r[1]=m*R+x*X+g*mt+b*K,r[5]=m*L+x*Q+g*xt+b*ct,r[9]=m*I+x*dt+g*W+b*N,r[13]=m*V+x*gt+g*ut+b*Y,r[2]=v*R+S*X+M*mt+_*K,r[6]=v*L+S*Q+M*xt+_*ct,r[10]=v*I+S*dt+M*W+_*N,r[14]=v*V+S*gt+M*ut+_*Y,r[3]=A*R+T*X+E*mt+O*K,r[7]=A*L+T*Q+E*xt+O*ct,r[11]=A*I+T*dt+E*W+O*N,r[15]=A*V+T*gt+E*ut+O*Y,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],r=t[12],l=t[1],h=t[5],f=t[9],d=t[13],m=t[2],x=t[6],g=t[10],b=t[14],v=t[3],S=t[7],M=t[11],_=t[15];return v*(+r*f*x-s*d*x-r*h*g+i*d*g+s*h*b-i*f*b)+S*(+e*f*b-e*d*g+r*l*g-s*l*b+s*d*m-r*f*m)+M*(+e*d*x-e*h*b-r*l*x+i*l*b+r*h*m-i*d*m)+_*(-s*h*m-e*f*x+e*h*g+s*l*x-i*l*g+i*f*m)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],l=t[4],h=t[5],f=t[6],d=t[7],m=t[8],x=t[9],g=t[10],b=t[11],v=t[12],S=t[13],M=t[14],_=t[15],A=x*M*d-S*g*d+S*f*b-h*M*b-x*f*_+h*g*_,T=v*g*d-m*M*d-v*f*b+l*M*b+m*f*_-l*g*_,E=m*S*d-v*x*d+v*h*b-l*S*b-m*h*_+l*x*_,O=v*x*f-m*S*f-v*h*g+l*S*g+m*h*M-l*x*M,R=e*A+i*T+s*E+r*O;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/R;return t[0]=A*L,t[1]=(S*g*r-x*M*r-S*s*b+i*M*b+x*s*_-i*g*_)*L,t[2]=(h*M*r-S*f*r+S*s*d-i*M*d-h*s*_+i*f*_)*L,t[3]=(x*f*r-h*g*r-x*s*d+i*g*d+h*s*b-i*f*b)*L,t[4]=T*L,t[5]=(m*M*r-v*g*r+v*s*b-e*M*b-m*s*_+e*g*_)*L,t[6]=(v*f*r-l*M*r-v*s*d+e*M*d+l*s*_-e*f*_)*L,t[7]=(l*g*r-m*f*r+m*s*d-e*g*d-l*s*b+e*f*b)*L,t[8]=E*L,t[9]=(v*x*r-m*S*r-v*i*b+e*S*b+m*i*_-e*x*_)*L,t[10]=(l*S*r-v*h*r+v*i*d-e*S*d-l*i*_+e*h*_)*L,t[11]=(m*h*r-l*x*r-m*i*d+e*x*d+l*i*b-e*h*b)*L,t[12]=O*L,t[13]=(m*S*s-v*x*s+v*i*g-e*S*g-m*i*M+e*x*M)*L,t[14]=(v*h*s-l*S*s-v*i*f+e*S*f+l*i*M-e*h*M)*L,t[15]=(l*x*s-m*h*s+m*i*f-e*x*f-l*i*g+e*h*g)*L,this}scale(t){const e=this.elements,i=t.x,s=t.y,r=t.z;return e[0]*=i,e[4]*=s,e[8]*=r,e[1]*=i,e[5]*=s,e[9]*=r,e[2]*=i,e[6]*=s,e[10]*=r,e[3]*=i,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),r=1-i,l=t.x,h=t.y,f=t.z,d=r*l,m=r*h;return this.set(d*l+i,d*h-s*f,d*f+s*h,0,d*h+s*f,m*h+i,m*f-s*l,0,d*f-s*h,m*f+s*l,r*f*f+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,r,l){return this.set(1,i,r,0,t,1,l,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,r=e._x,l=e._y,h=e._z,f=e._w,d=r+r,m=l+l,x=h+h,g=r*d,b=r*m,v=r*x,S=l*m,M=l*x,_=h*x,A=f*d,T=f*m,E=f*x,O=i.x,R=i.y,L=i.z;return s[0]=(1-(S+_))*O,s[1]=(b+E)*O,s[2]=(v-T)*O,s[3]=0,s[4]=(b-E)*R,s[5]=(1-(g+_))*R,s[6]=(M+A)*R,s[7]=0,s[8]=(v+T)*L,s[9]=(M-A)*L,s[10]=(1-(g+S))*L,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let r=Ba.set(s[0],s[1],s[2]).length();const l=Ba.set(s[4],s[5],s[6]).length(),h=Ba.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],Ei.copy(this);const d=1/r,m=1/l,x=1/h;return Ei.elements[0]*=d,Ei.elements[1]*=d,Ei.elements[2]*=d,Ei.elements[4]*=m,Ei.elements[5]*=m,Ei.elements[6]*=m,Ei.elements[8]*=x,Ei.elements[9]*=x,Ei.elements[10]*=x,e.setFromRotationMatrix(Ei),i.x=r,i.y=l,i.z=h,this}makePerspective(t,e,i,s,r,l,h=Kn){const f=this.elements,d=2*r/(e-t),m=2*r/(i-s),x=(e+t)/(e-t),g=(i+s)/(i-s);let b,v;if(h===Kn)b=-(l+r)/(l-r),v=-2*l*r/(l-r);else if(h===cc)b=-l/(l-r),v=-l*r/(l-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return f[0]=d,f[4]=0,f[8]=x,f[12]=0,f[1]=0,f[5]=m,f[9]=g,f[13]=0,f[2]=0,f[6]=0,f[10]=b,f[14]=v,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this}makeOrthographic(t,e,i,s,r,l,h=Kn){const f=this.elements,d=1/(e-t),m=1/(i-s),x=1/(l-r),g=(e+t)*d,b=(i+s)*m;let v,S;if(h===Kn)v=(l+r)*x,S=-2*x;else if(h===cc)v=r*x,S=-1*x;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return f[0]=2*d,f[4]=0,f[8]=0,f[12]=-g,f[1]=0,f[5]=2*m,f[9]=0,f[13]=-b,f[2]=0,f[6]=0,f[10]=S,f[14]=-v,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const Ba=new B,Ei=new At,AA=new B(0,0,0),TA=new B(1,1,1),Wn=new B,vu=new B,ti=new B,v1=new At,S1=new ai;class Hi{constructor(t=0,e=0,i=0,s=Hi.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,r=s[0],l=s[4],h=s[8],f=s[1],d=s[5],m=s[9],x=s[2],g=s[6],b=s[10];switch(e){case"XYZ":this._y=Math.asin(vt(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-l,r)):(this._x=Math.atan2(g,d),this._z=0);break;case"YXZ":this._x=Math.asin(-vt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(h,b),this._z=Math.atan2(f,d)):(this._y=Math.atan2(-x,r),this._z=0);break;case"ZXY":this._x=Math.asin(vt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-x,b),this._z=Math.atan2(-l,d)):(this._y=0,this._z=Math.atan2(f,r));break;case"ZYX":this._y=Math.asin(-vt(x,-1,1)),Math.abs(x)<.9999999?(this._x=Math.atan2(g,b),this._z=Math.atan2(f,r)):(this._x=0,this._z=Math.atan2(-l,d));break;case"YZX":this._z=Math.asin(vt(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(-m,d),this._y=Math.atan2(-x,r)):(this._x=0,this._y=Math.atan2(h,b));break;case"XZY":this._z=Math.asin(-vt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(g,d),this._y=Math.atan2(h,r)):(this._x=Math.atan2(-m,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return v1.makeRotationFromQuaternion(t),this.setFromRotationMatrix(v1,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return S1.setFromEuler(this),this.setFromQuaternion(S1,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Hi.DEFAULT_ORDER="XYZ";class xb{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let CA=0;const w1=new B,Na=new ai,hn=new At,Su=new B,xo=new B,EA=new B,zA=new ai,M1=new B(1,0,0),_1=new B(0,1,0),A1=new B(0,0,1),T1={type:"added"},RA={type:"removed"},Da={type:"childadded",child:null},pd={type:"childremoved",child:null};class Vt extends ss{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:CA++}),this.uuid=si(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Vt.DEFAULT_UP.clone();const t=new B,e=new Hi,i=new ai,s=new B(1,1,1);function r(){i.setFromEuler(e,!1)}function l(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new At},normalMatrix:{value:new Pi}}),this.matrix=new At,this.matrixWorld=new At,this.matrixAutoUpdate=Vt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Vt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new xb,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Na.setFromAxisAngle(t,e),this.quaternion.multiply(Na),this}rotateOnWorldAxis(t,e){return Na.setFromAxisAngle(t,e),this.quaternion.premultiply(Na),this}rotateX(t){return this.rotateOnAxis(M1,t)}rotateY(t){return this.rotateOnAxis(_1,t)}rotateZ(t){return this.rotateOnAxis(A1,t)}translateOnAxis(t,e){return w1.copy(t).applyQuaternion(this.quaternion),this.position.add(w1.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(M1,t)}translateY(t){return this.translateOnAxis(_1,t)}translateZ(t){return this.translateOnAxis(A1,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(hn.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Su.copy(t):Su.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),xo.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?hn.lookAt(xo,Su,this.up):hn.lookAt(Su,xo,this.up),this.quaternion.setFromRotationMatrix(hn),s&&(hn.extractRotation(s.matrixWorld),Na.setFromRotationMatrix(hn),this.quaternion.premultiply(Na.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(T1),Da.child=t,this.dispatchEvent(Da),Da.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(RA),pd.child=t,this.dispatchEvent(pd),pd.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),hn.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),hn.multiply(t.parent.matrixWorld)),t.applyMatrix4(hn),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(T1),Da.child=t,this.dispatchEvent(Da),Da.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const l=this.children[i].getObjectByProperty(t,e);if(l!==void 0)return l}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const s=this.children;for(let r=0,l=s.length;r<l;r++)s[r].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xo,t,EA),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xo,zA,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const s=this.children;for(let r=0,l=s.length;r<l;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(h=>({boxInitialized:h.boxInitialized,boxMin:h.box.min.toArray(),boxMax:h.box.max.toArray(),sphereInitialized:h.sphereInitialized,sphereRadius:h.sphere.radius,sphereCenter:h.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),this.boundingBox!==null&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()}));function r(h,f){return h[f.uuid]===void 0&&(h[f.uuid]=f.toJSON(t)),f.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&&h.shapes!==void 0){const f=h.shapes;if(Array.isArray(f))for(let d=0,m=f.length;d<m;d++){const x=f[d];r(t.shapes,x)}else r(t.shapes,f)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let f=0,d=this.material.length;f<d;f++)h.push(r(t.materials,this.material[f]));s.material=h}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let h=0;h<this.children.length;h++)s.children.push(this.children[h].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let h=0;h<this.animations.length;h++){const f=this.animations[h];s.animations.push(r(t.animations,f))}}if(e){const h=l(t.geometries),f=l(t.materials),d=l(t.textures),m=l(t.images),x=l(t.shapes),g=l(t.skeletons),b=l(t.animations),v=l(t.nodes);h.length>0&&(i.geometries=h),f.length>0&&(i.materials=f),d.length>0&&(i.textures=d),m.length>0&&(i.images=m),x.length>0&&(i.shapes=x),g.length>0&&(i.skeletons=g),b.length>0&&(i.animations=b),v.length>0&&(i.nodes=v)}return i.object=s,i;function l(h){const f=[];for(const d in h){const m=h[d];delete m.metadata,f.push(m)}return f}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const s=t.children[i];this.add(s.clone())}return this}}Vt.DEFAULT_UP=new B(0,1,0);Vt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Vt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const zi=new B,fn=new B,md=new B,dn=new B,La=new B,ka=new B,C1=new B,gd=new B,yd=new B,xd=new B,bd=new Me,vd=new Me,Sd=new Me;class ni{constructor(t=new B,e=new B,i=new B){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),zi.subVectors(t,e),s.cross(zi);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,i,s,r){zi.subVectors(s,e),fn.subVectors(i,e),md.subVectors(t,e);const l=zi.dot(zi),h=zi.dot(fn),f=zi.dot(md),d=fn.dot(fn),m=fn.dot(md),x=l*d-h*h;if(x===0)return r.set(0,0,0),null;const g=1/x,b=(d*f-h*m)*g,v=(l*m-h*f)*g;return r.set(1-b-v,v,b)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,dn)===null?!1:dn.x>=0&&dn.y>=0&&dn.x+dn.y<=1}static getInterpolation(t,e,i,s,r,l,h,f){return this.getBarycoord(t,e,i,s,dn)===null?(f.x=0,f.y=0,"z"in f&&(f.z=0),"w"in f&&(f.w=0),null):(f.setScalar(0),f.addScaledVector(r,dn.x),f.addScaledVector(l,dn.y),f.addScaledVector(h,dn.z),f)}static getInterpolatedAttribute(t,e,i,s,r,l){return bd.setScalar(0),vd.setScalar(0),Sd.setScalar(0),bd.fromBufferAttribute(t,e),vd.fromBufferAttribute(t,i),Sd.fromBufferAttribute(t,s),l.setScalar(0),l.addScaledVector(bd,r.x),l.addScaledVector(vd,r.y),l.addScaledVector(Sd,r.z),l}static isFrontFacing(t,e,i,s){return zi.subVectors(i,e),fn.subVectors(t,e),zi.cross(fn).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return zi.subVectors(this.c,this.b),fn.subVectors(this.a,this.b),zi.cross(fn).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return ni.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ni.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,s,r){return ni.getInterpolation(t,this.a,this.b,this.c,e,i,s,r)}containsPoint(t){return ni.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ni.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,r=this.c;let l,h;La.subVectors(s,i),ka.subVectors(r,i),gd.subVectors(t,i);const f=La.dot(gd),d=ka.dot(gd);if(f<=0&&d<=0)return e.copy(i);yd.subVectors(t,s);const m=La.dot(yd),x=ka.dot(yd);if(m>=0&&x<=m)return e.copy(s);const g=f*x-m*d;if(g<=0&&f>=0&&m<=0)return l=f/(f-m),e.copy(i).addScaledVector(La,l);xd.subVectors(t,r);const b=La.dot(xd),v=ka.dot(xd);if(v>=0&&b<=v)return e.copy(r);const S=b*d-f*v;if(S<=0&&d>=0&&v<=0)return h=d/(d-v),e.copy(i).addScaledVector(ka,h);const M=m*v-b*x;if(M<=0&&x-m>=0&&b-v>=0)return C1.subVectors(r,s),h=(x-m)/(x-m+(b-v)),e.copy(s).addScaledVector(C1,h);const _=1/(M+S+g);return l=S*_,h=g*_,e.copy(i).addScaledVector(La,l).addScaledVector(ka,h)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const bb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Jn={h:0,s:0,l:0},wu={h:0,s:0,l:0};function wd(u,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?u+(t-u)*6*e:e<1/2?t:e<2/3?u+(t-u)*6*(2/3-e):u}class St{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const s=t;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=vi){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,ii.toWorkingColorSpace(this,e),this}setRGB(t,e,i,s=ii.workingColorSpace){return this.r=t,this.g=e,this.b=i,ii.toWorkingColorSpace(this,s),this}setHSL(t,e,i,s=ii.workingColorSpace){if(t=gp(t,1),e=vt(e,0,1),i=vt(i,0,1),e===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+e):i+e-i*e,l=2*i-r;this.r=wd(l,r,t+1/3),this.g=wd(l,r,t),this.b=wd(l,r,t-1/3)}return ii.toWorkingColorSpace(this,s),this}setStyle(t,e=vi){function i(r){r!==void 0&&parseFloat(r)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const l=s[1],h=s[2];switch(l){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const r=s[1],l=r.length;if(l===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(r,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=vi){const i=bb[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=xn(t.r),this.g=xn(t.g),this.b=xn(t.b),this}copyLinearToSRGB(t){return this.r=tr(t.r),this.g=tr(t.g),this.b=tr(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=vi){return ii.fromWorkingColorSpace(Oe.copy(this),t),Math.round(vt(Oe.r*255,0,255))*65536+Math.round(vt(Oe.g*255,0,255))*256+Math.round(vt(Oe.b*255,0,255))}getHexString(t=vi){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=ii.workingColorSpace){ii.fromWorkingColorSpace(Oe.copy(this),e);const i=Oe.r,s=Oe.g,r=Oe.b,l=Math.max(i,s,r),h=Math.min(i,s,r);let f,d;const m=(h+l)/2;if(h===l)f=0,d=0;else{const x=l-h;switch(d=m<=.5?x/(l+h):x/(2-l-h),l){case i:f=(s-r)/x+(s<r?6:0);break;case s:f=(r-i)/x+2;break;case r:f=(i-s)/x+4;break}f/=6}return t.h=f,t.s=d,t.l=m,t}getRGB(t,e=ii.workingColorSpace){return ii.fromWorkingColorSpace(Oe.copy(this),e),t.r=Oe.r,t.g=Oe.g,t.b=Oe.b,t}getStyle(t=vi){ii.fromWorkingColorSpace(Oe.copy(this),t);const e=Oe.r,i=Oe.g,s=Oe.b;return t!==vi?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(s*255)})`}offsetHSL(t,e,i){return this.getHSL(Jn),this.setHSL(Jn.h+t,Jn.s+e,Jn.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Jn),t.getHSL(wu);const i=Do(Jn.h,wu.h,e),s=Do(Jn.s,wu.s,e),r=Do(Jn.l,wu.l,e);return this.setHSL(i,s,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*s,this.g=r[1]*e+r[4]*i+r[7]*s,this.b=r[2]*e+r[5]*i+r[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Oe=new St;St.NAMES=bb;let OA=0;class Ie extends ss{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:OA++}),this.uuid=si(),this.name="",this.type="Material",this.blending=a1,this.side=Jd,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=o1,this.blendDst=l1,this.blendEquation=r1,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new St(0,0,0),this.blendAlpha=0,this.depthFunc=u1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=p1,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ca,this.stencilZFail=Ca,this.stencilZPass=Ca,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];if(s===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==a1&&(i.blending=this.blending),this.side!==Jd&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==o1&&(i.blendSrc=this.blendSrc),this.blendDst!==l1&&(i.blendDst=this.blendDst),this.blendEquation!==r1&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==u1&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==p1&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ca&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Ca&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Ca&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function s(r){const l=[];for(const h in r){const f=r[h];delete f.metadata,l.push(f)}return l}if(e){const r=s(t.textures),l=s(t.images);r.length>0&&(i.textures=r),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const s=e.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class lr extends Ie{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hi,this.combine=hp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const gn=BA();function BA(){const u=new ArrayBuffer(4),t=new Float32Array(u),e=new Uint32Array(u),i=new Uint32Array(512),s=new Uint32Array(512);for(let f=0;f<256;++f){const d=f-127;d<-27?(i[f]=0,i[f|256]=32768,s[f]=24,s[f|256]=24):d<-14?(i[f]=1024>>-d-14,i[f|256]=1024>>-d-14|32768,s[f]=-d-1,s[f|256]=-d-1):d<=15?(i[f]=d+15<<10,i[f|256]=d+15<<10|32768,s[f]=13,s[f|256]=13):d<128?(i[f]=31744,i[f|256]=64512,s[f]=24,s[f|256]=24):(i[f]=31744,i[f|256]=64512,s[f]=13,s[f|256]=13)}const r=new Uint32Array(2048),l=new Uint32Array(64),h=new Uint32Array(64);for(let f=1;f<1024;++f){let d=f<<13,m=0;for(;!(d&8388608);)d<<=1,m-=8388608;d&=-8388609,m+=947912704,r[f]=d|m}for(let f=1024;f<2048;++f)r[f]=939524096+(f-1024<<13);for(let f=1;f<31;++f)l[f]=f<<23;l[31]=1199570944,l[32]=2147483648;for(let f=33;f<63;++f)l[f]=2147483648+(f-32<<23);l[63]=3347054592;for(let f=1;f<64;++f)f!==32&&(h[f]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:s,mantissaTable:r,exponentTable:l,offsetTable:h}}function Ge(u){Math.abs(u)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),u=vt(u,-65504,65504),gn.floatView[0]=u;const t=gn.uint32View[0],e=t>>23&511;return gn.baseTable[e]+((t&8388607)>>gn.shiftTable[e])}function Bo(u){const t=u>>10;return gn.uint32View[0]=gn.mantissaTable[gn.offsetTable[t]+(u&1023)]+gn.exponentTable[t],gn.floatView[0]}const Pz={toHalfFloat:Ge,fromHalfFloat:Bo},de=new B,Mu=new J;class Kt{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=uc,this.updateRanges=[],this.gpuType=ir,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)Mu.fromBufferAttribute(this,e),Mu.applyMatrix3(t),this.setXY(e,Mu.x,Mu.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)de.fromBufferAttribute(this,e),de.applyMatrix3(t),this.setXYZ(e,de.x,de.y,de.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)de.fromBufferAttribute(this,e),de.applyMatrix4(t),this.setXYZ(e,de.x,de.y,de.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)de.fromBufferAttribute(this,e),de.applyNormalMatrix(t),this.setXYZ(e,de.x,de.y,de.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)de.fromBufferAttribute(this,e),de.transformDirection(t),this.setXYZ(e,de.x,de.y,de.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Ue(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Mt(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Ue(e,this.array)),e}setX(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Ue(e,this.array)),e}setY(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Ue(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Ue(e,this.array)),e}setW(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array),s=Mt(s,this.array),r=Mt(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==uc&&(t.usage=this.usage),t}}class qz extends Kt{constructor(t,e,i){super(new Int8Array(t),e,i)}}class Gz extends Kt{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class Yz extends Kt{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class Xz extends Kt{constructor(t,e,i){super(new Int16Array(t),e,i)}}class NA extends Kt{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class Zz extends Kt{constructor(t,e,i){super(new Int32Array(t),e,i)}}class DA extends Kt{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class jz extends Kt{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=Bo(this.array[t*this.itemSize]);return this.normalized&&(e=Ue(e,this.array)),e}setX(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize]=Ge(e),this}getY(t){let e=Bo(this.array[t*this.itemSize+1]);return this.normalized&&(e=Ue(e,this.array)),e}setY(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+1]=Ge(e),this}getZ(t){let e=Bo(this.array[t*this.itemSize+2]);return this.normalized&&(e=Ue(e,this.array)),e}setZ(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+2]=Ge(e),this}getW(t){let e=Bo(this.array[t*this.itemSize+3]);return this.normalized&&(e=Ue(e,this.array)),e}setW(t,e){return this.normalized&&(e=Mt(e,this.array)),this.array[t*this.itemSize+3]=Ge(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array)),this.array[t+0]=Ge(e),this.array[t+1]=Ge(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.array[t+0]=Ge(e),this.array[t+1]=Ge(i),this.array[t+2]=Ge(s),this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array),s=Mt(s,this.array),r=Mt(r,this.array)),this.array[t+0]=Ge(e),this.array[t+1]=Ge(i),this.array[t+2]=Ge(s),this.array[t+3]=Ge(r),this}}class rt extends Kt{constructor(t,e,i){super(new Float32Array(t),e,i)}}let LA=0;const bi=new At,Md=new Vt,Ua=new B,ei=new Ye,bo=new Ye,we=new B;class zt extends ss{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:LA++}),this.uuid=si(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(mA(t)?DA:NA)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Pi().getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(t),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return bi.makeRotationFromQuaternion(t),this.applyMatrix4(bi),this}rotateX(t){return bi.makeRotationX(t),this.applyMatrix4(bi),this}rotateY(t){return bi.makeRotationY(t),this.applyMatrix4(bi),this}rotateZ(t){return bi.makeRotationZ(t),this.applyMatrix4(bi),this}translate(t,e,i){return bi.makeTranslation(t,e,i),this.applyMatrix4(bi),this}scale(t,e,i){return bi.makeScale(t,e,i),this.applyMatrix4(bi),this}lookAt(t){return Md.lookAt(t),Md.updateMatrix(),this.applyMatrix4(Md.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ua).negate(),this.translate(Ua.x,Ua.y,Ua.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let s=0,r=t.length;s<r;s++){const l=t[s];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new rt(i,3))}else{const i=Math.min(t.length,e.count);for(let s=0;s<i;s++){const r=t[s];e.setXYZ(s,r.x,r.y,r.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ye);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new B(-1/0,-1/0,-1/0),new B(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++){const r=e[i];ei.setFromBufferAttribute(r),this.morphTargetsRelative?(we.addVectors(this.boundingBox.min,ei.min),this.boundingBox.expandByPoint(we),we.addVectors(this.boundingBox.max,ei.max),this.boundingBox.expandByPoint(we)):(this.boundingBox.expandByPoint(ei.min),this.boundingBox.expandByPoint(ei.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fe);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new B,1/0);return}if(t){const i=this.boundingSphere.center;if(ei.setFromBufferAttribute(t),e)for(let r=0,l=e.length;r<l;r++){const h=e[r];bo.setFromBufferAttribute(h),this.morphTargetsRelative?(we.addVectors(ei.min,bo.min),ei.expandByPoint(we),we.addVectors(ei.max,bo.max),ei.expandByPoint(we)):(ei.expandByPoint(bo.min),ei.expandByPoint(bo.max))}ei.getCenter(i);let s=0;for(let r=0,l=t.count;r<l;r++)we.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(we));if(e)for(let r=0,l=e.length;r<l;r++){const h=e[r],f=this.morphTargetsRelative;for(let d=0,m=h.count;d<m;d++)we.fromBufferAttribute(h,d),f&&(Ua.fromBufferAttribute(t,d),we.add(Ua)),s=Math.max(s,i.distanceToSquared(we))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,s=e.normal,r=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kt(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),h=[],f=[];for(let I=0;I<i.count;I++)h[I]=new B,f[I]=new B;const d=new B,m=new B,x=new B,g=new J,b=new J,v=new J,S=new B,M=new B;function _(I,V,X){d.fromBufferAttribute(i,I),m.fromBufferAttribute(i,V),x.fromBufferAttribute(i,X),g.fromBufferAttribute(r,I),b.fromBufferAttribute(r,V),v.fromBufferAttribute(r,X),m.sub(d),x.sub(d),b.sub(g),v.sub(g);const Q=1/(b.x*v.y-v.x*b.y);isFinite(Q)&&(S.copy(m).multiplyScalar(v.y).addScaledVector(x,-b.y).multiplyScalar(Q),M.copy(x).multiplyScalar(b.x).addScaledVector(m,-v.x).multiplyScalar(Q),h[I].add(S),h[V].add(S),h[X].add(S),f[I].add(M),f[V].add(M),f[X].add(M))}let A=this.groups;A.length===0&&(A=[{start:0,count:t.count}]);for(let I=0,V=A.length;I<V;++I){const X=A[I],Q=X.start,dt=X.count;for(let gt=Q,mt=Q+dt;gt<mt;gt+=3)_(t.getX(gt+0),t.getX(gt+1),t.getX(gt+2))}const T=new B,E=new B,O=new B,R=new B;function L(I){O.fromBufferAttribute(s,I),R.copy(O);const V=h[I];T.copy(V),T.sub(O.multiplyScalar(O.dot(V))).normalize(),E.crossVectors(R,V);const Q=E.dot(f[I])<0?-1:1;l.setXYZW(I,T.x,T.y,T.z,Q)}for(let I=0,V=A.length;I<V;++I){const X=A[I],Q=X.start,dt=X.count;for(let gt=Q,mt=Q+dt;gt<mt;gt+=3)L(t.getX(gt+0)),L(t.getX(gt+1)),L(t.getX(gt+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Kt(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let g=0,b=i.count;g<b;g++)i.setXYZ(g,0,0,0);const s=new B,r=new B,l=new B,h=new B,f=new B,d=new B,m=new B,x=new B;if(t)for(let g=0,b=t.count;g<b;g+=3){const v=t.getX(g+0),S=t.getX(g+1),M=t.getX(g+2);s.fromBufferAttribute(e,v),r.fromBufferAttribute(e,S),l.fromBufferAttribute(e,M),m.subVectors(l,r),x.subVectors(s,r),m.cross(x),h.fromBufferAttribute(i,v),f.fromBufferAttribute(i,S),d.fromBufferAttribute(i,M),h.add(m),f.add(m),d.add(m),i.setXYZ(v,h.x,h.y,h.z),i.setXYZ(S,f.x,f.y,f.z),i.setXYZ(M,d.x,d.y,d.z)}else for(let g=0,b=e.count;g<b;g+=3)s.fromBufferAttribute(e,g+0),r.fromBufferAttribute(e,g+1),l.fromBufferAttribute(e,g+2),m.subVectors(l,r),x.subVectors(s,r),m.cross(x),i.setXYZ(g+0,m.x,m.y,m.z),i.setXYZ(g+1,m.x,m.y,m.z),i.setXYZ(g+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)we.fromBufferAttribute(t,e),we.normalize(),t.setXYZ(e,we.x,we.y,we.z)}toNonIndexed(){function t(h,f){const d=h.array,m=h.itemSize,x=h.normalized,g=new d.constructor(f.length*m);let b=0,v=0;for(let S=0,M=f.length;S<M;S++){h.isInterleavedBufferAttribute?b=f[S]*h.data.stride+h.offset:b=f[S]*m;for(let _=0;_<m;_++)g[v++]=d[b++]}return new Kt(g,m,x)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new zt,i=this.index.array,s=this.attributes;for(const h in s){const f=s[h],d=t(f,i);e.setAttribute(h,d)}const r=this.morphAttributes;for(const h in r){const f=[],d=r[h];for(let m=0,x=d.length;m<x;m++){const g=d[m],b=t(g,i);f.push(b)}e.morphAttributes[h]=f}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let h=0,f=l.length;h<f;h++){const d=l[h];e.addGroup(d.start,d.count,d.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const f=this.parameters;for(const d in f)f[d]!==void 0&&(t[d]=f[d]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const f in i){const d=i[f];t.data.attributes[f]=d.toJSON(t.data)}const s={};let r=!1;for(const f in this.morphAttributes){const d=this.morphAttributes[f],m=[];for(let x=0,g=d.length;x<g;x++){const b=d[x];m.push(b.toJSON(t.data))}m.length>0&&(s[f]=m,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(t.data.groups=JSON.parse(JSON.stringify(l)));const h=this.boundingSphere;return h!==null&&(t.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone(e));const s=t.attributes;for(const d in s){const m=s[d];this.setAttribute(d,m.clone(e))}const r=t.morphAttributes;for(const d in r){const m=[],x=r[d];for(let g=0,b=x.length;g<b;g++)m.push(x[g].clone(e));this.morphAttributes[d]=m}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let d=0,m=l.length;d<m;d++){const x=l[d];this.addGroup(x.start,x.count,x.materialIndex)}const h=t.boundingBox;h!==null&&(this.boundingBox=h.clone());const f=t.boundingSphere;return f!==null&&(this.boundingSphere=f.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const E1=new At,Rs=new Jo,_u=new Fe,z1=new B,Au=new B,Tu=new B,Cu=new B,_d=new B,Eu=new B,R1=new B,zu=new B;class Oi extends Vt{constructor(t=new zt,e=new lr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=s.length;r<l;r++){const h=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=r}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,l=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const h=this.morphTargetInfluences;if(r&&h){Eu.set(0,0,0);for(let f=0,d=r.length;f<d;f++){const m=h[f],x=r[f];m!==0&&(_d.fromBufferAttribute(x,t),l?Eu.addScaledVector(_d,m):Eu.addScaledVector(_d.sub(e),m))}e.add(Eu)}return e}raycast(t,e){const i=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),_u.copy(i.boundingSphere),_u.applyMatrix4(r),Rs.copy(t.ray).recast(t.near),!(_u.containsPoint(Rs.origin)===!1&&(Rs.intersectSphere(_u,z1)===null||Rs.origin.distanceToSquared(z1)>(t.far-t.near)**2))&&(E1.copy(r).invert(),Rs.copy(t.ray).applyMatrix4(E1),!(i.boundingBox!==null&&Rs.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Rs)))}_computeIntersections(t,e,i){let s;const r=this.geometry,l=this.material,h=r.index,f=r.attributes.position,d=r.attributes.uv,m=r.attributes.uv1,x=r.attributes.normal,g=r.groups,b=r.drawRange;if(h!==null)if(Array.isArray(l))for(let v=0,S=g.length;v<S;v++){const M=g[v],_=l[M.materialIndex],A=Math.max(M.start,b.start),T=Math.min(h.count,Math.min(M.start+M.count,b.start+b.count));for(let E=A,O=T;E<O;E+=3){const R=h.getX(E),L=h.getX(E+1),I=h.getX(E+2);s=Ru(this,_,t,i,d,m,x,R,L,I),s&&(s.faceIndex=Math.floor(E/3),s.face.materialIndex=M.materialIndex,e.push(s))}}else{const v=Math.max(0,b.start),S=Math.min(h.count,b.start+b.count);for(let M=v,_=S;M<_;M+=3){const A=h.getX(M),T=h.getX(M+1),E=h.getX(M+2);s=Ru(this,l,t,i,d,m,x,A,T,E),s&&(s.faceIndex=Math.floor(M/3),e.push(s))}}else if(f!==void 0)if(Array.isArray(l))for(let v=0,S=g.length;v<S;v++){const M=g[v],_=l[M.materialIndex],A=Math.max(M.start,b.start),T=Math.min(f.count,Math.min(M.start+M.count,b.start+b.count));for(let E=A,O=T;E<O;E+=3){const R=E,L=E+1,I=E+2;s=Ru(this,_,t,i,d,m,x,R,L,I),s&&(s.faceIndex=Math.floor(E/3),s.face.materialIndex=M.materialIndex,e.push(s))}}else{const v=Math.max(0,b.start),S=Math.min(f.count,b.start+b.count);for(let M=v,_=S;M<_;M+=3){const A=M,T=M+1,E=M+2;s=Ru(this,l,t,i,d,m,x,A,T,E),s&&(s.faceIndex=Math.floor(M/3),e.push(s))}}}}function kA(u,t,e,i,s,r,l,h){let f;if(t.side===fb?f=i.intersectTriangle(l,r,s,!0,h):f=i.intersectTriangle(s,r,l,t.side===Jd,h),f===null)return null;zu.copy(h),zu.applyMatrix4(u.matrixWorld);const d=e.ray.origin.distanceTo(zu);return d<e.near||d>e.far?null:{distance:d,point:zu.clone(),object:u}}function Ru(u,t,e,i,s,r,l,h,f,d){u.getVertexPosition(h,Au),u.getVertexPosition(f,Tu),u.getVertexPosition(d,Cu);const m=kA(u,t,e,i,Au,Tu,Cu,R1);if(m){const x=new B;ni.getBarycoord(R1,Au,Tu,Cu,x),s&&(m.uv=ni.getInterpolatedAttribute(s,h,f,d,x,new J)),r&&(m.uv1=ni.getInterpolatedAttribute(r,h,f,d,x,new J)),l&&(m.normal=ni.getInterpolatedAttribute(l,h,f,d,x,new B),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const g={a:h,b:f,c:d,normal:new B,materialIndex:0};ni.getNormal(Au,Tu,Cu,g.normal),m.face=g,m.barycoord=x}return m}class Ec extends zt{constructor(t=1,e=1,i=1,s=1,r=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:r,depthSegments:l};const h=this;s=Math.floor(s),r=Math.floor(r),l=Math.floor(l);const f=[],d=[],m=[],x=[];let g=0,b=0;v("z","y","x",-1,-1,i,e,t,l,r,0),v("z","y","x",1,-1,i,e,-t,l,r,1),v("x","z","y",1,1,t,i,e,s,l,2),v("x","z","y",1,-1,t,i,-e,s,l,3),v("x","y","z",1,-1,t,e,i,s,r,4),v("x","y","z",-1,-1,t,e,-i,s,r,5),this.setIndex(f),this.setAttribute("position",new rt(d,3)),this.setAttribute("normal",new rt(m,3)),this.setAttribute("uv",new rt(x,2));function v(S,M,_,A,T,E,O,R,L,I,V){const X=E/L,Q=O/I,dt=E/2,gt=O/2,mt=R/2,xt=L+1,W=I+1;let ut=0,K=0;const ct=new B;for(let N=0;N<W;N++){const Y=N*Q-gt;for(let at=0;at<xt;at++){const ot=at*X-dt;ct[S]=ot*A,ct[M]=Y*T,ct[_]=mt,d.push(ct.x,ct.y,ct.z),ct[S]=0,ct[M]=0,ct[_]=R>0?1:-1,m.push(ct.x,ct.y,ct.z),x.push(at/L),x.push(1-N/I),ut+=1}}for(let N=0;N<I;N++)for(let Y=0;Y<L;Y++){const at=g+Y+xt*N,ot=g+Y+xt*(N+1),et=g+(Y+1)+xt*(N+1),Tt=g+(Y+1)+xt*N;f.push(at,ot,Tt),f.push(ot,et,Tt),K+=6}h.addGroup(b,K,V),b+=K,g+=ut}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Ec(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function zc(u){const t={};for(const e in u){t[e]={};for(const i in u[e]){const s=u[e][i];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=s.clone():Array.isArray(s)?t[e][i]=s.slice():t[e][i]=s}}return t}function UA(u){const t={};for(let e=0;e<u.length;e++){const i=zc(u[e]);for(const s in i)t[s]=i[s]}return t}function FA(u){const t=[];for(let e=0;e<u.length;e++)t.push(u[e].clone());return t}function Wz(u){const t=u.getRenderTarget();return t===null?u.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:ii.workingColorSpace}const Jz={clone:zc,merge:UA};var IA=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,HA=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class yp extends Ie{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IA,this.fragmentShader=HA,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=zc(t.uniforms),this.uniformsGroups=FA(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const l=this.uniforms[s].value;l&&l.isTexture?e.uniforms[s]={type:"t",value:l.toJSON(t).uuid}:l&&l.isColor?e.uniforms[s]={type:"c",value:l.getHex()}:l&&l.isVector2?e.uniforms[s]={type:"v2",value:l.toArray()}:l&&l.isVector3?e.uniforms[s]={type:"v3",value:l.toArray()}:l&&l.isVector4?e.uniforms[s]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?e.uniforms[s]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?e.uniforms[s]={type:"m4",value:l.toArray()}:e.uniforms[s]={value:l}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const s in this.extensions)this.extensions[s]===!0&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class xp extends Vt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new At,this.projectionMatrix=new At,this.projectionMatrixInverse=new At,this.coordinateSystem=Kn}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Qn=new B,O1=new J,B1=new J;class Si extends xp{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Ho*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Hs*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Ho*2*Math.atan(Math.tan(Hs*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){Qn.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Qn.x,Qn.y).multiplyScalar(-t/Qn.z),Qn.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Qn.x,Qn.y).multiplyScalar(-t/Qn.z)}getViewSize(t,e){return this.getViewBounds(t,O1,B1),e.subVectors(B1,O1)}setViewOffset(t,e,i,s,r,l){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Hs*.5*this.fov)/this.zoom,i=2*e,s=this.aspect*i,r=-.5*s;const l=this.view;if(this.view!==null&&this.view.enabled){const f=l.fullWidth,d=l.fullHeight;r+=l.offsetX*s/f,e-=l.offsetY*i/d,s*=l.width/f,i*=l.height/d}const h=this.filmOffset;h!==0&&(r+=t*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const Fa=-90,Ia=1;class VA extends Vt{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Si(Fa,Ia,t,e);s.layers=this.layers,this.add(s);const r=new Si(Fa,Ia,t,e);r.layers=this.layers,this.add(r);const l=new Si(Fa,Ia,t,e);l.layers=this.layers,this.add(l);const h=new Si(Fa,Ia,t,e);h.layers=this.layers,this.add(h);const f=new Si(Fa,Ia,t,e);f.layers=this.layers,this.add(f);const d=new Si(Fa,Ia,t,e);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,r,l,h,f]=e;for(const d of e)this.remove(d);if(t===Kn)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),f.up.set(0,1,0),f.lookAt(0,0,-1);else if(t===cc)i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),f.up.set(0,-1,0),f.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const d of e)this.add(d),d.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[r,l,h,f,d,m]=this.children,x=t.getRenderTarget(),g=t.getActiveCubeFace(),b=t.getActiveMipmapLevel(),v=t.xr.enabled;t.xr.enabled=!1;const S=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(e,r),t.setRenderTarget(i,1,s),t.render(e,l),t.setRenderTarget(i,2,s),t.render(e,h),t.setRenderTarget(i,3,s),t.render(e,f),t.setRenderTarget(i,4,s),t.render(e,d),i.texture.generateMipmaps=S,t.setRenderTarget(i,5,s),t.render(e,m),t.setRenderTarget(x,g,b),t.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class bp extends ye{constructor(t,e,i,s,r,l,h,f,d,m){t=t!==void 0?t:[],e=e!==void 0?e:dp,super(t,e,i,s,r,l,h,f,d,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class Qz extends Cc{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];this.texture=new bp(s,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:wi}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Ec(5,5,5),r=new yp({name:"CubemapFromEquirect",uniforms:zc(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:fb,blending:X_});r.uniforms.tEquirect.value=e;const l=new Oi(s,r),h=e.minFilter;return e.minFilter===Tc&&(e.minFilter=wi),new VA(1,10,this).update(t,l),e.minFilter=h,l.geometry.dispose(),l.material.dispose(),this}clear(t,e,i,s){const r=t.getRenderTarget();for(let l=0;l<6;l++)t.setRenderTarget(this,l),t.clear(e,i,s);t.setRenderTarget(r)}}class vp{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new St(t),this.density=e}clone(){return new vp(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Sp{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new St(t),this.near=e,this.far=i}clone(){return new Sp(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class PA extends Vt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Hi,this.environmentIntensity=1,this.environmentRotation=new Hi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class wp{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=uc,this.updateRanges=[],this.version=0,this.uuid=si()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=si()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=si()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ke=new B;class nr{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)ke.fromBufferAttribute(this,e),ke.applyMatrix4(t),this.setXYZ(e,ke.x,ke.y,ke.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)ke.fromBufferAttribute(this,e),ke.applyNormalMatrix(t),this.setXYZ(e,ke.x,ke.y,ke.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)ke.fromBufferAttribute(this,e),ke.transformDirection(t),this.setXYZ(e,ke.x,ke.y,ke.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Ue(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=Mt(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=Mt(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=Mt(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=Mt(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=Mt(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Ue(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Ue(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Ue(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Ue(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array),s=Mt(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=Mt(e,this.array),i=Mt(i,this.array),s=Mt(s,this.array),r=Mt(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new Kt(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new nr(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class vb extends Ie{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new St(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Ha;const vo=new B,Va=new B,Pa=new B,qa=new J,So=new J,Sb=new At,Ou=new B,wo=new B,Bu=new B,N1=new J,Ad=new J,D1=new J;class qA extends Vt{constructor(t=new vb){if(super(),this.isSprite=!0,this.type="Sprite",Ha===void 0){Ha=new zt;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new wp(e,5);Ha.setIndex([0,1,2,0,2,3]),Ha.setAttribute("position",new nr(i,3,0,!1)),Ha.setAttribute("uv",new nr(i,2,3,!1))}this.geometry=Ha,this.material=t,this.center=new J(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Va.setFromMatrixScale(this.matrixWorld),Sb.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Pa.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Va.multiplyScalar(-Pa.z);const i=this.material.rotation;let s,r;i!==0&&(r=Math.cos(i),s=Math.sin(i));const l=this.center;Nu(Ou.set(-.5,-.5,0),Pa,l,Va,s,r),Nu(wo.set(.5,-.5,0),Pa,l,Va,s,r),Nu(Bu.set(.5,.5,0),Pa,l,Va,s,r),N1.set(0,0),Ad.set(1,0),D1.set(1,1);let h=t.ray.intersectTriangle(Ou,wo,Bu,!1,vo);if(h===null&&(Nu(wo.set(-.5,.5,0),Pa,l,Va,s,r),Ad.set(0,1),h=t.ray.intersectTriangle(Ou,Bu,wo,!1,vo),h===null))return;const f=t.ray.origin.distanceTo(vo);f<t.near||f>t.far||e.push({distance:f,point:vo.clone(),uv:ni.getInterpolation(vo,Ou,wo,Bu,N1,Ad,D1,new J),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function Nu(u,t,e,i,s,r){qa.subVectors(u,e).addScalar(.5).multiply(i),s!==void 0?(So.x=r*qa.x-s*qa.y,So.y=s*qa.x+r*qa.y):So.copy(qa),u.copy(t),u.x+=So.x,u.y+=So.y,u.applyMatrix4(Sb)}const Du=new B,L1=new B;class GA extends Vt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,s=e.length;i<s;i++){const r=e[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let r;for(r=0;r<s.length&&!(e<s[r].distance);r++);return s.splice(r,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const s=e.splice(i,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let r=e[i].distance;if(e[i].object.visible&&(r-=r*e[i].hysteresis),t<r)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){Du.setFromMatrixPosition(this.matrixWorld);const s=t.ray.origin.distanceTo(Du);this.getObjectForDistance(s).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Du.setFromMatrixPosition(t.matrixWorld),L1.setFromMatrixPosition(this.matrixWorld);const i=Du.distanceTo(L1)/t.zoom;e[0].object.visible=!0;let s,r;for(s=1,r=e.length;s<r;s++){let l=e[s].distance;if(e[s].object.visible&&(l-=l*e[s].hysteresis),i>=l)e[s-1].object.visible=!1,e[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let s=0,r=i.length;s<r;s++){const l=i[s];e.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return e}}const k1=new B,U1=new Me,F1=new Me,YA=new B,I1=new At,Lu=new B,Td=new Fe,H1=new At,Cd=new Jo;class XA extends Oi{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=c1,this.bindMatrix=new At,this.bindMatrixInverse=new At,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ye),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,Lu),this.boundingBox.expandByPoint(Lu)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fe),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,Lu),this.boundingSphere.expandByPoint(Lu)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Td.copy(this.boundingSphere),Td.applyMatrix4(s),t.ray.intersectsSphere(Td)!==!1&&(H1.copy(s).invert(),Cd.copy(t.ray).applyMatrix4(H1),!(this.boundingBox!==null&&Cd.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,Cd)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Me,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===c1?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Z_?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;U1.fromBufferAttribute(s.attributes.skinIndex,t),F1.fromBufferAttribute(s.attributes.skinWeight,t),k1.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const l=F1.getComponent(r);if(l!==0){const h=U1.getComponent(r);I1.multiplyMatrices(i.bones[h].matrixWorld,i.boneInverses[h]),e.addScaledVector(YA.copy(k1).applyMatrix4(I1),l)}}return e.applyMatrix4(this.bindMatrixInverse)}}class wb extends Vt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bn extends ye{constructor(t=null,e=1,i=1,s,r,l,h,f,d=Ri,m=Ri,x,g){super(null,l,h,f,d,m,s,r,x,g),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const V1=new At,ZA=new At;class Mp{constructor(t=[],e=[]){this.uuid=si(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new At)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new At;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,l=t.length;r<l;r++){const h=t[r]?t[r].matrixWorld:ZA;V1.multiplyMatrices(h,e[r]),V1.toArray(i,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Mp(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new bn(e,t,t,Io,ir);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const r=t.bones[i];let l=e[r];l===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),l=new wb),this.bones.push(l),this.boneInverses.push(new At().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,r=e.length;s<r;s++){const l=e[s];t.bones.push(l.uuid);const h=i[s];t.boneInverses.push(h.toArray())}return t}}class Vo extends Kt{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Ga=new At,P1=new At,ku=[],q1=new Ye,jA=new At,Mo=new Oi,_o=new Fe;class WA extends Oi{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new Vo(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<i;s++)this.setMatrixAt(s,jA)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Ye),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Ga),q1.copy(t.boundingBox).applyMatrix4(Ga),this.boundingBox.union(q1)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fe),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Ga),_o.copy(t.boundingSphere).applyMatrix4(Ga),this.boundingSphere.union(_o)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,s=this.morphTexture.source.data.data,r=i.length+1,l=t*r+1;for(let h=0;h<i.length;h++)i[h]=s[l+h]}raycast(t,e){const i=this.matrixWorld,s=this.count;if(Mo.geometry=this.geometry,Mo.material=this.material,Mo.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_o.copy(this.boundingSphere),_o.applyMatrix4(i),t.ray.intersectsSphere(_o)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,Ga),P1.multiplyMatrices(i,Ga),Mo.matrixWorld=P1,Mo.raycast(t,ku);for(let l=0,h=ku.length;l<h;l++){const f=ku[l];f.instanceId=r,f.object=this,e.push(f)}ku.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new Vo(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,s=i.length+1;this.morphTexture===null&&(this.morphTexture=new bn(new Float32Array(s*this.count),s,this.count,pb,ir));const r=this.morphTexture.source.data.data;let l=0;for(let d=0;d<i.length;d++)l+=i[d];const h=this.geometry.morphTargetsRelative?1:1-l,f=s*t;r[f]=h,r.set(i,f+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const Ed=new B,JA=new B,QA=new Pi;class Ya{constructor(t=new B(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=Ed.subVectors(i,e).cross(JA.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(Ed),s=this.normal.dot(i);if(s===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(t.start).addScaledVector(i,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||QA.getNormalMatrix(t),s=this.coplanarPoint(Ed).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Os=new Fe,Uu=new B;class Mb{constructor(t=new Ya,e=new Ya,i=new Ya,s=new Ya,r=new Ya,l=new Ya){this.planes=[t,e,i,s,r,l]}set(t,e,i,s,r,l){const h=this.planes;return h[0].copy(t),h[1].copy(e),h[2].copy(i),h[3].copy(s),h[4].copy(r),h[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Kn){const i=this.planes,s=t.elements,r=s[0],l=s[1],h=s[2],f=s[3],d=s[4],m=s[5],x=s[6],g=s[7],b=s[8],v=s[9],S=s[10],M=s[11],_=s[12],A=s[13],T=s[14],E=s[15];if(i[0].setComponents(f-r,g-d,M-b,E-_).normalize(),i[1].setComponents(f+r,g+d,M+b,E+_).normalize(),i[2].setComponents(f+l,g+m,M+v,E+A).normalize(),i[3].setComponents(f-l,g-m,M-v,E-A).normalize(),i[4].setComponents(f-h,g-x,M-S,E-T).normalize(),e===Kn)i[5].setComponents(f+h,g+x,M+S,E+T).normalize();else if(e===cc)i[5].setComponents(h,x,S,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),Os.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),Os.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Os)}intersectsSprite(t){return Os.center.set(0,0,0),Os.radius=.7071067811865476,Os.applyMatrix4(t.matrixWorld),this.intersectsSphere(Os)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(Uu.x=s.normal.x>0?t.max.x:t.min.x,Uu.y=s.normal.y>0?t.max.y:t.min.y,Uu.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(Uu)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function zd(u,t){return u-t}function $A(u,t){return u.z-t.z}function KA(u,t){return t.z-u.z}class tT{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,s){const r=this.pool,l=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const h=r[this.index];l.push(h),this.index++,h.start=t,h.count=e,h.z=i,h.index=s}reset(){this.list.length=0,this.index=0}}const qe=new At,eT=new St(1,1,1),Rd=new Mb,Fu=new Ye,Bs=new Fe,Ao=new B,G1=new B,iT=new B,Od=new tT,Be=new Oi,Iu=[];function nT(u,t,e=0){const i=t.itemSize;if(u.isInterleavedBufferAttribute||u.array.constructor!==t.array.constructor){const s=u.count;for(let r=0;r<s;r++)for(let l=0;l<i;l++)t.setComponent(r+e,l,u.getComponent(r,l))}else t.array.set(u.array,e*i);t.needsUpdate=!0}function Ns(u,t){if(u.constructor!==t.constructor){const e=Math.min(u.length,t.length);for(let i=0;i<e;i++)t[i]=u[i]}else{const e=Math.min(u.length,t.length);t.set(new u.constructor(u.buffer,0,e))}}class sT extends Oi{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(t,e,i=e*2,s){super(new zt,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new bn(e,t,t,Io,ir);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new bn(e,t,t,mb,pp);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new bn(e,t,t,Io,ir);i.colorSpace=ii.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in t.attributes){const l=t.getAttribute(r),{array:h,itemSize:f,normalized:d}=l,m=new h.constructor(i*f),x=new Kt(m,f,d);e.setAttribute(r,x)}if(t.getIndex()!==null){const r=i>65535?new Uint32Array(s):new Uint16Array(s);e.setIndex(new Kt(r,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=t.getAttribute(i),r=e.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ye);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,qe),this.getBoundingBoxAt(r,Fu).applyMatrix4(qe),t.union(Fu)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fe);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(e[i].active===!1)continue;const r=e[i].geometryIndex;this.getMatrixAt(i,qe),this.getBoundingSphereAt(r,Bs).applyMatrix4(qe),t.union(Bs)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(zd),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=i):(s=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;qe.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const l=this._colorsTexture;return l&&(eT.toArray(l.image.data,s*4),l.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const l=t.getIndex();if(l!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=i===-1?l.count:i),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let f;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(zd),f=this._availableGeometryIds.shift(),r[f]=s):(f=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(f,t),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,f}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,s=i.getIndex()!==null,r=i.getIndex(),l=e.getIndex(),h=this._geometryInfo[t];if(s&&l.count>h.reservedIndexCount||e.attributes.position.count>h.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const f=h.vertexStart,d=h.reservedVertexCount;h.vertexCount=e.getAttribute("position").count;for(const m in i.attributes){const x=e.getAttribute(m),g=i.getAttribute(m);nT(x,g,f);const b=x.itemSize;for(let v=x.count,S=d;v<S;v++){const M=f+v;for(let _=0;_<b;_++)g.setComponent(M,_,0)}g.needsUpdate=!0,g.addUpdateRange(f*b,d*b)}if(s){const m=h.indexStart,x=h.reservedIndexCount;h.indexCount=e.getIndex().count;for(let g=0;g<l.count;g++)r.setX(m+g,f+l.getX(g));for(let g=l.count,b=x;g<b;g++)r.setX(m+g,f);r.needsUpdate=!0,r.addUpdateRange(m,h.reservedIndexCount)}return h.start=s?h.indexStart:h.vertexStart,h.count=s?h.indexCount:h.vertexCount,h.boundingBox=null,e.boundingBox!==null&&(h.boundingBox=e.boundingBox.clone()),h.boundingSphere=null,e.boundingSphere!==null&&(h.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let s=0,r=i.length;s<r;s++)i[s].geometryIndex===t&&this.deleteInstance(s);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,s=i.map((l,h)=>h).sort((l,h)=>i[l].vertexStart-i[h].vertexStart),r=this.geometry;for(let l=0,h=i.length;l<h;l++){const f=s[l],d=i[f];if(d.active!==!1){if(r.index!==null){if(d.indexStart!==e){const{indexStart:m,vertexStart:x,reservedIndexCount:g}=d,b=r.index,v=b.array,S=t-x;for(let M=m;M<m+g;M++)v[M]=v[M]+S;b.array.copyWithin(e,m,m+g),b.addUpdateRange(e,g),d.indexStart=e}e+=d.reservedIndexCount}if(d.vertexStart!==t){const{vertexStart:m,reservedVertexCount:x}=d,g=r.attributes;for(const b in g){const v=g[b],{array:S,itemSize:M}=v;S.copyWithin(t*M,m*M,(m+x)*M),v.addUpdateRange(t*M,x*M)}d.vertexStart=t}t+=d.reservedVertexCount,d.start=r.index?d.indexStart:d.vertexStart,this._nextIndexStart=r.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingBox===null){const r=new Ye,l=i.index,h=i.attributes.position;for(let f=s.start,d=s.start+s.count;f<d;f++){let m=f;l&&(m=l.getX(m)),r.expandByPoint(Ao.fromBufferAttribute(h,m))}s.boundingBox=r}return e.copy(s.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(s.boundingSphere===null){const r=new Fe;this.getBoundingBoxAt(t,Fu),Fu.getCenter(r.center);const l=i.index,h=i.attributes.position;let f=0;for(let d=s.start,m=s.start+s.count;d<m;d++){let x=d;l&&(x=l.getX(x)),Ao.fromBufferAttribute(h,x),f=Math.max(f,r.center.distanceToSquared(Ao))}r.radius=Math.sqrt(f),s.boundingSphere=r}return e.copy(s.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,s=this._matricesTexture.image.data;return e.toArray(s,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(zd);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const s=new Int32Array(t),r=new Int32Array(t);Ns(this._multiDrawCounts,s),Ns(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=t;const l=this._indirectTexture,h=this._matricesTexture,f=this._colorsTexture;l.dispose(),this._initIndirectTexture(),Ns(l.image.data,this._indirectTexture.image.data),h.dispose(),this._initMatricesTexture(),Ns(h.image.data,this._matricesTexture.image.data),f&&(f.dispose(),this._initColorsTexture(),Ns(f.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(h=>h.active);if(Math.max(...i.map(h=>h.vertexStart+h.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(f=>f.indexStart+f.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new zt,this._initializeGeometry(r));const l=this.geometry;r.index&&Ns(r.index.array,l.index.array);for(const h in r.attributes)Ns(r.attributes[h].array,l.attributes[h].array)}raycast(t,e){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,l=this.geometry;Be.material=this.material,Be.geometry.index=l.index,Be.geometry.attributes=l.attributes,Be.geometry.boundingBox===null&&(Be.geometry.boundingBox=new Ye),Be.geometry.boundingSphere===null&&(Be.geometry.boundingSphere=new Fe);for(let h=0,f=i.length;h<f;h++){if(!i[h].visible||!i[h].active)continue;const d=i[h].geometryIndex,m=s[d];Be.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(h,Be.matrixWorld).premultiply(r),this.getBoundingBoxAt(d,Be.geometry.boundingBox),this.getBoundingSphereAt(d,Be.geometry.boundingSphere),Be.raycast(t,Iu);for(let x=0,g=Iu.length;x<g;x++){const b=Iu[x];b.object=this,b.batchId=h,e.push(b)}Iu.length=0}Be.material=null,Be.geometry.index=null,Be.geometry.attributes={},Be.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(t,e,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=s.getIndex(),h=l===null?1:l.array.BYTES_PER_ELEMENT,f=this._instanceInfo,d=this._multiDrawStarts,m=this._multiDrawCounts,x=this._geometryInfo,g=this.perObjectFrustumCulled,b=this._indirectTexture,v=b.image.data;g&&(qe.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Rd.setFromProjectionMatrix(qe,t.coordinateSystem));let S=0;if(this.sortObjects){qe.copy(this.matrixWorld).invert(),Ao.setFromMatrixPosition(i.matrixWorld).applyMatrix4(qe),G1.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(qe);for(let A=0,T=f.length;A<T;A++)if(f[A].visible&&f[A].active){const E=f[A].geometryIndex;this.getMatrixAt(A,qe),this.getBoundingSphereAt(E,Bs).applyMatrix4(qe);let O=!1;if(g&&(O=!Rd.intersectsSphere(Bs)),!O){const R=x[E],L=iT.subVectors(Bs.center,Ao).dot(G1);Od.push(R.start,R.count,L,A)}}const M=Od.list,_=this.customSort;_===null?M.sort(r.transparent?KA:$A):_.call(this,M,i);for(let A=0,T=M.length;A<T;A++){const E=M[A];d[S]=E.start*h,m[S]=E.count,v[S]=E.index,S++}Od.reset()}else for(let M=0,_=f.length;M<_;M++)if(f[M].visible&&f[M].active){const A=f[M].geometryIndex;let T=!1;if(g&&(this.getMatrixAt(M,qe),this.getBoundingSphereAt(A,Bs).applyMatrix4(qe),T=!Rd.intersectsSphere(Bs)),!T){const E=x[A];d[S]=E.start*h,m[S]=E.count,v[S]=M,S++}}b.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(t,e,i,s,r,l){this.onBeforeRender(t,null,s,r,l)}}class Xe extends Ie{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new St(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const fc=new B,dc=new B,Y1=new At,To=new Jo,Hu=new Fe,Bd=new B,X1=new B;class Vs extends Vt{constructor(t=new zt,e=new Xe){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let s=1,r=e.count;s<r;s++)fc.fromBufferAttribute(e,s-1),dc.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=fc.distanceTo(dc);t.setAttribute("lineDistance",new rt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Hu.copy(i.boundingSphere),Hu.applyMatrix4(s),Hu.radius+=r,t.ray.intersectsSphere(Hu)===!1)return;Y1.copy(s).invert(),To.copy(t.ray).applyMatrix4(Y1);const h=r/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,d=this.isLineSegments?2:1,m=i.index,g=i.attributes.position;if(m!==null){const b=Math.max(0,l.start),v=Math.min(m.count,l.start+l.count);for(let S=b,M=v-1;S<M;S+=d){const _=m.getX(S),A=m.getX(S+1),T=Vu(this,t,To,f,_,A);T&&e.push(T)}if(this.isLineLoop){const S=m.getX(v-1),M=m.getX(b),_=Vu(this,t,To,f,S,M);_&&e.push(_)}}else{const b=Math.max(0,l.start),v=Math.min(g.count,l.start+l.count);for(let S=b,M=v-1;S<M;S+=d){const _=Vu(this,t,To,f,S,S+1);_&&e.push(_)}if(this.isLineLoop){const S=Vu(this,t,To,f,v-1,b);S&&e.push(S)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=s.length;r<l;r++){const h=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=r}}}}}function Vu(u,t,e,i,s,r){const l=u.geometry.attributes.position;if(fc.fromBufferAttribute(l,s),dc.fromBufferAttribute(l,r),e.distanceSqToSegment(fc,dc,Bd,X1)>i)return;Bd.applyMatrix4(u.matrixWorld);const f=t.ray.origin.distanceTo(Bd);if(!(f<t.near||f>t.far))return{distance:f,point:X1.clone().applyMatrix4(u.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:u}}const Z1=new B,j1=new B;class wn extends Vs{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let s=0,r=e.count;s<r;s+=2)Z1.fromBufferAttribute(e,s),j1.fromBufferAttribute(e,s+1),i[s]=s===0?0:i[s-1],i[s+1]=i[s]+Z1.distanceTo(j1);t.setAttribute("lineDistance",new rt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class aT extends Vs{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class _b extends Ie{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new St(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const W1=new At,tp=new Jo,Pu=new Fe,qu=new B;class rT extends Vt{constructor(t=new zt,e=new _b){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Pu.copy(i.boundingSphere),Pu.applyMatrix4(s),Pu.radius+=r,t.ray.intersectsSphere(Pu)===!1)return;W1.copy(s).invert(),tp.copy(t.ray).applyMatrix4(W1);const h=r/((this.scale.x+this.scale.y+this.scale.z)/3),f=h*h,d=i.index,x=i.attributes.position;if(d!==null){const g=Math.max(0,l.start),b=Math.min(d.count,l.start+l.count);for(let v=g,S=b;v<S;v++){const M=d.getX(v);qu.fromBufferAttribute(x,M),J1(qu,M,f,s,t,e,this)}}else{const g=Math.max(0,l.start),b=Math.min(x.count,l.start+l.count);for(let v=g,S=b;v<S;v++)qu.fromBufferAttribute(x,v),J1(qu,v,f,s,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=s.length;r<l;r++){const h=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=r}}}}}function J1(u,t,e,i,s,r,l){const h=tp.distanceSqToPoint(u);if(h<e){const f=new B;tp.closestPointToPoint(u,f),f.applyMatrix4(i);const d=s.ray.origin.distanceTo(f);if(d<s.near||d>s.far)return;r.push({distance:d,distanceToRay:Math.sqrt(h),point:f,index:t,face:null,faceIndex:null,barycoord:null,object:l})}}class oT extends Vt{constructor(){super(),this.isGroup=!0,this.type="Group"}}class $z extends ye{constructor(t,e,i,s,r,l,h,f,d){super(t,e,i,s,r,l,h,f,d),this.isVideoTexture=!0,this.minFilter=l!==void 0?l:wi,this.magFilter=r!==void 0?r:wi,this.generateMipmaps=!1;const m=this;function x(){m.needsUpdate=!0,t.requestVideoFrameCallback(x)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(x)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Kz extends ye{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Ri,this.minFilter=Ri,this.generateMipmaps=!1,this.needsUpdate=!0}}class _p extends ye{constructor(t,e,i,s,r,l,h,f,d,m,x,g){super(null,l,h,f,d,m,s,r,x,g),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class tR extends _p{constructor(t,e,i,s,r,l){super(t,e,i,r,l),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Ui,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class eR extends _p{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,dp),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class iR extends ye{constructor(t,e,i,s,r,l,h,f,d){super(t,e,i,s,r,l,h,f,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class nR extends ye{constructor(t,e,i,s,r,l,h,f,d,m=nd){if(m!==nd&&m!==h1)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&m===nd&&(i=pp),i===void 0&&m===h1&&(i=l2),super(null,s,r,l,h,f,m,i,d),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=h!==void 0?h:Ri,this.minFilter=f!==void 0?f:Ri,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class qi{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let l=1;l<=t;l++)i=this.getPoint(l/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const r=i.length;let l;e?l=e:l=t*i[r-1];let h=0,f=r-1,d;for(;h<=f;)if(s=Math.floor(h+(f-h)/2),d=i[s]-l,d<0)h=s+1;else if(d>0)f=s-1;else{f=s;break}if(s=f,i[s]===l)return s/(r-1);const m=i[s],g=i[s+1]-m,b=(l-m)/g;return(s+b)/(r-1)}getTangent(t,e){let s=t-1e-4,r=t+1e-4;s<0&&(s=0),r>1&&(r=1);const l=this.getPoint(s),h=this.getPoint(r),f=e||(l.isVector2?new J:new B);return f.copy(h).sub(l).normalize(),f}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new B,s=[],r=[],l=[],h=new B,f=new At;for(let b=0;b<=t;b++){const v=b/t;s[b]=this.getTangentAt(v,new B)}r[0]=new B,l[0]=new B;let d=Number.MAX_VALUE;const m=Math.abs(s[0].x),x=Math.abs(s[0].y),g=Math.abs(s[0].z);m<=d&&(d=m,i.set(1,0,0)),x<=d&&(d=x,i.set(0,1,0)),g<=d&&i.set(0,0,1),h.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],h),l[0].crossVectors(s[0],r[0]);for(let b=1;b<=t;b++){if(r[b]=r[b-1].clone(),l[b]=l[b-1].clone(),h.crossVectors(s[b-1],s[b]),h.length()>Number.EPSILON){h.normalize();const v=Math.acos(vt(s[b-1].dot(s[b]),-1,1));r[b].applyMatrix4(f.makeRotationAxis(h,v))}l[b].crossVectors(s[b],r[b])}if(e===!0){let b=Math.acos(vt(r[0].dot(r[t]),-1,1));b/=t,s[0].dot(h.crossVectors(r[0],r[t]))>0&&(b=-b);for(let v=1;v<=t;v++)r[v].applyMatrix4(f.makeRotationAxis(s[v],b*v)),l[v].crossVectors(s[v],r[v])}return{tangents:s,normals:r,binormals:l}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Ap extends qi{constructor(t=0,e=0,i=1,s=1,r=0,l=Math.PI*2,h=!1,f=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=l,this.aClockwise=h,this.aRotation=f}getPoint(t,e=new J){const i=e,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const l=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(l?r=0:r=s),this.aClockwise===!0&&!l&&(r===s?r=-s:r=r-s);const h=this.aStartAngle+t*r;let f=this.aX+this.xRadius*Math.cos(h),d=this.aY+this.yRadius*Math.sin(h);if(this.aRotation!==0){const m=Math.cos(this.aRotation),x=Math.sin(this.aRotation),g=f-this.aX,b=d-this.aY;f=g*m-b*x+this.aX,d=g*x+b*m+this.aY}return i.set(f,d)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class lT extends Ap{constructor(t,e,i,s,r,l){super(t,e,i,i,s,r,l),this.isArcCurve=!0,this.type="ArcCurve"}}function Tp(){let u=0,t=0,e=0,i=0;function s(r,l,h,f){u=r,t=h,e=-3*r+3*l-2*h-f,i=2*r-2*l+h+f}return{initCatmullRom:function(r,l,h,f,d){s(l,h,d*(h-r),d*(f-l))},initNonuniformCatmullRom:function(r,l,h,f,d,m,x){let g=(l-r)/d-(h-r)/(d+m)+(h-l)/m,b=(h-l)/m-(f-l)/(m+x)+(f-h)/x;g*=m,b*=m,s(l,h,g,b)},calc:function(r){const l=r*r,h=l*r;return u+t*r+e*l+i*h}}}const Gu=new B,Nd=new Tp,Dd=new Tp,Ld=new Tp;class uT extends qi{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new B){const i=e,s=this.points,r=s.length,l=(r-(this.closed?0:1))*t;let h=Math.floor(l),f=l-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/r)+1)*r:f===0&&h===r-1&&(h=r-2,f=1);let d,m;this.closed||h>0?d=s[(h-1)%r]:(Gu.subVectors(s[0],s[1]).add(s[0]),d=Gu);const x=s[h%r],g=s[(h+1)%r];if(this.closed||h+2<r?m=s[(h+2)%r]:(Gu.subVectors(s[r-1],s[r-2]).add(s[r-1]),m=Gu),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let v=Math.pow(d.distanceToSquared(x),b),S=Math.pow(x.distanceToSquared(g),b),M=Math.pow(g.distanceToSquared(m),b);S<1e-4&&(S=1),v<1e-4&&(v=S),M<1e-4&&(M=S),Nd.initNonuniformCatmullRom(d.x,x.x,g.x,m.x,v,S,M),Dd.initNonuniformCatmullRom(d.y,x.y,g.y,m.y,v,S,M),Ld.initNonuniformCatmullRom(d.z,x.z,g.z,m.z,v,S,M)}else this.curveType==="catmullrom"&&(Nd.initCatmullRom(d.x,x.x,g.x,m.x,this.tension),Dd.initCatmullRom(d.y,x.y,g.y,m.y,this.tension),Ld.initCatmullRom(d.z,x.z,g.z,m.z,this.tension));return i.set(Nd.calc(f),Dd.calc(f),Ld.calc(f)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new B().fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function Q1(u,t,e,i,s){const r=(i-t)*.5,l=(s-e)*.5,h=u*u,f=u*h;return(2*e-2*i+r+l)*f+(-3*e+3*i-2*r-l)*h+r*u+e}function cT(u,t){const e=1-u;return e*e*t}function hT(u,t){return 2*(1-u)*u*t}function fT(u,t){return u*u*t}function Lo(u,t,e,i){return cT(u,t)+hT(u,e)+fT(u,i)}function dT(u,t){const e=1-u;return e*e*e*t}function pT(u,t){const e=1-u;return 3*e*e*u*t}function mT(u,t){return 3*(1-u)*u*u*t}function gT(u,t){return u*u*u*t}function ko(u,t,e,i,s){return dT(u,t)+pT(u,e)+mT(u,i)+gT(u,s)}class Ab extends qi{constructor(t=new J,e=new J,i=new J,s=new J){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new J){const i=e,s=this.v0,r=this.v1,l=this.v2,h=this.v3;return i.set(ko(t,s.x,r.x,l.x,h.x),ko(t,s.y,r.y,l.y,h.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class yT extends qi{constructor(t=new B,e=new B,i=new B,s=new B){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new B){const i=e,s=this.v0,r=this.v1,l=this.v2,h=this.v3;return i.set(ko(t,s.x,r.x,l.x,h.x),ko(t,s.y,r.y,l.y,h.y),ko(t,s.z,r.z,l.z,h.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class Tb extends qi{constructor(t=new J,e=new J){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new J){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new J){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class xT extends qi{constructor(t=new B,e=new B){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new B){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new B){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Cb extends qi{constructor(t=new J,e=new J,i=new J){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new J){const i=e,s=this.v0,r=this.v1,l=this.v2;return i.set(Lo(t,s.x,r.x,l.x),Lo(t,s.y,r.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Eb extends qi{constructor(t=new B,e=new B,i=new B){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new B){const i=e,s=this.v0,r=this.v1,l=this.v2;return i.set(Lo(t,s.x,r.x,l.x),Lo(t,s.y,r.y,l.y),Lo(t,s.z,r.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class zb extends qi{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new J){const i=e,s=this.points,r=(s.length-1)*t,l=Math.floor(r),h=r-l,f=s[l===0?l:l-1],d=s[l],m=s[l>s.length-2?s.length-1:l+1],x=s[l>s.length-3?s.length-1:l+2];return i.set(Q1(h,f.x,d.x,m.x,x.x),Q1(h,f.y,d.y,m.y,x.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const s=this.points[e];t.points.push(s.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push(new J().fromArray(s))}return this}}var pc=Object.freeze({__proto__:null,ArcCurve:lT,CatmullRomCurve3:uT,CubicBezierCurve:Ab,CubicBezierCurve3:yT,EllipseCurve:Ap,LineCurve:Tb,LineCurve3:xT,QuadraticBezierCurve:Cb,QuadraticBezierCurve3:Eb,SplineCurve:zb});class bT extends qi{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new pc[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const l=s[r]-i,h=this.curves[r],f=h.getLength(),d=f===0?0:1-l/f;return h.getPointAt(d,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const l=r[s],h=l.isEllipseCurve?t*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?t*l.points.length:t,f=l.getPoints(h);for(let d=0;d<f.length;d++){const m=f[d];i&&i.equals(m)||(e.push(m),i=m)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(s.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const s=this.curves[e];t.curves.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push(new pc[s.type]().fromJSON(s))}return this}}class mc extends bT{constructor(t){super(),this.type="Path",this.currentPoint=new J,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new Tb(this.currentPoint.clone(),new J(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const r=new Cb(this.currentPoint.clone(),new J(t,e),new J(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,r,l){const h=new Ab(this.currentPoint.clone(),new J(t,e),new J(i,s),new J(r,l));return this.curves.push(h),this.currentPoint.set(r,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new zb(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,r,l){const h=this.currentPoint.x,f=this.currentPoint.y;return this.absarc(t+h,e+f,i,s,r,l),this}absarc(t,e,i,s,r,l){return this.absellipse(t,e,i,i,s,r,l),this}ellipse(t,e,i,s,r,l,h,f){const d=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(t+d,e+m,i,s,r,l,h,f),this}absellipse(t,e,i,s,r,l,h,f){const d=new Ap(t,e,i,s,r,l,h,f);if(this.curves.length>0){const x=d.getPoint(0);x.equals(this.currentPoint)||this.lineTo(x.x,x.y)}this.curves.push(d);const m=d.getPoint(1);return this.currentPoint.copy(m),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Rc extends zt{constructor(t=[new J(0,-.5),new J(.5,0),new J(0,.5)],e=12,i=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=vt(s,0,Math.PI*2);const r=[],l=[],h=[],f=[],d=[],m=1/e,x=new B,g=new J,b=new B,v=new B,S=new B;let M=0,_=0;for(let A=0;A<=t.length-1;A++)switch(A){case 0:M=t[A+1].x-t[A].x,_=t[A+1].y-t[A].y,b.x=_*1,b.y=-M,b.z=_*0,S.copy(b),b.normalize(),f.push(b.x,b.y,b.z);break;case t.length-1:f.push(S.x,S.y,S.z);break;default:M=t[A+1].x-t[A].x,_=t[A+1].y-t[A].y,b.x=_*1,b.y=-M,b.z=_*0,v.copy(b),b.x+=S.x,b.y+=S.y,b.z+=S.z,b.normalize(),f.push(b.x,b.y,b.z),S.copy(v)}for(let A=0;A<=e;A++){const T=i+A*m*s,E=Math.sin(T),O=Math.cos(T);for(let R=0;R<=t.length-1;R++){x.x=t[R].x*E,x.y=t[R].y,x.z=t[R].x*O,l.push(x.x,x.y,x.z),g.x=A/e,g.y=R/(t.length-1),h.push(g.x,g.y);const L=f[3*R+0]*E,I=f[3*R+1],V=f[3*R+0]*O;d.push(L,I,V)}}for(let A=0;A<e;A++)for(let T=0;T<t.length-1;T++){const E=T+A*t.length,O=E,R=E+t.length,L=E+t.length+1,I=E+1;r.push(O,R,I),r.push(L,I,R)}this.setIndex(r),this.setAttribute("position",new rt(l,3)),this.setAttribute("uv",new rt(h,2)),this.setAttribute("normal",new rt(d,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Rc(t.points,t.segments,t.phiStart,t.phiLength)}}class Cp extends Rc{constructor(t=1,e=1,i=4,s=8){const r=new mc;r.absarc(0,-e/2,t,Math.PI*1.5,0),r.absarc(0,e/2,t,0,Math.PI*.5),super(r.getPoints(i),s),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:i,radialSegments:s}}static fromJSON(t){return new Cp(t.radius,t.length,t.capSegments,t.radialSegments)}}class Ep extends zt{constructor(t=1,e=32,i=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const r=[],l=[],h=[],f=[],d=new B,m=new J;l.push(0,0,0),h.push(0,0,1),f.push(.5,.5);for(let x=0,g=3;x<=e;x++,g+=3){const b=i+x/e*s;d.x=t*Math.cos(b),d.y=t*Math.sin(b),l.push(d.x,d.y,d.z),h.push(0,0,1),m.x=(l[g]/t+1)/2,m.y=(l[g+1]/t+1)/2,f.push(m.x,m.y)}for(let x=1;x<=e;x++)r.push(x,x+1,0);this.setIndex(r),this.setAttribute("position",new rt(l,3)),this.setAttribute("normal",new rt(h,3)),this.setAttribute("uv",new rt(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Ep(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Qo extends zt{constructor(t=1,e=1,i=1,s=32,r=1,l=!1,h=0,f=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:r,openEnded:l,thetaStart:h,thetaLength:f};const d=this;s=Math.floor(s),r=Math.floor(r);const m=[],x=[],g=[],b=[];let v=0;const S=[],M=i/2;let _=0;A(),l===!1&&(t>0&&T(!0),e>0&&T(!1)),this.setIndex(m),this.setAttribute("position",new rt(x,3)),this.setAttribute("normal",new rt(g,3)),this.setAttribute("uv",new rt(b,2));function A(){const E=new B,O=new B;let R=0;const L=(e-t)/i;for(let I=0;I<=r;I++){const V=[],X=I/r,Q=X*(e-t)+t;for(let dt=0;dt<=s;dt++){const gt=dt/s,mt=gt*f+h,xt=Math.sin(mt),W=Math.cos(mt);O.x=Q*xt,O.y=-X*i+M,O.z=Q*W,x.push(O.x,O.y,O.z),E.set(xt,L,W).normalize(),g.push(E.x,E.y,E.z),b.push(gt,1-X),V.push(v++)}S.push(V)}for(let I=0;I<s;I++)for(let V=0;V<r;V++){const X=S[V][I],Q=S[V+1][I],dt=S[V+1][I+1],gt=S[V][I+1];(t>0||V!==0)&&(m.push(X,Q,gt),R+=3),(e>0||V!==r-1)&&(m.push(Q,dt,gt),R+=3)}d.addGroup(_,R,0),_+=R}function T(E){const O=v,R=new J,L=new B;let I=0;const V=E===!0?t:e,X=E===!0?1:-1;for(let dt=1;dt<=s;dt++)x.push(0,M*X,0),g.push(0,X,0),b.push(.5,.5),v++;const Q=v;for(let dt=0;dt<=s;dt++){const mt=dt/s*f+h,xt=Math.cos(mt),W=Math.sin(mt);L.x=V*W,L.y=M*X,L.z=V*xt,x.push(L.x,L.y,L.z),g.push(0,X,0),R.x=xt*.5+.5,R.y=W*.5*X+.5,b.push(R.x,R.y),v++}for(let dt=0;dt<s;dt++){const gt=O+dt,mt=Q+dt;E===!0?m.push(mt,mt+1,gt):m.push(mt+1,mt,gt),I+=3}d.addGroup(_,I,E===!0?1:2),_+=I}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Qo(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class zp extends Qo{constructor(t=1,e=1,i=32,s=1,r=!1,l=0,h=Math.PI*2){super(0,t,e,i,s,r,l,h),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:l,thetaLength:h}}static fromJSON(t){return new zp(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class qs extends zt{constructor(t=[],e=[],i=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:s};const r=[],l=[];h(s),d(i),m(),this.setAttribute("position",new rt(r,3)),this.setAttribute("normal",new rt(r.slice(),3)),this.setAttribute("uv",new rt(l,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function h(A){const T=new B,E=new B,O=new B;for(let R=0;R<e.length;R+=3)b(e[R+0],T),b(e[R+1],E),b(e[R+2],O),f(T,E,O,A)}function f(A,T,E,O){const R=O+1,L=[];for(let I=0;I<=R;I++){L[I]=[];const V=A.clone().lerp(E,I/R),X=T.clone().lerp(E,I/R),Q=R-I;for(let dt=0;dt<=Q;dt++)dt===0&&I===R?L[I][dt]=V:L[I][dt]=V.clone().lerp(X,dt/Q)}for(let I=0;I<R;I++)for(let V=0;V<2*(R-I)-1;V++){const X=Math.floor(V/2);V%2===0?(g(L[I][X+1]),g(L[I+1][X]),g(L[I][X])):(g(L[I][X+1]),g(L[I+1][X+1]),g(L[I+1][X]))}}function d(A){const T=new B;for(let E=0;E<r.length;E+=3)T.x=r[E+0],T.y=r[E+1],T.z=r[E+2],T.normalize().multiplyScalar(A),r[E+0]=T.x,r[E+1]=T.y,r[E+2]=T.z}function m(){const A=new B;for(let T=0;T<r.length;T+=3){A.x=r[T+0],A.y=r[T+1],A.z=r[T+2];const E=M(A)/2/Math.PI+.5,O=_(A)/Math.PI+.5;l.push(E,1-O)}v(),x()}function x(){for(let A=0;A<l.length;A+=6){const T=l[A+0],E=l[A+2],O=l[A+4],R=Math.max(T,E,O),L=Math.min(T,E,O);R>.9&&L<.1&&(T<.2&&(l[A+0]+=1),E<.2&&(l[A+2]+=1),O<.2&&(l[A+4]+=1))}}function g(A){r.push(A.x,A.y,A.z)}function b(A,T){const E=A*3;T.x=t[E+0],T.y=t[E+1],T.z=t[E+2]}function v(){const A=new B,T=new B,E=new B,O=new B,R=new J,L=new J,I=new J;for(let V=0,X=0;V<r.length;V+=9,X+=6){A.set(r[V+0],r[V+1],r[V+2]),T.set(r[V+3],r[V+4],r[V+5]),E.set(r[V+6],r[V+7],r[V+8]),R.set(l[X+0],l[X+1]),L.set(l[X+2],l[X+3]),I.set(l[X+4],l[X+5]),O.copy(A).add(T).add(E).divideScalar(3);const Q=M(O);S(R,X+0,A,Q),S(L,X+2,T,Q),S(I,X+4,E,Q)}}function S(A,T,E,O){O<0&&A.x===1&&(l[T]=A.x-1),E.x===0&&E.z===0&&(l[T]=O/2/Math.PI+.5)}function M(A){return Math.atan2(A.z,-A.x)}function _(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new qs(t.vertices,t.indices,t.radius,t.details)}}class Rp extends qs{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,l,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Rp(t.radius,t.detail)}}const Yu=new B,Xu=new B,kd=new B,Zu=new ni;class vT extends zt{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const s=Math.pow(10,4),r=Math.cos(Hs*e),l=t.getIndex(),h=t.getAttribute("position"),f=l?l.count:h.count,d=[0,0,0],m=["a","b","c"],x=new Array(3),g={},b=[];for(let v=0;v<f;v+=3){l?(d[0]=l.getX(v),d[1]=l.getX(v+1),d[2]=l.getX(v+2)):(d[0]=v,d[1]=v+1,d[2]=v+2);const{a:S,b:M,c:_}=Zu;if(S.fromBufferAttribute(h,d[0]),M.fromBufferAttribute(h,d[1]),_.fromBufferAttribute(h,d[2]),Zu.getNormal(kd),x[0]=`${Math.round(S.x*s)},${Math.round(S.y*s)},${Math.round(S.z*s)}`,x[1]=`${Math.round(M.x*s)},${Math.round(M.y*s)},${Math.round(M.z*s)}`,x[2]=`${Math.round(_.x*s)},${Math.round(_.y*s)},${Math.round(_.z*s)}`,!(x[0]===x[1]||x[1]===x[2]||x[2]===x[0]))for(let A=0;A<3;A++){const T=(A+1)%3,E=x[A],O=x[T],R=Zu[m[A]],L=Zu[m[T]],I=`${E}_${O}`,V=`${O}_${E}`;V in g&&g[V]?(kd.dot(g[V].normal)<=r&&(b.push(R.x,R.y,R.z),b.push(L.x,L.y,L.z)),g[V]=null):I in g||(g[I]={index0:d[A],index1:d[T],normal:kd.clone()})}}for(const v in g)if(g[v]){const{index0:S,index1:M}=g[v];Yu.fromBufferAttribute(h,S),Xu.fromBufferAttribute(h,M),b.push(Yu.x,Yu.y,Yu.z),b.push(Xu.x,Xu.y,Xu.z)}this.setAttribute("position",new rt(b,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class er extends mc{constructor(t){super(t),this.uuid=si(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(s.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const s=this.holes[e];t.holes.push(s.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push(new mc().fromJSON(s))}return this}}const ST={triangulate:function(u,t,e=2){const i=t&&t.length,s=i?t[0]*e:u.length;let r=Rb(u,0,s,e,!0);const l=[];if(!r||r.next===r.prev)return l;let h,f,d,m,x,g,b;if(i&&(r=TT(u,t,r,e)),u.length>80*e){h=d=u[0],f=m=u[1];for(let v=e;v<s;v+=e)x=u[v],g=u[v+1],x<h&&(h=x),g<f&&(f=g),x>d&&(d=x),g>m&&(m=g);b=Math.max(d-h,m-f),b=b!==0?32767/b:0}return Po(r,l,e,h,f,b,0),l}};function Rb(u,t,e,i,s){let r,l;if(s===UT(u,t,e,i)>0)for(r=t;r<e;r+=i)l=$1(r,u[r],u[r+1],l);else for(r=e-i;r>=t;r-=i)l=$1(r,u[r],u[r+1],l);return l&&Oc(l,l.next)&&(Go(l),l=l.next),l}function Ps(u,t){if(!u)return u;t||(t=u);let e=u,i;do if(i=!1,!e.steiner&&(Oc(e,e.next)||Qt(e.prev,e,e.next)===0)){if(Go(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function Po(u,t,e,i,s,r,l){if(!u)return;!l&&r&&OT(u,i,s,r);let h=u,f,d;for(;u.prev!==u.next;){if(f=u.prev,d=u.next,r?MT(u,i,s,r):wT(u)){t.push(f.i/e|0),t.push(u.i/e|0),t.push(d.i/e|0),Go(u),u=d.next,h=d.next;continue}if(u=d,u===h){l?l===1?(u=_T(Ps(u),t,e),Po(u,t,e,i,s,r,2)):l===2&&AT(u,t,e,i,s,r):Po(Ps(u),t,e,i,s,r,1);break}}}function wT(u){const t=u.prev,e=u,i=u.next;if(Qt(t,e,i)>=0)return!1;const s=t.x,r=e.x,l=i.x,h=t.y,f=e.y,d=i.y,m=s<r?s<l?s:l:r<l?r:l,x=h<f?h<d?h:d:f<d?f:d,g=s>r?s>l?s:l:r>l?r:l,b=h>f?h>d?h:d:f>d?f:d;let v=i.next;for(;v!==t;){if(v.x>=m&&v.x<=g&&v.y>=x&&v.y<=b&&Ka(s,h,r,f,l,d,v.x,v.y)&&Qt(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function MT(u,t,e,i){const s=u.prev,r=u,l=u.next;if(Qt(s,r,l)>=0)return!1;const h=s.x,f=r.x,d=l.x,m=s.y,x=r.y,g=l.y,b=h<f?h<d?h:d:f<d?f:d,v=m<x?m<g?m:g:x<g?x:g,S=h>f?h>d?h:d:f>d?f:d,M=m>x?m>g?m:g:x>g?x:g,_=ep(b,v,t,e,i),A=ep(S,M,t,e,i);let T=u.prevZ,E=u.nextZ;for(;T&&T.z>=_&&E&&E.z<=A;){if(T.x>=b&&T.x<=S&&T.y>=v&&T.y<=M&&T!==s&&T!==l&&Ka(h,m,f,x,d,g,T.x,T.y)&&Qt(T.prev,T,T.next)>=0||(T=T.prevZ,E.x>=b&&E.x<=S&&E.y>=v&&E.y<=M&&E!==s&&E!==l&&Ka(h,m,f,x,d,g,E.x,E.y)&&Qt(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;T&&T.z>=_;){if(T.x>=b&&T.x<=S&&T.y>=v&&T.y<=M&&T!==s&&T!==l&&Ka(h,m,f,x,d,g,T.x,T.y)&&Qt(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;E&&E.z<=A;){if(E.x>=b&&E.x<=S&&E.y>=v&&E.y<=M&&E!==s&&E!==l&&Ka(h,m,f,x,d,g,E.x,E.y)&&Qt(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function _T(u,t,e){let i=u;do{const s=i.prev,r=i.next.next;!Oc(s,r)&&Ob(s,i,i.next,r)&&qo(s,r)&&qo(r,s)&&(t.push(s.i/e|0),t.push(i.i/e|0),t.push(r.i/e|0),Go(i),Go(i.next),i=u=r),i=i.next}while(i!==u);return Ps(i)}function AT(u,t,e,i,s,r){let l=u;do{let h=l.next.next;for(;h!==l.prev;){if(l.i!==h.i&&DT(l,h)){let f=Bb(l,h);l=Ps(l,l.next),f=Ps(f,f.next),Po(l,t,e,i,s,r,0),Po(f,t,e,i,s,r,0);return}h=h.next}l=l.next}while(l!==u)}function TT(u,t,e,i){const s=[];let r,l,h,f,d;for(r=0,l=t.length;r<l;r++)h=t[r]*i,f=r<l-1?t[r+1]*i:u.length,d=Rb(u,h,f,i,!1),d===d.next&&(d.steiner=!0),s.push(NT(d));for(s.sort(CT),r=0;r<s.length;r++)e=ET(s[r],e);return e}function CT(u,t){return u.x-t.x}function ET(u,t){const e=zT(u,t);if(!e)return t;const i=Bb(e,u);return Ps(i,i.next),Ps(e,e.next)}function zT(u,t){let e=t,i=-1/0,s;const r=u.x,l=u.y;do{if(l<=e.y&&l>=e.next.y&&e.next.y!==e.y){const g=e.x+(l-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(g<=r&&g>i&&(i=g,s=e.x<e.next.x?e:e.next,g===r))return s}e=e.next}while(e!==t);if(!s)return null;const h=s,f=s.x,d=s.y;let m=1/0,x;e=s;do r>=e.x&&e.x>=f&&r!==e.x&&Ka(l<d?r:i,l,f,d,l<d?i:r,l,e.x,e.y)&&(x=Math.abs(l-e.y)/(r-e.x),qo(e,u)&&(x<m||x===m&&(e.x>s.x||e.x===s.x&&RT(s,e)))&&(s=e,m=x)),e=e.next;while(e!==h);return s}function RT(u,t){return Qt(u.prev,u,t.prev)<0&&Qt(t.next,u,u.next)<0}function OT(u,t,e,i){let s=u;do s.z===0&&(s.z=ep(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==u);s.prevZ.nextZ=null,s.prevZ=null,BT(s)}function BT(u){let t,e,i,s,r,l,h,f,d=1;do{for(e=u,u=null,r=null,l=0;e;){for(l++,i=e,h=0,t=0;t<d&&(h++,i=i.nextZ,!!i);t++);for(f=d;h>0||f>0&&i;)h!==0&&(f===0||!i||e.z<=i.z)?(s=e,e=e.nextZ,h--):(s=i,i=i.nextZ,f--),r?r.nextZ=s:u=s,s.prevZ=r,r=s;e=i}r.nextZ=null,d*=2}while(l>1);return u}function ep(u,t,e,i,s){return u=(u-e)*s|0,t=(t-i)*s|0,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,u=(u|u<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,u|t<<1}function NT(u){let t=u,e=u;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==u);return e}function Ka(u,t,e,i,s,r,l,h){return(s-l)*(t-h)>=(u-l)*(r-h)&&(u-l)*(i-h)>=(e-l)*(t-h)&&(e-l)*(r-h)>=(s-l)*(i-h)}function DT(u,t){return u.next.i!==t.i&&u.prev.i!==t.i&&!LT(u,t)&&(qo(u,t)&&qo(t,u)&&kT(u,t)&&(Qt(u.prev,u,t.prev)||Qt(u,t.prev,t))||Oc(u,t)&&Qt(u.prev,u,u.next)>0&&Qt(t.prev,t,t.next)>0)}function Qt(u,t,e){return(t.y-u.y)*(e.x-t.x)-(t.x-u.x)*(e.y-t.y)}function Oc(u,t){return u.x===t.x&&u.y===t.y}function Ob(u,t,e,i){const s=Wu(Qt(u,t,e)),r=Wu(Qt(u,t,i)),l=Wu(Qt(e,i,u)),h=Wu(Qt(e,i,t));return!!(s!==r&&l!==h||s===0&&ju(u,e,t)||r===0&&ju(u,i,t)||l===0&&ju(e,u,i)||h===0&&ju(e,t,i))}function ju(u,t,e){return t.x<=Math.max(u.x,e.x)&&t.x>=Math.min(u.x,e.x)&&t.y<=Math.max(u.y,e.y)&&t.y>=Math.min(u.y,e.y)}function Wu(u){return u>0?1:u<0?-1:0}function LT(u,t){let e=u;do{if(e.i!==u.i&&e.next.i!==u.i&&e.i!==t.i&&e.next.i!==t.i&&Ob(e,e.next,u,t))return!0;e=e.next}while(e!==u);return!1}function qo(u,t){return Qt(u.prev,u,u.next)<0?Qt(u,t,u.next)>=0&&Qt(u,u.prev,t)>=0:Qt(u,t,u.prev)<0||Qt(u,u.next,t)<0}function kT(u,t){let e=u,i=!1;const s=(u.x+t.x)/2,r=(u.y+t.y)/2;do e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==u);return i}function Bb(u,t){const e=new ip(u.i,u.x,u.y),i=new ip(t.i,t.x,t.y),s=u.next,r=t.prev;return u.next=t,t.prev=u,e.next=s,s.prev=e,i.next=e,e.prev=i,r.next=i,i.prev=r,i}function $1(u,t,e,i){const s=new ip(u,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function Go(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function ip(u,t,e){this.i=u,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function UT(u,t,e,i){let s=0;for(let r=t,l=e-i;r<e;r+=i)s+=(u[l]-u[r])*(u[r+1]+u[l+1]),l=r;return s}class vn{static area(t){const e=t.length;let i=0;for(let s=e-1,r=0;r<e;s=r++)i+=t[s].x*t[r].y-t[r].x*t[s].y;return i*.5}static isClockWise(t){return vn.area(t)<0}static triangulateShape(t,e){const i=[],s=[],r=[];K1(t),tx(i,t);let l=t.length;e.forEach(K1);for(let f=0;f<e.length;f++)s.push(l),l+=e[f].length,tx(i,e[f]);const h=ST.triangulate(i,s);for(let f=0;f<h.length;f+=3)r.push(h.slice(f,f+3));return r}}function K1(u){const t=u.length;t>2&&u[t-1].equals(u[0])&&u.pop()}function tx(u,t){for(let e=0;e<t.length;e++)u.push(t[e].x),u.push(t[e].y)}class Op extends zt{constructor(t=new er([new J(.5,.5),new J(-.5,.5),new J(-.5,-.5),new J(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],r=[];for(let h=0,f=t.length;h<f;h++){const d=t[h];l(d)}this.setAttribute("position",new rt(s,3)),this.setAttribute("uv",new rt(r,2)),this.computeVertexNormals();function l(h){const f=[],d=e.curveSegments!==void 0?e.curveSegments:12,m=e.steps!==void 0?e.steps:1,x=e.depth!==void 0?e.depth:1;let g=e.bevelEnabled!==void 0?e.bevelEnabled:!0,b=e.bevelThickness!==void 0?e.bevelThickness:.2,v=e.bevelSize!==void 0?e.bevelSize:b-.1,S=e.bevelOffset!==void 0?e.bevelOffset:0,M=e.bevelSegments!==void 0?e.bevelSegments:3;const _=e.extrudePath,A=e.UVGenerator!==void 0?e.UVGenerator:FT;let T,E=!1,O,R,L,I;_&&(T=_.getSpacedPoints(m),E=!0,g=!1,O=_.computeFrenetFrames(m,!1),R=new B,L=new B,I=new B),g||(M=0,b=0,v=0,S=0);const V=h.extractPoints(d);let X=V.shape;const Q=V.holes;if(!vn.isClockWise(X)){X=X.reverse();for(let $=0,tt=Q.length;$<tt;$++){const it=Q[$];vn.isClockWise(it)&&(Q[$]=it.reverse())}}const gt=vn.triangulateShape(X,Q),mt=X;for(let $=0,tt=Q.length;$<tt;$++){const it=Q[$];X=X.concat(it)}function xt($,tt,it){return tt||console.error("THREE.ExtrudeGeometry: vec does not exist"),$.clone().addScaledVector(tt,it)}const W=X.length,ut=gt.length;function K($,tt,it){let pt,nt,Dt;const Lt=$.x-tt.x,Yt=$.y-tt.y,pe=it.x-$.x,ae=it.y-$.y,as=Lt*Lt+Yt*Yt,hr=Lt*ae-Yt*pe;if(Math.abs(hr)>Number.EPSILON){const ue=Math.sqrt(as),$o=Math.sqrt(pe*pe+ae*ae),fr=tt.x-Yt/ue,dr=tt.y+Lt/ue,Ys=it.x-ae/$o,Uc=it.y+pe/$o,pr=((Ys-fr)*ae-(Uc-dr)*pe)/(Lt*ae-Yt*pe);pt=fr+Lt*pr-$.x,nt=dr+Yt*pr-$.y;const Ko=pt*pt+nt*nt;if(Ko<=2)return new J(pt,nt);Dt=Math.sqrt(Ko/2)}else{let ue=!1;Lt>Number.EPSILON?pe>Number.EPSILON&&(ue=!0):Lt<-Number.EPSILON?pe<-Number.EPSILON&&(ue=!0):Math.sign(Yt)===Math.sign(ae)&&(ue=!0),ue?(pt=-Yt,nt=Lt,Dt=Math.sqrt(as)):(pt=Lt,nt=Yt,Dt=Math.sqrt(as/2))}return new J(pt/Dt,nt/Dt)}const ct=[];for(let $=0,tt=mt.length,it=tt-1,pt=$+1;$<tt;$++,it++,pt++)it===tt&&(it=0),pt===tt&&(pt=0),ct[$]=K(mt[$],mt[it],mt[pt]);const N=[];let Y,at=ct.concat();for(let $=0,tt=Q.length;$<tt;$++){const it=Q[$];Y=[];for(let pt=0,nt=it.length,Dt=nt-1,Lt=pt+1;pt<nt;pt++,Dt++,Lt++)Dt===nt&&(Dt=0),Lt===nt&&(Lt=0),Y[pt]=K(it[pt],it[Dt],it[Lt]);N.push(Y),at=at.concat(Y)}for(let $=0;$<M;$++){const tt=$/M,it=b*Math.cos(tt*Math.PI/2),pt=v*Math.sin(tt*Math.PI/2)+S;for(let nt=0,Dt=mt.length;nt<Dt;nt++){const Lt=xt(mt[nt],ct[nt],pt);jt(Lt.x,Lt.y,-it)}for(let nt=0,Dt=Q.length;nt<Dt;nt++){const Lt=Q[nt];Y=N[nt];for(let Yt=0,pe=Lt.length;Yt<pe;Yt++){const ae=xt(Lt[Yt],Y[Yt],pt);jt(ae.x,ae.y,-it)}}}const ot=v+S;for(let $=0;$<W;$++){const tt=g?xt(X[$],at[$],ot):X[$];E?(L.copy(O.normals[0]).multiplyScalar(tt.x),R.copy(O.binormals[0]).multiplyScalar(tt.y),I.copy(T[0]).add(L).add(R),jt(I.x,I.y,I.z)):jt(tt.x,tt.y,0)}for(let $=1;$<=m;$++)for(let tt=0;tt<W;tt++){const it=g?xt(X[tt],at[tt],ot):X[tt];E?(L.copy(O.normals[$]).multiplyScalar(it.x),R.copy(O.binormals[$]).multiplyScalar(it.y),I.copy(T[$]).add(L).add(R),jt(I.x,I.y,I.z)):jt(it.x,it.y,x/m*$)}for(let $=M-1;$>=0;$--){const tt=$/M,it=b*Math.cos(tt*Math.PI/2),pt=v*Math.sin(tt*Math.PI/2)+S;for(let nt=0,Dt=mt.length;nt<Dt;nt++){const Lt=xt(mt[nt],ct[nt],pt);jt(Lt.x,Lt.y,x+it)}for(let nt=0,Dt=Q.length;nt<Dt;nt++){const Lt=Q[nt];Y=N[nt];for(let Yt=0,pe=Lt.length;Yt<pe;Yt++){const ae=xt(Lt[Yt],Y[Yt],pt);E?jt(ae.x,ae.y+T[m-1].y,T[m-1].x+it):jt(ae.x,ae.y,x+it)}}}et(),Tt();function et(){const $=s.length/3;if(g){let tt=0,it=W*tt;for(let pt=0;pt<ut;pt++){const nt=gt[pt];Ot(nt[2]+it,nt[1]+it,nt[0]+it)}tt=m+M*2,it=W*tt;for(let pt=0;pt<ut;pt++){const nt=gt[pt];Ot(nt[0]+it,nt[1]+it,nt[2]+it)}}else{for(let tt=0;tt<ut;tt++){const it=gt[tt];Ot(it[2],it[1],it[0])}for(let tt=0;tt<ut;tt++){const it=gt[tt];Ot(it[0]+W*m,it[1]+W*m,it[2]+W*m)}}i.addGroup($,s.length/3-$,0)}function Tt(){const $=s.length/3;let tt=0;wt(mt,tt),tt+=mt.length;for(let it=0,pt=Q.length;it<pt;it++){const nt=Q[it];wt(nt,tt),tt+=nt.length}i.addGroup($,s.length/3-$,1)}function wt($,tt){let it=$.length;for(;--it>=0;){const pt=it;let nt=it-1;nt<0&&(nt=$.length-1);for(let Dt=0,Lt=m+M*2;Dt<Lt;Dt++){const Yt=W*Dt,pe=W*(Dt+1),ae=tt+pt+Yt,as=tt+nt+Yt,hr=tt+nt+pe,ue=tt+pt+pe;te(ae,as,hr,ue)}}}function jt($,tt,it){f.push($),f.push(tt),f.push(it)}function Ot($,tt,it){Nt($),Nt(tt),Nt(it);const pt=s.length/3,nt=A.generateTopUV(i,s,pt-3,pt-2,pt-1);le(nt[0]),le(nt[1]),le(nt[2])}function te($,tt,it,pt){Nt($),Nt(tt),Nt(pt),Nt(tt),Nt(it),Nt(pt);const nt=s.length/3,Dt=A.generateSideWallUV(i,s,nt-6,nt-3,nt-2,nt-1);le(Dt[0]),le(Dt[1]),le(Dt[3]),le(Dt[1]),le(Dt[2]),le(Dt[3])}function Nt($){s.push(f[$*3+0]),s.push(f[$*3+1]),s.push(f[$*3+2])}function le($){r.push($.x),r.push($.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return IT(e,i,t)}static fromJSON(t,e){const i=[];for(let r=0,l=t.shapes.length;r<l;r++){const h=e[t.shapes[r]];i.push(h)}const s=t.options.extrudePath;return s!==void 0&&(t.options.extrudePath=new pc[s.type]().fromJSON(s)),new Op(i,t.options)}}const FT={generateTopUV:function(u,t,e,i,s){const r=t[e*3],l=t[e*3+1],h=t[i*3],f=t[i*3+1],d=t[s*3],m=t[s*3+1];return[new J(r,l),new J(h,f),new J(d,m)]},generateSideWallUV:function(u,t,e,i,s,r){const l=t[e*3],h=t[e*3+1],f=t[e*3+2],d=t[i*3],m=t[i*3+1],x=t[i*3+2],g=t[s*3],b=t[s*3+1],v=t[s*3+2],S=t[r*3],M=t[r*3+1],_=t[r*3+2];return Math.abs(h-m)<Math.abs(l-d)?[new J(l,1-f),new J(d,1-x),new J(g,1-v),new J(S,1-_)]:[new J(h,1-f),new J(m,1-x),new J(b,1-v),new J(M,1-_)]}};function IT(u,t,e){if(e.shapes=[],Array.isArray(u))for(let i=0,s=u.length;i<s;i++){const r=u[i];e.shapes.push(r.uuid)}else e.shapes.push(u.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class Bp extends qs{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Bp(t.radius,t.detail)}}class Bc extends qs{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,s,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Bc(t.radius,t.detail)}}class Np extends zt{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const r=t/2,l=e/2,h=Math.floor(i),f=Math.floor(s),d=h+1,m=f+1,x=t/h,g=e/f,b=[],v=[],S=[],M=[];for(let _=0;_<m;_++){const A=_*g-l;for(let T=0;T<d;T++){const E=T*x-r;v.push(E,-A,0),S.push(0,0,1),M.push(T/h),M.push(1-_/f)}}for(let _=0;_<f;_++)for(let A=0;A<h;A++){const T=A+d*_,E=A+d*(_+1),O=A+1+d*(_+1),R=A+1+d*_;b.push(T,E,R),b.push(E,O,R)}this.setIndex(b),this.setAttribute("position",new rt(v,3)),this.setAttribute("normal",new rt(S,3)),this.setAttribute("uv",new rt(M,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Np(t.width,t.height,t.widthSegments,t.heightSegments)}}class Dp extends zt{constructor(t=.5,e=1,i=32,s=1,r=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:l},i=Math.max(3,i),s=Math.max(1,s);const h=[],f=[],d=[],m=[];let x=t;const g=(e-t)/s,b=new B,v=new J;for(let S=0;S<=s;S++){for(let M=0;M<=i;M++){const _=r+M/i*l;b.x=x*Math.cos(_),b.y=x*Math.sin(_),f.push(b.x,b.y,b.z),d.push(0,0,1),v.x=(b.x/e+1)/2,v.y=(b.y/e+1)/2,m.push(v.x,v.y)}x+=g}for(let S=0;S<s;S++){const M=S*(i+1);for(let _=0;_<i;_++){const A=_+M,T=A,E=A+i+1,O=A+i+2,R=A+1;h.push(T,E,R),h.push(E,O,R)}}this.setIndex(h),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(d,3)),this.setAttribute("uv",new rt(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Dp(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Lp extends zt{constructor(t=new er([new J(0,.5),new J(-.5,-.5),new J(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],r=[],l=[];let h=0,f=0;if(Array.isArray(t)===!1)d(t);else for(let m=0;m<t.length;m++)d(t[m]),this.addGroup(h,f,m),h+=f,f=0;this.setIndex(i),this.setAttribute("position",new rt(s,3)),this.setAttribute("normal",new rt(r,3)),this.setAttribute("uv",new rt(l,2));function d(m){const x=s.length/3,g=m.extractPoints(e);let b=g.shape;const v=g.holes;vn.isClockWise(b)===!1&&(b=b.reverse());for(let M=0,_=v.length;M<_;M++){const A=v[M];vn.isClockWise(A)===!0&&(v[M]=A.reverse())}const S=vn.triangulateShape(b,v);for(let M=0,_=v.length;M<_;M++){const A=v[M];b=b.concat(A)}for(let M=0,_=b.length;M<_;M++){const A=b[M];s.push(A.x,A.y,0),r.push(0,0,1),l.push(A.x,A.y)}for(let M=0,_=S.length;M<_;M++){const A=S[M],T=A[0]+x,E=A[1]+x,O=A[2]+x;i.push(T,E,O),f+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return HT(e,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++){const l=e[t.shapes[s]];i.push(l)}return new Lp(i,t.curveSegments)}}function HT(u,t){if(t.shapes=[],Array.isArray(u))for(let e=0,i=u.length;e<i;e++){const s=u[e];t.shapes.push(s.uuid)}else t.shapes.push(u.uuid);return t}class Nc extends zt{constructor(t=1,e=32,i=16,s=0,r=Math.PI*2,l=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:r,thetaStart:l,thetaLength:h},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const f=Math.min(l+h,Math.PI);let d=0;const m=[],x=new B,g=new B,b=[],v=[],S=[],M=[];for(let _=0;_<=i;_++){const A=[],T=_/i;let E=0;_===0&&l===0?E=.5/e:_===i&&f===Math.PI&&(E=-.5/e);for(let O=0;O<=e;O++){const R=O/e;x.x=-t*Math.cos(s+R*r)*Math.sin(l+T*h),x.y=t*Math.cos(l+T*h),x.z=t*Math.sin(s+R*r)*Math.sin(l+T*h),v.push(x.x,x.y,x.z),g.copy(x).normalize(),S.push(g.x,g.y,g.z),M.push(R+E,1-T),A.push(d++)}m.push(A)}for(let _=0;_<i;_++)for(let A=0;A<e;A++){const T=m[_][A+1],E=m[_][A],O=m[_+1][A],R=m[_+1][A+1];(_!==0||l>0)&&b.push(T,E,R),(_!==i-1||f<Math.PI)&&b.push(E,O,R)}this.setIndex(b),this.setAttribute("position",new rt(v,3)),this.setAttribute("normal",new rt(S,3)),this.setAttribute("uv",new rt(M,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Nc(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class kp extends qs{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,s,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new kp(t.radius,t.detail)}}class Up extends zt{constructor(t=1,e=.4,i=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const l=[],h=[],f=[],d=[],m=new B,x=new B,g=new B;for(let b=0;b<=i;b++)for(let v=0;v<=s;v++){const S=v/s*r,M=b/i*Math.PI*2;x.x=(t+e*Math.cos(M))*Math.cos(S),x.y=(t+e*Math.cos(M))*Math.sin(S),x.z=e*Math.sin(M),h.push(x.x,x.y,x.z),m.x=t*Math.cos(S),m.y=t*Math.sin(S),g.subVectors(x,m).normalize(),f.push(g.x,g.y,g.z),d.push(v/s),d.push(b/i)}for(let b=1;b<=i;b++)for(let v=1;v<=s;v++){const S=(s+1)*b+v-1,M=(s+1)*(b-1)+v-1,_=(s+1)*(b-1)+v,A=(s+1)*b+v;l.push(S,M,A),l.push(M,_,A)}this.setIndex(l),this.setAttribute("position",new rt(h,3)),this.setAttribute("normal",new rt(f,3)),this.setAttribute("uv",new rt(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Up(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class Fp extends zt{constructor(t=1,e=.4,i=64,s=8,r=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:r,q:l},i=Math.floor(i),s=Math.floor(s);const h=[],f=[],d=[],m=[],x=new B,g=new B,b=new B,v=new B,S=new B,M=new B,_=new B;for(let T=0;T<=i;++T){const E=T/i*r*Math.PI*2;A(E,r,l,t,b),A(E+.01,r,l,t,v),M.subVectors(v,b),_.addVectors(v,b),S.crossVectors(M,_),_.crossVectors(S,M),S.normalize(),_.normalize();for(let O=0;O<=s;++O){const R=O/s*Math.PI*2,L=-e*Math.cos(R),I=e*Math.sin(R);x.x=b.x+(L*_.x+I*S.x),x.y=b.y+(L*_.y+I*S.y),x.z=b.z+(L*_.z+I*S.z),f.push(x.x,x.y,x.z),g.subVectors(x,b).normalize(),d.push(g.x,g.y,g.z),m.push(T/i),m.push(O/s)}}for(let T=1;T<=i;T++)for(let E=1;E<=s;E++){const O=(s+1)*(T-1)+(E-1),R=(s+1)*T+(E-1),L=(s+1)*T+E,I=(s+1)*(T-1)+E;h.push(O,R,I),h.push(R,L,I)}this.setIndex(h),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(d,3)),this.setAttribute("uv",new rt(m,2));function A(T,E,O,R,L){const I=Math.cos(T),V=Math.sin(T),X=O/E*T,Q=Math.cos(X);L.x=R*(2+Q)*.5*I,L.y=R*(2+Q)*V*.5,L.z=R*Math.sin(X)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Fp(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class Ip extends zt{constructor(t=new Eb(new B(-1,-1,0),new B(-1,1,0),new B(1,1,0)),e=64,i=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:r};const l=t.computeFrenetFrames(e,r);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const h=new B,f=new B,d=new J;let m=new B;const x=[],g=[],b=[],v=[];S(),this.setIndex(v),this.setAttribute("position",new rt(x,3)),this.setAttribute("normal",new rt(g,3)),this.setAttribute("uv",new rt(b,2));function S(){for(let T=0;T<e;T++)M(T);M(r===!1?e:0),A(),_()}function M(T){m=t.getPointAt(T/e,m);const E=l.normals[T],O=l.binormals[T];for(let R=0;R<=s;R++){const L=R/s*Math.PI*2,I=Math.sin(L),V=-Math.cos(L);f.x=V*E.x+I*O.x,f.y=V*E.y+I*O.y,f.z=V*E.z+I*O.z,f.normalize(),g.push(f.x,f.y,f.z),h.x=m.x+i*f.x,h.y=m.y+i*f.y,h.z=m.z+i*f.z,x.push(h.x,h.y,h.z)}}function _(){for(let T=1;T<=e;T++)for(let E=1;E<=s;E++){const O=(s+1)*(T-1)+(E-1),R=(s+1)*T+(E-1),L=(s+1)*T+E,I=(s+1)*(T-1)+E;v.push(O,R,I),v.push(R,L,I)}}function A(){for(let T=0;T<=e;T++)for(let E=0;E<=s;E++)d.x=T/e,d.y=E/s,b.push(d.x,d.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new Ip(new pc[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class VT extends zt{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,s=new B,r=new B;if(t.index!==null){const l=t.attributes.position,h=t.index;let f=t.groups;f.length===0&&(f=[{start:0,count:h.count,materialIndex:0}]);for(let d=0,m=f.length;d<m;++d){const x=f[d],g=x.start,b=x.count;for(let v=g,S=g+b;v<S;v+=3)for(let M=0;M<3;M++){const _=h.getX(v+M),A=h.getX(v+(M+1)%3);s.fromBufferAttribute(l,_),r.fromBufferAttribute(l,A),ex(s,r,i)===!0&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}}else{const l=t.attributes.position;for(let h=0,f=l.count/3;h<f;h++)for(let d=0;d<3;d++){const m=3*h+d,x=3*h+(d+1)%3;s.fromBufferAttribute(l,m),r.fromBufferAttribute(l,x),ex(s,r,i)===!0&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}this.setAttribute("position",new rt(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function ex(u,t,e){const i=`${u.x},${u.y},${u.z}-${t.x},${t.y},${t.z}`,s=`${t.x},${t.y},${t.z}-${u.x},${u.y},${u.z}`;return e.has(i)===!0||e.has(s)===!0?!1:(e.add(i),e.add(s),!0)}var ix=Object.freeze({__proto__:null,BoxGeometry:Ec,CapsuleGeometry:Cp,CircleGeometry:Ep,ConeGeometry:zp,CylinderGeometry:Qo,DodecahedronGeometry:Rp,EdgesGeometry:vT,ExtrudeGeometry:Op,IcosahedronGeometry:Bp,LatheGeometry:Rc,OctahedronGeometry:Bc,PlaneGeometry:Np,PolyhedronGeometry:qs,RingGeometry:Dp,ShapeGeometry:Lp,SphereGeometry:Nc,TetrahedronGeometry:kp,TorusGeometry:Up,TorusKnotGeometry:Fp,TubeGeometry:Ip,WireframeGeometry:VT});class PT extends Ie{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new St(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class qT extends yp{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Nb extends Ie{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new St(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=or,this.normalScale=new J(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class GT extends Nb{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new J(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return vt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new St(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new St(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new St(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class YT extends Ie{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new St(16777215),this.specular=new St(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=or,this.normalScale=new J(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hi,this.combine=hp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class XT extends Ie{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new St(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=or,this.normalScale=new J(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class ZT extends Ie{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=or,this.normalScale=new J(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class jT extends Ie{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=or,this.normalScale=new J(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Hi,this.combine=hp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class WT extends Ie{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=$2,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class JT extends Ie{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class QT extends Ie{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new St(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=or,this.normalScale=new J(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class $T extends Xe{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Is(u,t,e){return!u||!e&&u.constructor===t?u:typeof t.BYTES_PER_ELEMENT=="number"?new t(u):Array.prototype.slice.call(u)}function Db(u){return ArrayBuffer.isView(u)&&!(u instanceof DataView)}function Lb(u){function t(s,r){return u[s]-u[r]}const e=u.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(t),i}function np(u,t,e){const i=u.length,s=new u.constructor(i);for(let r=0,l=0;l!==i;++r){const h=e[r]*t;for(let f=0;f!==t;++f)s[l++]=u[h+f]}return s}function Hp(u,t,e,i){let s=1,r=u[0];for(;r!==void 0&&r[i]===void 0;)r=u[s++];if(r===void 0)return;let l=r[i];if(l!==void 0)if(Array.isArray(l))do l=r[i],l!==void 0&&(t.push(r.time),e.push.apply(e,l)),r=u[s++];while(r!==void 0);else if(l.toArray!==void 0)do l=r[i],l!==void 0&&(t.push(r.time),l.toArray(e,e.length)),r=u[s++];while(r!==void 0);else do l=r[i],l!==void 0&&(t.push(r.time),e.push(l)),r=u[s++];while(r!==void 0)}function KT(u,t,e,i,s=30){const r=u.clone();r.name=t;const l=[];for(let f=0;f<r.tracks.length;++f){const d=r.tracks[f],m=d.getValueSize(),x=[],g=[];for(let b=0;b<d.times.length;++b){const v=d.times[b]*s;if(!(v<e||v>=i)){x.push(d.times[b]);for(let S=0;S<m;++S)g.push(d.values[b*m+S])}}x.length!==0&&(d.times=Is(x,d.times.constructor),d.values=Is(g,d.values.constructor),l.push(d))}r.tracks=l;let h=1/0;for(let f=0;f<r.tracks.length;++f)h>r.tracks[f].times[0]&&(h=r.tracks[f].times[0]);for(let f=0;f<r.tracks.length;++f)r.tracks[f].shift(-1*h);return r.resetDuration(),r}function tC(u,t=0,e=u,i=30){i<=0&&(i=30);const s=e.tracks.length,r=t/i;for(let l=0;l<s;++l){const h=e.tracks[l],f=h.ValueTypeName;if(f==="bool"||f==="string")continue;const d=u.tracks.find(function(_){return _.name===h.name&&_.ValueTypeName===f});if(d===void 0)continue;let m=0;const x=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=x/3);let g=0;const b=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=b/3);const v=h.times.length-1;let S;if(r<=h.times[0]){const _=m,A=x-m;S=h.values.slice(_,A)}else if(r>=h.times[v]){const _=v*x+m,A=_+x-m;S=h.values.slice(_,A)}else{const _=h.createInterpolant(),A=m,T=x-m;_.evaluate(r),S=_.resultBuffer.slice(A,T)}f==="quaternion"&&new ai().fromArray(S).normalize().conjugate().toArray(S);const M=d.times.length;for(let _=0;_<M;++_){const A=_*b+g;if(f==="quaternion")ai.multiplyQuaternionsFlat(d.values,A,S,0,d.values,A);else{const T=b-g*2;for(let E=0;E<T;++E)d.values[A+E]-=S[E]}}}return u.blendMode=gb,u}const sR={convertArray:Is,isTypedArray:Db,getKeyframeOrder:Lb,sortedArray:np,flattenJSON:Hp,subclip:KT,makeClipAdditive:tC};class Dc{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],r=e[i-1];t:{e:{let l;i:{n:if(!(t<s)){for(let h=i+2;;){if(s===void 0){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===h)break;if(r=s,s=e[++i],t<s)break e}l=e.length;break i}if(!(t>=r)){const h=e[1];t<h&&(i=2,r=h);for(let f=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===f)break;if(s=r,r=e[--i-1],t>=r)break e}l=i,i=0;break i}break t}for(;i<l;){const h=i+l>>>1;t<e[h]?l=h:i=h+1}if(s=e[i],r=e[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s;for(let l=0;l!==s;++l)e[l]=i[r+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class eC extends Dc{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Wa,endingEnd:Wa}}intervalChanged_(t,e,i){const s=this.parameterPositions;let r=t-2,l=t+1,h=s[r],f=s[l];if(h===void 0)switch(this.getSettings_().endingStart){case Ja:r=t,h=2*e-i;break;case lc:r=s.length-2,h=e+s[r]-s[r+1];break;default:r=t,h=i}if(f===void 0)switch(this.getSettings_().endingEnd){case Ja:l=t,f=2*i-e;break;case lc:l=1,f=i+s[1]-s[0];break;default:l=t-1,f=e}const d=(i-e)*.5,m=this.valueSize;this._weightPrev=d/(e-h),this._weightNext=d/(f-i),this._offsetPrev=r*m,this._offsetNext=l*m}interpolate_(t,e,i,s){const r=this.resultBuffer,l=this.sampleValues,h=this.valueSize,f=t*h,d=f-h,m=this._offsetPrev,x=this._offsetNext,g=this._weightPrev,b=this._weightNext,v=(i-e)/(s-e),S=v*v,M=S*v,_=-g*M+2*g*S-g*v,A=(1+g)*M+(-1.5-2*g)*S+(-.5+g)*v+1,T=(-1-b)*M+(1.5+b)*S+.5*v,E=b*M-b*S;for(let O=0;O!==h;++O)r[O]=_*l[m+O]+A*l[d+O]+T*l[f+O]+E*l[x+O];return r}}class kb extends Dc{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,l=this.sampleValues,h=this.valueSize,f=t*h,d=f-h,m=(i-e)/(s-e),x=1-m;for(let g=0;g!==h;++g)r[g]=l[d+g]*x+l[f+g]*m;return r}}class iC extends Dc{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Gi{constructor(t,e,i,s){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Is(e,this.TimeBufferType),this.values=Is(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Is(t.times,Array),values:Is(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new iC(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new kb(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new eC(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case oc:e=this.InterpolantFactoryMethodDiscrete;break;case Kd:e=this.InterpolantFactoryMethodLinear;break;case sd:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return oc;case this.InterpolantFactoryMethodLinear:return Kd;case this.InterpolantFactoryMethodSmooth:return sd}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let r=0,l=s-1;for(;r!==s&&i[r]<t;)++r;for(;l!==-1&&i[l]>e;)--l;if(++l,r!==0||l!==s){r>=l&&(l=Math.max(l,1),r=l-1);const h=this.getValueSize();this.times=i.slice(r,l),this.values=this.values.slice(r*h,l*h)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,r=i.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let h=0;h!==r;h++){const f=i[h];if(typeof f=="number"&&isNaN(f)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,f),t=!1;break}if(l!==null&&l>f){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,f,l),t=!1;break}l=f}if(s!==void 0&&Db(s))for(let h=0,f=s.length;h!==f;++h){const d=s[h];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,d),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===sd,r=t.length-1;let l=1;for(let h=1;h<r;++h){let f=!1;const d=t[h],m=t[h+1];if(d!==m&&(h!==1||d!==t[0]))if(s)f=!0;else{const x=h*i,g=x-i,b=x+i;for(let v=0;v!==i;++v){const S=e[x+v];if(S!==e[g+v]||S!==e[b+v]){f=!0;break}}}if(f){if(h!==l){t[l]=t[h];const x=h*i,g=l*i;for(let b=0;b!==i;++b)e[g+b]=e[x+b]}++l}}if(r>0){t[l]=t[r];for(let h=r*i,f=l*i,d=0;d!==i;++d)e[f+d]=e[h+d];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,s=new i(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Gi.prototype.TimeBufferType=Float32Array;Gi.prototype.ValueBufferType=Float32Array;Gi.prototype.DefaultInterpolation=Kd;class ur extends Gi{constructor(t,e,i){super(t,e,i)}}ur.prototype.ValueTypeName="bool";ur.prototype.ValueBufferType=Array;ur.prototype.DefaultInterpolation=oc;ur.prototype.InterpolantFactoryMethodLinear=void 0;ur.prototype.InterpolantFactoryMethodSmooth=void 0;class Ub extends Gi{}Ub.prototype.ValueTypeName="color";class gc extends Gi{}gc.prototype.ValueTypeName="number";class nC extends Dc{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,l=this.sampleValues,h=this.valueSize,f=(i-e)/(s-e);let d=t*h;for(let m=d+h;d!==m;d+=4)ai.slerpFlat(r,0,l,d-h,l,d,f);return r}}class Lc extends Gi{InterpolantFactoryMethodLinear(t){return new nC(this.times,this.values,this.getValueSize(),t)}}Lc.prototype.ValueTypeName="quaternion";Lc.prototype.InterpolantFactoryMethodSmooth=void 0;class cr extends Gi{constructor(t,e,i){super(t,e,i)}}cr.prototype.ValueTypeName="string";cr.prototype.ValueBufferType=Array;cr.prototype.DefaultInterpolation=oc;cr.prototype.InterpolantFactoryMethodLinear=void 0;cr.prototype.InterpolantFactoryMethodSmooth=void 0;class yc extends Gi{}yc.prototype.ValueTypeName="vector";class xc{constructor(t="",e=-1,i=[],s=mp){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=si(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let l=0,h=i.length;l!==h;++l)e.push(aC(i[l]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,l=i.length;r!==l;++r)e.push(Gi.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const r=e.length,l=[];for(let h=0;h<r;h++){let f=[],d=[];f.push((h+r-1)%r,h,(h+1)%r),d.push(0,1,0);const m=Lb(f);f=np(f,1,m),d=np(d,1,m),!s&&f[0]===0&&(f.push(r),d.push(d[0])),l.push(new gc(".morphTargetInfluences["+e[h].name+"]",f,d).scale(1/i))}return new this(t,-1,l)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let h=0,f=t.length;h<f;h++){const d=t[h],m=d.name.match(r);if(m&&m.length>1){const x=m[1];let g=s[x];g||(s[x]=g=[]),g.push(d)}}const l=[];for(const h in s)l.push(this.CreateFromMorphTargetSequence(h,s[h],e,i));return l}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(x,g,b,v,S){if(b.length!==0){const M=[],_=[];Hp(b,M,_,v),M.length!==0&&S.push(new x(g,M,_))}},s=[],r=t.name||"default",l=t.fps||30,h=t.blendMode;let f=t.length||-1;const d=t.hierarchy||[];for(let x=0;x<d.length;x++){const g=d[x].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const b={};let v;for(v=0;v<g.length;v++)if(g[v].morphTargets)for(let S=0;S<g[v].morphTargets.length;S++)b[g[v].morphTargets[S]]=-1;for(const S in b){const M=[],_=[];for(let A=0;A!==g[v].morphTargets.length;++A){const T=g[v];M.push(T.time),_.push(T.morphTarget===S?1:0)}s.push(new gc(".morphTargetInfluence["+S+"]",M,_))}f=b.length*l}else{const b=".bones["+e[x].name+"]";i(yc,b+".position",g,"pos",s),i(Lc,b+".quaternion",g,"rot",s),i(yc,b+".scale",g,"scl",s)}}return s.length===0?null:new this(r,f,s,h)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,s=t.length;i!==s;++i){const r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function sC(u){switch(u.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gc;case"vector":case"vector2":case"vector3":case"vector4":return yc;case"color":return Ub;case"quaternion":return Lc;case"bool":case"boolean":return ur;case"string":return cr}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+u)}function aC(u){if(u.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=sC(u.type);if(u.times===void 0){const e=[],i=[];Hp(u.keys,e,i,"value"),u.times=e,u.values=i}return t.parse!==void 0?t.parse(u):new t(u.name,u.times,u.values,u.interpolation)}const ts={enabled:!1,files:{},add:function(u,t){this.enabled!==!1&&(this.files[u]=t)},get:function(u){if(this.enabled!==!1)return this.files[u]},remove:function(u){delete this.files[u]},clear:function(){this.files={}}};class Fb{constructor(t,e,i){const s=this;let r=!1,l=0,h=0,f;const d=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(m){h++,r===!1&&s.onStart!==void 0&&s.onStart(m,l,h),r=!0},this.itemEnd=function(m){l++,s.onProgress!==void 0&&s.onProgress(m,l,h),l===h&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return f?f(m):m},this.setURLModifier=function(m){return f=m,this},this.addHandler=function(m,x){return d.push(m,x),this},this.removeHandler=function(m){const x=d.indexOf(m);return x!==-1&&d.splice(x,2),this},this.getHandler=function(m){for(let x=0,g=d.length;x<g;x+=2){const b=d[x],v=d[x+1];if(b.global&&(b.lastIndex=0),b.test(m))return v}return null}}}const No=new Fb;class ri{constructor(t){this.manager=t!==void 0?t:No,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,r){i.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}ri.DEFAULT_MATERIAL_NAME="__DEFAULT";const pn={};class rC extends Error{constructor(t,e){super(t),this.response=e}}class is extends ri{constructor(t){super(t)}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=ts.get(t);if(r!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(pn[t]!==void 0){pn[t].push({onLoad:e,onProgress:i,onError:s});return}pn[t]=[],pn[t].push({onLoad:e,onProgress:i,onError:s});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,f=this.responseType;fetch(l).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const m=pn[t],x=d.body.getReader(),g=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),b=g?parseInt(g):0,v=b!==0;let S=0;const M=new ReadableStream({start(_){A();function A(){x.read().then(({done:T,value:E})=>{if(T)_.close();else{S+=E.byteLength;const O=new ProgressEvent("progress",{lengthComputable:v,loaded:S,total:b});for(let R=0,L=m.length;R<L;R++){const I=m[R];I.onProgress&&I.onProgress(O)}_.enqueue(E),A()}},T=>{_.error(T)})}}});return new Response(M)}else throw new rC(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(f){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(m=>new DOMParser().parseFromString(m,h));case"json":return d.json();default:if(h===void 0)return d.text();{const x=/charset="?([^;"\s]*)"?/i.exec(h),g=x&&x[1]?x[1].toLowerCase():void 0,b=new TextDecoder(g);return d.arrayBuffer().then(v=>b.decode(v))}}}).then(d=>{ts.add(t,d);const m=pn[t];delete pn[t];for(let x=0,g=m.length;x<g;x++){const b=m[x];b.onLoad&&b.onLoad(d)}}).catch(d=>{const m=pn[t];if(m===void 0)throw this.manager.itemError(t),d;delete pn[t];for(let x=0,g=m.length;x<g;x++){const b=m[x];b.onError&&b.onError(d)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class aR extends ri{constructor(t){super(t)}load(t,e,i,s){const r=this,l=new is(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(h){try{e(r.parse(JSON.parse(h)))}catch(f){s?s(f):console.error(f),r.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=xc.parse(t[i]);e.push(s)}return e}}class rR extends ri{constructor(t){super(t)}load(t,e,i,s){const r=this,l=[],h=new _p,f=new is(this.manager);f.setPath(this.path),f.setResponseType("arraybuffer"),f.setRequestHeader(this.requestHeader),f.setWithCredentials(r.withCredentials);let d=0;function m(x){f.load(t[x],function(g){const b=r.parse(g,!0);l[x]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},d+=1,d===6&&(b.mipmapCount===1&&(h.minFilter=wi),h.image=l,h.format=b.format,h.needsUpdate=!0,e&&e(h))},i,s)}if(Array.isArray(t))for(let x=0,g=t.length;x<g;++x)m(x);else f.load(t,function(x){const g=r.parse(x,!0);if(g.isCubemap){const b=g.mipmaps.length/g.mipmapCount;for(let v=0;v<b;v++){l[v]={mipmaps:[]};for(let S=0;S<g.mipmapCount;S++)l[v].mipmaps.push(g.mipmaps[v*g.mipmapCount+S]),l[v].format=g.format,l[v].width=g.width,l[v].height=g.height}h.image=l}else h.image.width=g.width,h.image.height=g.height,h.mipmaps=g.mipmaps;g.mipmapCount===1&&(h.minFilter=wi),h.format=g.format,h.needsUpdate=!0,e&&e(h)},i,s);return h}}class bc extends ri{constructor(t){super(t)}load(t,e,i,s){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,l=ts.get(t);if(l!==void 0)return r.manager.itemStart(t),setTimeout(function(){e&&e(l),r.manager.itemEnd(t)},0),l;const h=hc("img");function f(){m(),ts.add(t,this),e&&e(this),r.manager.itemEnd(t)}function d(x){m(),s&&s(x),r.manager.itemError(t),r.manager.itemEnd(t)}function m(){h.removeEventListener("load",f,!1),h.removeEventListener("error",d,!1)}return h.addEventListener("load",f,!1),h.addEventListener("error",d,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(h.crossOrigin=this.crossOrigin),r.manager.itemStart(t),h.src=t,h}}class oR extends ri{constructor(t){super(t)}load(t,e,i,s){const r=new bp;r.colorSpace=vi;const l=new bc(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let h=0;function f(d){l.load(t[d],function(m){r.images[d]=m,h++,h===6&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let d=0;d<t.length;++d)f(d);return r}}class lR extends ri{constructor(t){super(t)}load(t,e,i,s){const r=this,l=new bn,h=new is(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(r.withCredentials),h.load(t,function(f){let d;try{d=r.parse(f)}catch(m){if(s!==void 0)s(m);else{console.error(m);return}}d.image!==void 0?l.image=d.image:d.data!==void 0&&(l.image.width=d.width,l.image.height=d.height,l.image.data=d.data),l.wrapS=d.wrapS!==void 0?d.wrapS:Ui,l.wrapT=d.wrapT!==void 0?d.wrapT:Ui,l.magFilter=d.magFilter!==void 0?d.magFilter:wi,l.minFilter=d.minFilter!==void 0?d.minFilter:wi,l.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(l.colorSpace=d.colorSpace),d.flipY!==void 0&&(l.flipY=d.flipY),d.format!==void 0&&(l.format=d.format),d.type!==void 0&&(l.type=d.type),d.mipmaps!==void 0&&(l.mipmaps=d.mipmaps,l.minFilter=Tc),d.mipmapCount===1&&(l.minFilter=wi),d.generateMipmaps!==void 0&&(l.generateMipmaps=d.generateMipmaps),l.needsUpdate=!0,e&&e(l,d)},i,s),l}}class uR extends ri{constructor(t){super(t)}load(t,e,i,s){const r=new ye,l=new bc(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,function(h){r.image=h,r.needsUpdate=!0,e!==void 0&&e(r)},i,s),r}}class Gs extends Vt{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new St(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class oC extends Gs{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new St(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const Ud=new At,nx=new B,sx=new B;class Vp{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new J(512,512),this.map=null,this.mapPass=null,this.matrix=new At,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Mb,this._frameExtents=new J(1,1),this._viewportCount=1,this._viewports=[new Me(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;nx.setFromMatrixPosition(t.matrixWorld),e.position.copy(nx),sx.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(sx),e.updateMatrixWorld(),Ud.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ud),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Ud)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class lC extends Vp{constructor(){super(new Si(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=Ho*2*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(i!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=i,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class uC extends Gs{constructor(t,e,i=0,s=Math.PI/3,r=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.target=new Vt,this.distance=i,this.angle=s,this.penumbra=r,this.decay=l,this.map=null,this.shadow=new lC}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const ax=new At,Co=new B,Fd=new B;class cC extends Vp{constructor(){super(new Si(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new J(4,2),this._viewportCount=6,this._viewports=[new Me(2,1,1,1),new Me(0,1,1,1),new Me(3,1,1,1),new Me(1,1,1,1),new Me(3,0,1,1),new Me(1,0,1,1)],this._cubeDirections=[new B(1,0,0),new B(-1,0,0),new B(0,0,1),new B(0,0,-1),new B(0,1,0),new B(0,-1,0)],this._cubeUps=[new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,1,0),new B(0,0,1),new B(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Co.setFromMatrixPosition(t.matrixWorld),i.position.copy(Co),Fd.copy(i.position),Fd.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(Fd),i.updateMatrixWorld(),s.makeTranslation(-Co.x,-Co.y,-Co.z),ax.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ax)}}class hC extends Gs{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new cC}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Ib extends xp{constructor(t=-1,e=1,i=1,s=-1,r=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=r,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,r,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-t,l=i+t,h=s+e,f=s-e;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=d*this.view.offsetX,l=r+d*this.view.width,h-=m*this.view.offsetY,f=h-m*this.view.height}this.projectionMatrix.makeOrthographic(r,l,h,f,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class fC extends Vp{constructor(){super(new Ib(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class dC extends Gs{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Vt.DEFAULT_UP),this.updateMatrix(),this.target=new Vt,this.shadow=new fC}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class pC extends Gs{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class mC extends Gs{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class gC{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new B)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,r=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*s),e.addScaledVector(l[2],.488603*r),e.addScaledVector(l[3],.488603*i),e.addScaledVector(l[4],1.092548*(i*s)),e.addScaledVector(l[5],1.092548*(s*r)),e.addScaledVector(l[6],.315392*(3*r*r-1)),e.addScaledVector(l[7],1.092548*(i*r)),e.addScaledVector(l[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,r=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],2*.511664*s),e.addScaledVector(l[2],2*.511664*r),e.addScaledVector(l[3],2*.511664*i),e.addScaledVector(l[4],2*.429043*i*s),e.addScaledVector(l[5],2*.429043*s*r),e.addScaledVector(l[6],.743125*r*r-.247708),e.addScaledVector(l[7],2*.429043*i*r),e.addScaledVector(l[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+s*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+s*3);return t}static getBasisAt(t,e){const i=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-s*s)}}class yC extends Gs{constructor(t=new gC,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class Pp extends ri{constructor(t){super(t),this.textures={}}load(t,e,i,s){const r=this,l=new is(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(t,function(h){try{e(r.parse(JSON.parse(h)))}catch(f){s?s(f):console.error(f),r.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(r){return e[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),e[r]}const s=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(s.uuid=t.uuid),t.name!==void 0&&(s.name=t.name),t.color!==void 0&&s.color!==void 0&&s.color.setHex(t.color),t.roughness!==void 0&&(s.roughness=t.roughness),t.metalness!==void 0&&(s.metalness=t.metalness),t.sheen!==void 0&&(s.sheen=t.sheen),t.sheenColor!==void 0&&(s.sheenColor=new St().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(s.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(t.emissive),t.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(t.specular),t.specularIntensity!==void 0&&(s.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(s.shininess=t.shininess),t.clearcoat!==void 0&&(s.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(s.dispersion=t.dispersion),t.iridescence!==void 0&&(s.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(s.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(s.transmission=t.transmission),t.thickness!==void 0&&(s.thickness=t.thickness),t.attenuationDistance!==void 0&&(s.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(s.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(s.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(s.fog=t.fog),t.flatShading!==void 0&&(s.flatShading=t.flatShading),t.blending!==void 0&&(s.blending=t.blending),t.combine!==void 0&&(s.combine=t.combine),t.side!==void 0&&(s.side=t.side),t.shadowSide!==void 0&&(s.shadowSide=t.shadowSide),t.opacity!==void 0&&(s.opacity=t.opacity),t.transparent!==void 0&&(s.transparent=t.transparent),t.alphaTest!==void 0&&(s.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(s.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(s.depthFunc=t.depthFunc),t.depthTest!==void 0&&(s.depthTest=t.depthTest),t.depthWrite!==void 0&&(s.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(s.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(s.blendSrc=t.blendSrc),t.blendDst!==void 0&&(s.blendDst=t.blendDst),t.blendEquation!==void 0&&(s.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(s.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(s.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(s.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(s.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(s.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(s.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(s.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(s.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(s.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(s.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(s.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(s.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(s.rotation=t.rotation),t.linewidth!==void 0&&(s.linewidth=t.linewidth),t.dashSize!==void 0&&(s.dashSize=t.dashSize),t.gapSize!==void 0&&(s.gapSize=t.gapSize),t.scale!==void 0&&(s.scale=t.scale),t.polygonOffset!==void 0&&(s.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(s.dithering=t.dithering),t.alphaToCoverage!==void 0&&(s.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(s.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(s.visible=t.visible),t.toneMapped!==void 0&&(s.toneMapped=t.toneMapped),t.userData!==void 0&&(s.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const r in t.uniforms){const l=t.uniforms[r];switch(s.uniforms[r]={},l.type){case"t":s.uniforms[r].value=i(l.value);break;case"c":s.uniforms[r].value=new St().setHex(l.value);break;case"v2":s.uniforms[r].value=new J().fromArray(l.value);break;case"v3":s.uniforms[r].value=new B().fromArray(l.value);break;case"v4":s.uniforms[r].value=new Me().fromArray(l.value);break;case"m3":s.uniforms[r].value=new Pi().fromArray(l.value);break;case"m4":s.uniforms[r].value=new At().fromArray(l.value);break;default:s.uniforms[r].value=l.value}}if(t.defines!==void 0&&(s.defines=t.defines),t.vertexShader!==void 0&&(s.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(s.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(s.glslVersion=t.glslVersion),t.extensions!==void 0)for(const r in t.extensions)s.extensions[r]=t.extensions[r];if(t.lights!==void 0&&(s.lights=t.lights),t.clipping!==void 0&&(s.clipping=t.clipping),t.size!==void 0&&(s.size=t.size),t.sizeAttenuation!==void 0&&(s.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(s.map=i(t.map)),t.matcap!==void 0&&(s.matcap=i(t.matcap)),t.alphaMap!==void 0&&(s.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(s.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(s.bumpScale=t.bumpScale),t.normalMap!==void 0&&(s.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(s.normalMapType=t.normalMapType),t.normalScale!==void 0){let r=t.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new J().fromArray(r)}return t.displacementMap!==void 0&&(s.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(s.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(s.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(s.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(s.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(s.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(s.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(s.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(s.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(s.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(s.envMap=i(t.envMap)),t.envMapRotation!==void 0&&s.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(s.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(s.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(s.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(s.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(s.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(s.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(s.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(s.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(s.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new J().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(s.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(s.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(s.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(s.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(s.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return Pp.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:PT,SpriteMaterial:vb,RawShaderMaterial:qT,ShaderMaterial:yp,PointsMaterial:_b,MeshPhysicalMaterial:GT,MeshStandardMaterial:Nb,MeshPhongMaterial:YT,MeshToonMaterial:XT,MeshNormalMaterial:ZT,MeshLambertMaterial:jT,MeshDepthMaterial:WT,MeshDistanceMaterial:JT,MeshBasicMaterial:lr,MeshMatcapMaterial:QT,LineDashedMaterial:$T,LineBasicMaterial:Xe,Material:Ie};return new e[t]}}class rx{static decodeText(t){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class xC extends zt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class bC extends ri{constructor(t){super(t)}load(t,e,i,s){const r=this,l=new is(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(t,function(h){try{e(r.parse(JSON.parse(h)))}catch(f){s?s(f):console.error(f),r.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(b,v){if(e[v]!==void 0)return e[v];const M=b.interleavedBuffers[v],_=r(b,M.buffer),A=Qa(M.type,_),T=new wp(A,M.stride);return T.uuid=M.uuid,e[v]=T,T}function r(b,v){if(i[v]!==void 0)return i[v];const M=b.arrayBuffers[v],_=new Uint32Array(M).buffer;return i[v]=_,_}const l=t.isInstancedBufferGeometry?new xC:new zt,h=t.data.index;if(h!==void 0){const b=Qa(h.type,h.array);l.setIndex(new Kt(b,1))}const f=t.data.attributes;for(const b in f){const v=f[b];let S;if(v.isInterleavedBufferAttribute){const M=s(t.data,v.data);S=new nr(M,v.itemSize,v.offset,v.normalized)}else{const M=Qa(v.type,v.array),_=v.isInstancedBufferAttribute?Vo:Kt;S=new _(M,v.itemSize,v.normalized)}v.name!==void 0&&(S.name=v.name),v.usage!==void 0&&S.setUsage(v.usage),l.setAttribute(b,S)}const d=t.data.morphAttributes;if(d)for(const b in d){const v=d[b],S=[];for(let M=0,_=v.length;M<_;M++){const A=v[M];let T;if(A.isInterleavedBufferAttribute){const E=s(t.data,A.data);T=new nr(E,A.itemSize,A.offset,A.normalized)}else{const E=Qa(A.type,A.array);T=new Kt(E,A.itemSize,A.normalized)}A.name!==void 0&&(T.name=A.name),S.push(T)}l.morphAttributes[b]=S}t.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const x=t.data.groups||t.data.drawcalls||t.data.offsets;if(x!==void 0)for(let b=0,v=x.length;b!==v;++b){const S=x[b];l.addGroup(S.start,S.count,S.materialIndex)}const g=t.data.boundingSphere;if(g!==void 0){const b=new B;g.center!==void 0&&b.fromArray(g.center),l.boundingSphere=new Fe(b,g.radius)}return t.name&&(l.name=t.name),t.userData&&(l.userData=t.userData),l}}class cR extends ri{constructor(t){super(t)}load(t,e,i,s){const r=this,l=this.path===""?rx.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||l;const h=new is(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(t,function(f){let d=null;try{d=JSON.parse(f)}catch(x){s!==void 0&&s(x),console.error("THREE:ObjectLoader: Can't parse "+t+".",x.message);return}const m=d.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}r.parse(d,e)},i,s)}async loadAsync(t,e){const i=this,s=this.path===""?rx.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||s;const r=new is(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const l=await r.loadAsync(t,e),h=JSON.parse(l),f=h.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(h)}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,s),l=this.parseImages(t.images,function(){e!==void 0&&e(d)}),h=this.parseTextures(t.textures,l),f=this.parseMaterials(t.materials,h),d=this.parseObject(t.object,r,f,h,i),m=this.parseSkeletons(t.skeletons,d);if(this.bindSkeletons(d,m),this.bindLightTargets(d),e!==void 0){let x=!1;for(const g in l)if(l[g].data instanceof HTMLImageElement){x=!0;break}x===!1&&e(d)}return d}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),r=await this.parseImagesAsync(t.images),l=this.parseTextures(t.textures,r),h=this.parseMaterials(t.materials,l),f=this.parseObject(t.object,s,h,l,e),d=this.parseSkeletons(t.skeletons,f);return this.bindSkeletons(f,d),this.bindLightTargets(f),f}parseShapes(t){const e={};if(t!==void 0)for(let i=0,s=t.length;i<s;i++){const r=new er().fromJSON(t[i]);e[r.uuid]=r}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),t!==void 0)for(let r=0,l=t.length;r<l;r++){const h=new Mp().fromJSON(t[r],s);i[h.uuid]=h}return i}parseGeometries(t,e){const i={};if(t!==void 0){const s=new bC;for(let r=0,l=t.length;r<l;r++){let h;const f=t[r];switch(f.type){case"BufferGeometry":case"InstancedBufferGeometry":h=s.parse(f);break;default:f.type in ix?h=ix[f.type].fromJSON(f,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${f.type}"`)}h.uuid=f.uuid,f.name!==void 0&&(h.name=f.name),f.userData!==void 0&&(h.userData=f.userData),i[f.uuid]=h}}return i}parseMaterials(t,e){const i={},s={};if(t!==void 0){const r=new Pp;r.setTextures(e);for(let l=0,h=t.length;l<h;l++){const f=t[l];i[f.uuid]===void 0&&(i[f.uuid]=r.parse(f)),s[f.uuid]=i[f.uuid]}}return s}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const s=t[i],r=xc.parse(s);e[r.uuid]=r}return e}parseImages(t,e){const i=this,s={};let r;function l(f){return i.manager.itemStart(f),r.load(f,function(){i.manager.itemEnd(f)},void 0,function(){i.manager.itemError(f),i.manager.itemEnd(f)})}function h(f){if(typeof f=="string"){const d=f,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.resourcePath+d;return l(m)}else return f.data?{data:Qa(f.type,f.data),width:f.width,height:f.height}:null}if(t!==void 0&&t.length>0){const f=new Fb(e);r=new bc(f),r.setCrossOrigin(this.crossOrigin);for(let d=0,m=t.length;d<m;d++){const x=t[d],g=x.url;if(Array.isArray(g)){const b=[];for(let v=0,S=g.length;v<S;v++){const M=g[v],_=h(M);_!==null&&(_ instanceof HTMLImageElement?b.push(_):b.push(new bn(_.data,_.width,_.height)))}s[x.uuid]=new $a(b)}else{const b=h(x.url);s[x.uuid]=new $a(b)}}}return s}async parseImagesAsync(t){const e=this,i={};let s;async function r(l){if(typeof l=="string"){const h=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:e.resourcePath+h;return await s.loadAsync(f)}else return l.data?{data:Qa(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&&t.length>0){s=new bc(this.manager),s.setCrossOrigin(this.crossOrigin);for(let l=0,h=t.length;l<h;l++){const f=t[l],d=f.url;if(Array.isArray(d)){const m=[];for(let x=0,g=d.length;x<g;x++){const b=d[x],v=await r(b);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new bn(v.data,v.width,v.height)))}i[f.uuid]=new $a(m)}else{const m=await r(f.url);i[f.uuid]=new $a(m)}}}return i}parseTextures(t,e){function i(r,l){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),l[r])}const s={};if(t!==void 0)for(let r=0,l=t.length;r<l;r++){const h=t[r];h.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid),e[h.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",h.image);const f=e[h.image],d=f.data;let m;Array.isArray(d)?(m=new bp,d.length===6&&(m.needsUpdate=!0)):(d&&d.data?m=new bn:m=new ye,d&&(m.needsUpdate=!0)),m.source=f,m.uuid=h.uuid,h.name!==void 0&&(m.name=h.name),h.mapping!==void 0&&(m.mapping=i(h.mapping,vC)),h.channel!==void 0&&(m.channel=h.channel),h.offset!==void 0&&m.offset.fromArray(h.offset),h.repeat!==void 0&&m.repeat.fromArray(h.repeat),h.center!==void 0&&m.center.fromArray(h.center),h.rotation!==void 0&&(m.rotation=h.rotation),h.wrap!==void 0&&(m.wrapS=i(h.wrap[0],ox),m.wrapT=i(h.wrap[1],ox)),h.format!==void 0&&(m.format=h.format),h.internalFormat!==void 0&&(m.internalFormat=h.internalFormat),h.type!==void 0&&(m.type=h.type),h.colorSpace!==void 0&&(m.colorSpace=h.colorSpace),h.minFilter!==void 0&&(m.minFilter=i(h.minFilter,lx)),h.magFilter!==void 0&&(m.magFilter=i(h.magFilter,lx)),h.anisotropy!==void 0&&(m.anisotropy=h.anisotropy),h.flipY!==void 0&&(m.flipY=h.flipY),h.generateMipmaps!==void 0&&(m.generateMipmaps=h.generateMipmaps),h.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=h.premultiplyAlpha),h.unpackAlignment!==void 0&&(m.unpackAlignment=h.unpackAlignment),h.compareFunction!==void 0&&(m.compareFunction=h.compareFunction),h.userData!==void 0&&(m.userData=h.userData),s[h.uuid]=m}return s}parseObject(t,e,i,s,r){let l;function h(g){return e[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),e[g]}function f(g){if(g!==void 0){if(Array.isArray(g)){const b=[];for(let v=0,S=g.length;v<S;v++){const M=g[v];i[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),b.push(i[M])}return b}return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),i[g]}}function d(g){return s[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),s[g]}let m,x;switch(t.type){case"Scene":l=new PA,t.background!==void 0&&(Number.isInteger(t.background)?l.background=new St(t.background):l.background=d(t.background)),t.environment!==void 0&&(l.environment=d(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?l.fog=new Sp(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(l.fog=new vp(t.fog.color,t.fog.density)),t.fog.name!==""&&(l.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(l.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(l.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&l.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":l=new Si(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(l.focus=t.focus),t.zoom!==void 0&&(l.zoom=t.zoom),t.filmGauge!==void 0&&(l.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(l.filmOffset=t.filmOffset),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"OrthographicCamera":l=new Ib(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(l.zoom=t.zoom),t.view!==void 0&&(l.view=Object.assign({},t.view));break;case"AmbientLight":l=new pC(t.color,t.intensity);break;case"DirectionalLight":l=new dC(t.color,t.intensity),l.target=t.target||"";break;case"PointLight":l=new hC(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":l=new mC(t.color,t.intensity,t.width,t.height);break;case"SpotLight":l=new uC(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),l.target=t.target||"";break;case"HemisphereLight":l=new oC(t.color,t.groundColor,t.intensity);break;case"LightProbe":l=new yC().fromJSON(t);break;case"SkinnedMesh":m=h(t.geometry),x=f(t.material),l=new XA(m,x),t.bindMode!==void 0&&(l.bindMode=t.bindMode),t.bindMatrix!==void 0&&l.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(l.skeleton=t.skeleton);break;case"Mesh":m=h(t.geometry),x=f(t.material),l=new Oi(m,x);break;case"InstancedMesh":m=h(t.geometry),x=f(t.material);const g=t.count,b=t.instanceMatrix,v=t.instanceColor;l=new WA(m,x,g),l.instanceMatrix=new Vo(new Float32Array(b.array),16),v!==void 0&&(l.instanceColor=new Vo(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":m=h(t.geometry),x=f(t.material),l=new sT(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,x),l.geometry=m,l.perObjectFrustumCulled=t.perObjectFrustumCulled,l.sortObjects=t.sortObjects,l._drawRanges=t.drawRanges,l._reservedRanges=t.reservedRanges,l._visibility=t.visibility,l._active=t.active,l._bounds=t.bounds.map(S=>{const M=new Ye;M.min.fromArray(S.boxMin),M.max.fromArray(S.boxMax);const _=new Fe;return _.radius=S.sphereRadius,_.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:M,sphereInitialized:S.sphereInitialized,sphere:_}}),l._maxInstanceCount=t.maxInstanceCount,l._maxVertexCount=t.maxVertexCount,l._maxIndexCount=t.maxIndexCount,l._geometryInitialized=t.geometryInitialized,l._geometryCount=t.geometryCount,l._matricesTexture=d(t.matricesTexture.uuid),t.colorsTexture!==void 0&&(l._colorsTexture=d(t.colorsTexture.uuid));break;case"LOD":l=new GA;break;case"Line":l=new Vs(h(t.geometry),f(t.material));break;case"LineLoop":l=new aT(h(t.geometry),f(t.material));break;case"LineSegments":l=new wn(h(t.geometry),f(t.material));break;case"PointCloud":case"Points":l=new rT(h(t.geometry),f(t.material));break;case"Sprite":l=new qA(f(t.material));break;case"Group":l=new oT;break;case"Bone":l=new wb;break;default:l=new Vt}if(l.uuid=t.uuid,t.name!==void 0&&(l.name=t.name),t.matrix!==void 0?(l.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=t.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(t.position!==void 0&&l.position.fromArray(t.position),t.rotation!==void 0&&l.rotation.fromArray(t.rotation),t.quaternion!==void 0&&l.quaternion.fromArray(t.quaternion),t.scale!==void 0&&l.scale.fromArray(t.scale)),t.up!==void 0&&l.up.fromArray(t.up),t.castShadow!==void 0&&(l.castShadow=t.castShadow),t.receiveShadow!==void 0&&(l.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(l.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(l.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(l.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(l.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(l.visible=t.visible),t.frustumCulled!==void 0&&(l.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(l.renderOrder=t.renderOrder),t.userData!==void 0&&(l.userData=t.userData),t.layers!==void 0&&(l.layers.mask=t.layers),t.children!==void 0){const g=t.children;for(let b=0;b<g.length;b++)l.add(this.parseObject(g[b],e,i,s,r))}if(t.animations!==void 0){const g=t.animations;for(let b=0;b<g.length;b++){const v=g[b];l.animations.push(r[v])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(l.autoUpdate=t.autoUpdate);const g=t.levels;for(let b=0;b<g.length;b++){const v=g[b],S=l.getObjectByProperty("uuid",v.object);S!==void 0&&l.addLevel(S,v.distance,v.hysteresis)}}return l}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const s=e[i.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(s,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,s=t.getObjectByProperty("uuid",i);s!==void 0?e.target=s:e.target=new Vt}})}}const vC={UVMapping:fp,CubeReflectionMapping:dp,CubeRefractionMapping:j_,EquirectangularReflectionMapping:W_,EquirectangularRefractionMapping:J_,CubeUVReflectionMapping:Q_},ox={RepeatWrapping:Qd,ClampToEdgeWrapping:Ui,MirroredRepeatWrapping:$d},lx={NearestFilter:Ri,NearestMipmapNearestFilter:$_,NearestMipmapLinearFilter:K_,LinearFilter:wi,LinearMipmapNearestFilter:t2,LinearMipmapLinearFilter:Tc};class hR extends ri{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,l=ts.get(t);if(l!==void 0){if(r.manager.itemStart(t),l.then){l.then(d=>{e&&e(d),r.manager.itemEnd(t)}).catch(d=>{s&&s(d)});return}return setTimeout(function(){e&&e(l),r.manager.itemEnd(t)},0),l}const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader;const f=fetch(t,h).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(d){return ts.add(t,d),e&&e(d),r.manager.itemEnd(t),d}).catch(function(d){s&&s(d),ts.remove(t),r.manager.itemError(t),r.manager.itemEnd(t)});ts.add(t,f),r.manager.itemStart(t)}}let Ju;class Hb{static getContext(){return Ju===void 0&&(Ju=new(window.AudioContext||window.webkitAudioContext)),Ju}static setContext(t){Ju=t}}class fR extends ri{constructor(t){super(t)}load(t,e,i,s){const r=this,l=new is(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(f){try{const d=f.slice(0);Hb.getContext().decodeAudioData(d,function(x){e(x)}).catch(h)}catch(d){h(d)}},i,s);function h(f){s?s(f):console.error(f),r.manager.itemError(t)}}}const ux=new At,cx=new At,Ds=new At;class dR{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Si,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Si,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,Ds.copy(t.projectionMatrix);const s=e.eyeSep/2,r=s*e.near/e.focus,l=e.near*Math.tan(Hs*e.fov*.5)/e.zoom;let h,f;cx.elements[12]=-s,ux.elements[12]=s,h=-l*e.aspect+r,f=l*e.aspect+r,Ds.elements[0]=2*e.near/(f-h),Ds.elements[8]=(f+h)/(f-h),this.cameraL.projectionMatrix.copy(Ds),h=-l*e.aspect-r,f=l*e.aspect-r,Ds.elements[0]=2*e.near/(f-h),Ds.elements[8]=(f+h)/(f-h),this.cameraR.projectionMatrix.copy(Ds)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(cx),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(ux)}}class pR extends Si{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class SC{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hx(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=hx();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function hx(){return performance.now()}const Ls=new B,fx=new ai,wC=new B,ks=new B;class mR extends Vt{constructor(){super(),this.type="AudioListener",this.context=Hb.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new SC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ls,fx,wC),ks.set(0,0,-1).applyQuaternion(fx),e.positionX){const s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Ls.x,s),e.positionY.linearRampToValueAtTime(Ls.y,s),e.positionZ.linearRampToValueAtTime(Ls.z,s),e.forwardX.linearRampToValueAtTime(ks.x,s),e.forwardY.linearRampToValueAtTime(ks.y,s),e.forwardZ.linearRampToValueAtTime(ks.z,s),e.upX.linearRampToValueAtTime(i.x,s),e.upY.linearRampToValueAtTime(i.y,s),e.upZ.linearRampToValueAtTime(i.z,s)}else e.setPosition(Ls.x,Ls.y,Ls.z),e.setOrientation(ks.x,ks.y,ks.z,i.x,i.y,i.z)}}class MC extends Vt{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const Us=new B,dx=new ai,_C=new B,Fs=new B;class gR extends MC{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Us,dx,_C),Fs.set(0,0,1).applyQuaternion(dx);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Us.x,i),e.positionY.linearRampToValueAtTime(Us.y,i),e.positionZ.linearRampToValueAtTime(Us.z,i),e.orientationX.linearRampToValueAtTime(Fs.x,i),e.orientationY.linearRampToValueAtTime(Fs.y,i),e.orientationZ.linearRampToValueAtTime(Fs.z,i)}else e.setPosition(Us.x,Us.y,Us.z),e.setOrientation(Fs.x,Fs.y,Fs.z)}}class yR{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class AC{constructor(t,e,i){this.binding=t,this.valueSize=i;let s,r,l;switch(e){case"quaternion":s=this._slerp,r=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:s=this._lerp,r=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,r=t*s+s;let l=this.cumulativeWeight;if(l===0){for(let h=0;h!==s;++h)i[r+h]=i[h];l=e}else{l+=e;const h=e/l;this._mixBufferRegion(i,r,0,h,s)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,r=this.cumulativeWeight,l=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const f=e*this._origIndex;this._mixBufferRegion(i,s,f,1-r,e)}l>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let f=e,d=e+e;f!==d;++f)if(i[f]!==i[f+e]){h.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let r=i,l=s;r!==l;++r)e[r]=e[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,r){if(s>=.5)for(let l=0;l!==r;++l)t[e+l]=t[i+l]}_slerp(t,e,i,s){ai.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,r){const l=this._workIndex*r;ai.multiplyQuaternionsFlat(t,l,t,e,t,i),ai.slerpFlat(t,e,t,e,t,l,s)}_lerp(t,e,i,s,r){const l=1-s;for(let h=0;h!==r;++h){const f=e+h;t[f]=t[f]*l+t[i+h]*s}}_lerpAdditive(t,e,i,s,r){for(let l=0;l!==r;++l){const h=e+l;t[h]=t[h]+t[i+l]*s}}}const qp="\\[\\]\\.:\\/",TC=new RegExp("["+qp+"]","g"),Gp="[^"+qp+"]",CC="[^"+qp.replace("\\.","")+"]",EC=/((?:WC+[\/:])*)/.source.replace("WC",Gp),zC=/(WCOD+)?/.source.replace("WCOD",CC),RC=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Gp),OC=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Gp),BC=new RegExp("^"+EC+zC+RC+OC+"$"),NC=["material","materials","bones","map"];class DC{constructor(t,e,i){const s=i||Ht.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];s!==void 0&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class Ht{constructor(t,e,i){this.path=e,this.parsedPath=i||Ht.parseTrackName(e),this.node=Ht.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Ht.Composite(t,e,i):new Ht(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(TC,"")}static parseTrackName(t){const e=BC.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=i.nodeName.substring(s+1);NC.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(r){for(let l=0;l<r.length;l++){const h=r[l];if(h.name===e||h.uuid===e)return h;const f=i(h.children);if(f)return f}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let r=e.propertyIndex;if(t||(t=Ht.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let d=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let m=0;m<t.length;m++)if(t[m].name===d){d=m;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(d!==void 0){if(t[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[d]}}const l=t[s];if(l===void 0){const d=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+s+" but it wasn't found.",t);return}let h=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?h=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(h=this.Versioning.MatrixWorldNeedsUpdate);let f=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[r]!==void 0&&(r=t.morphTargetDictionary[r])}f=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=r}else l.fromArray!==void 0&&l.toArray!==void 0?(f=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(f=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=s;this.getValue=this.GetterByBindingType[f],this.setValue=this.SetterByBindingTypeAndVersioning[f][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ht.Composite=DC;Ht.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ht.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ht.prototype.GetterByBindingType=[Ht.prototype._getValue_direct,Ht.prototype._getValue_array,Ht.prototype._getValue_arrayElement,Ht.prototype._getValue_toArray];Ht.prototype.SetterByBindingTypeAndVersioning=[[Ht.prototype._setValue_direct,Ht.prototype._setValue_direct_setNeedsUpdate,Ht.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_array,Ht.prototype._setValue_array_setNeedsUpdate,Ht.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_arrayElement,Ht.prototype._setValue_arrayElement_setNeedsUpdate,Ht.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ht.prototype._setValue_fromArray,Ht.prototype._setValue_fromArray_setNeedsUpdate,Ht.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class xR{constructor(){this.isAnimationObjectGroup=!0,this.uuid=si(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,s=arguments.length;i!==s;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,l=r.length;let h,f=t.length,d=this.nCachedObjects_;for(let m=0,x=arguments.length;m!==x;++m){const g=arguments[m],b=g.uuid;let v=e[b];if(v===void 0){v=f++,e[b]=v,t.push(g);for(let S=0,M=l;S!==M;++S)r[S].push(new Ht(g,i[S],s[S]))}else if(v<d){h=t[v];const S=--d,M=t[S];e[M.uuid]=v,t[v]=M,e[b]=S,t[S]=g;for(let _=0,A=l;_!==A;++_){const T=r[_],E=T[S];let O=T[v];T[v]=E,O===void 0&&(O=new Ht(g,i[_],s[_])),T[S]=O}}else t[v]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let l=0,h=arguments.length;l!==h;++l){const f=arguments[l],d=f.uuid,m=e[d];if(m!==void 0&&m>=r){const x=r++,g=t[x];e[g.uuid]=m,t[m]=g,e[d]=x,t[x]=f;for(let b=0,v=s;b!==v;++b){const S=i[b],M=S[x],_=S[m];S[m]=M,S[x]=_}}}this.nCachedObjects_=r}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,l=t.length;for(let h=0,f=arguments.length;h!==f;++h){const d=arguments[h],m=d.uuid,x=e[m];if(x!==void 0)if(delete e[m],x<r){const g=--r,b=t[g],v=--l,S=t[v];e[b.uuid]=x,t[x]=b,e[S.uuid]=g,t[g]=S,t.pop();for(let M=0,_=s;M!==_;++M){const A=i[M],T=A[g],E=A[v];A[x]=T,A[g]=E,A.pop()}}else{const g=--l,b=t[g];g>0&&(e[b.uuid]=x),t[x]=b,t.pop();for(let v=0,S=s;v!==S;++v){const M=i[v];M[x]=M[g],M.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const r=this._bindings;if(s!==void 0)return r[s];const l=this._paths,h=this._parsedPaths,f=this._objects,d=f.length,m=this.nCachedObjects_,x=new Array(d);s=r.length,i[t]=s,l.push(t),h.push(e),r.push(x);for(let g=m,b=f.length;g!==b;++g){const v=f[g];x[g]=new Ht(v,t,e)}return x}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const s=this._paths,r=this._parsedPaths,l=this._bindings,h=l.length-1,f=l[h],d=t[h];e[d]=i,l[i]=f,l.pop(),r[i]=r[h],r.pop(),s[i]=s[h],s.pop()}}}class LC{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const r=e.tracks,l=r.length,h=new Array(l),f={endingStart:Wa,endingEnd:Wa};for(let d=0;d!==l;++d){const m=r[d].createInterpolant(null);h[d]=m,m.settings=f}this._interpolantSettings=f,this._interpolants=h,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=J2,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const s=this._clip.duration,r=t._clip.duration,l=r/s,h=s/r;t.warp(1,l,e),this.warp(h,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,r=s.time,l=this.timeScale;let h=this._timeScaleInterpolant;h===null&&(h=s._lendControlInterpolant(),this._timeScaleInterpolant=h);const f=h.parameterPositions,d=h.sampleValues;return f[0]=r,f[1]=r+i,d[0]=t/l,d[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled){this._updateWeight(t);return}const r=this._startTime;if(r!==null){const f=(t-r)*i;f<0||i===0?e=0:(this._startTime=null,e=i*f)}e*=this._updateTimeScale(t);const l=this._updateTime(e),h=this._updateWeight(t);if(h>0){const f=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case gb:for(let m=0,x=f.length;m!==x;++m)f[m].evaluate(l),d[m].accumulateAdditive(h);break;case mp:default:for(let m=0,x=f.length;m!==x;++m)f[m].evaluate(l),d[m].accumulate(s,h)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,r=this._loopCount;const l=i===Q2;if(t===0)return r===-1?s:l&&(r&1)===1?e-s:s;if(i===W2){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else if(s<0)s=0;else{this.time=s;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(r===-1&&(t>=0?(r=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),s>=e||s<0){const h=Math.floor(s/e);s-=e*h,r+=Math.abs(h);const f=this.repetitions-r;if(f<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(f===1){const d=t<0;this._setEndings(d,!d,l)}else this._setEndings(!1,!1,l);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h})}}else this.time=s;if(l&&(r&1)===1)return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=Ja,s.endingEnd=Ja):(t?s.endingStart=this.zeroSlopeAtStart?Ja:Wa:s.endingStart=lc,e?s.endingEnd=this.zeroSlopeAtEnd?Ja:Wa:s.endingEnd=lc)}_scheduleFading(t,e,i){const s=this._mixer,r=s.time;let l=this._weightInterpolant;l===null&&(l=s._lendControlInterpolant(),this._weightInterpolant=l);const h=l.parameterPositions,f=l.sampleValues;return h[0]=r,f[0]=e,h[1]=r+t,f[1]=i,this}}const kC=new Float32Array(1);class bR extends ss{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,r=s.length,l=t._propertyBindings,h=t._interpolants,f=i.uuid,d=this._bindingsByRootAndName;let m=d[f];m===void 0&&(m={},d[f]=m);for(let x=0;x!==r;++x){const g=s[x],b=g.name;let v=m[b];if(v!==void 0)++v.referenceCount,l[x]=v;else{if(v=l[x],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,f,b));continue}const S=e&&e._propertyBindings[x].binding.parsedPath;v=new AC(Ht.create(i,b,S),g.ValueTypeName,g.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,f,b),l[x]=v}h[x].resultBuffer=v.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,r=this._actionsByClip;let l=r[e];if(l===void 0)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=l;else{const h=l.knownActions;t._byClipCacheIndex=h.length,h.push(t)}t._cacheIndex=s.length,s.push(t),l.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,l=this._actionsByClip,h=l[r],f=h.knownActions,d=f[f.length-1],m=t._byClipCacheIndex;d._byClipCacheIndex=m,f[m]=d,f.pop(),t._byClipCacheIndex=null;const x=h.actionByRoot,g=(t._localRoot||this._root).uuid;delete x[g],f.length===0&&delete l[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,r=this._bindings;let l=s[e];l===void 0&&(l={},s[e]=l),l[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,r=i.path,l=this._bindingsByRootAndName,h=l[s],f=e[e.length-1],d=t._cacheIndex;f._cacheIndex=d,e[d]=f,e.pop(),delete h[r],Object.keys(h).length===0&&delete l[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new kb(new Float32Array(2),new Float32Array(2),1,kC),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const s=e||this._root,r=s.uuid;let l=typeof t=="string"?xc.findByName(s,t):t;const h=l!==null?l.uuid:t,f=this._actionsByClip[h];let d=null;if(i===void 0&&(l!==null?i=l.blendMode:i=mp),f!==void 0){const x=f.actionByRoot[r];if(x!==void 0&&x.blendMode===i)return x;d=f.knownActions[0],l===null&&(l=d._clip)}if(l===null)return null;const m=new LC(this,l,e,i);return this._bindAction(m,d),this._addInactiveAction(m,h,r),m}existingAction(t,e){const i=e||this._root,s=i.uuid,r=typeof t=="string"?xc.findByName(i,t):t,l=r?r.uuid:t,h=this._actionsByClip[l];return h!==void 0&&h.actionByRoot[s]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,r=Math.sign(t),l=this._accuIndex^=1;for(let d=0;d!==i;++d)e[d]._update(s,t,r,l);const h=this._bindings,f=this._nActiveBindings;for(let d=0;d!==f;++d)h[d].apply(l);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,r=s[i];if(r!==void 0){const l=r.knownActions;for(let h=0,f=l.length;h!==f;++h){const d=l[h];this._deactivateAction(d);const m=d._cacheIndex,x=e[e.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,x._cacheIndex=m,e[m]=x,e.pop(),this._removeInactiveBindingsForAction(d)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const l in i){const h=i[l].actionByRoot,f=h[e];f!==void 0&&(this._deactivateAction(f),this._removeInactiveAction(f))}const s=this._bindingsByRootAndName,r=s[e];if(r!==void 0)for(const l in r){const h=r[l];h.restoreOriginalState(),this._removeInactiveBinding(h)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class Vb{constructor(t){this.value=t}clone(){return new Vb(this.value.clone===void 0?this.value:this.value.clone())}}let UC=0;class vR extends ss{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:UC++}),this.name="",this.usage=uc,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,s=e.length;i<s;i++){const r=Array.isArray(e[i])?e[i]:[e[i]];for(let l=0;l<r.length;l++)this.uniforms.push(r[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class SR extends wp{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class wR{constructor(t,e,i,s,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=r,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const px=new At;class MR{constructor(t,e,i=0,s=1/0){this.ray=new Jo(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new xb,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return px.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(px),this}intersectObject(t,e=!0,i=[]){return sp(t,this,i,e),i.sort(mx),i}intersectObjects(t,e=!0,i=[]){for(let s=0,r=t.length;s<r;s++)sp(t[s],this,i,e);return i.sort(mx),i}}function mx(u,t){return u.distance-t.distance}function sp(u,t,e,i){let s=!0;if(u.layers.test(t.layers)&&u.raycast(t,e)===!1&&(s=!1),s===!0&&i===!0){const r=u.children;for(let l=0,h=r.length;l<h;l++)sp(r[l],t,e,!0)}}class _R{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=vt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(vt(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class AR{constructor(t=1,e=0,i=0){return this.radius=t,this.theta=e,this.y=i,this}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class Pb{constructor(t,e,i,s){Pb.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,s){const r=this.elements;return r[0]=t,r[2]=e,r[1]=i,r[3]=s,this}}const gx=new J;class TR{constructor(t=new J(1/0,1/0),e=new J(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=gx.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,gx).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const yx=new B,Qu=new B;class CR{constructor(t=new B,e=new B){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){yx.subVectors(t,this.start),Qu.subVectors(this.end,this.start);const i=Qu.dot(Qu);let r=Qu.dot(yx)/i;return e&&(r=vt(r,0,1)),r}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const xx=new B;class ER extends Vt{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new zt,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,h=1,f=32;l<f;l++,h++){const d=l/f*Math.PI*2,m=h/f*Math.PI*2;s.push(Math.cos(d),Math.sin(d),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new rt(s,3));const r=new Xe({fog:!1,toneMapped:!1});this.cone=new wn(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),xx.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(xx),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $n=new B,$u=new At,Id=new At;class zR extends wn{constructor(t){const e=qb(t),i=new zt,s=[],r=[],l=new St(0,0,1),h=new St(0,1,0);for(let d=0;d<e.length;d++){const m=e[d];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(l.r,l.g,l.b),r.push(h.r,h.g,h.b))}i.setAttribute("position",new rt(s,3)),i.setAttribute("color",new rt(r,3));const f=new Xe({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,f),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");Id.copy(this.root.matrixWorld).invert();for(let r=0,l=0;r<e.length;r++){const h=e[r];h.parent&&h.parent.isBone&&($u.multiplyMatrices(Id,h.matrixWorld),$n.setFromMatrixPosition($u),s.setXYZ(l,$n.x,$n.y,$n.z),$u.multiplyMatrices(Id,h.parent.matrixWorld),$n.setFromMatrixPosition($u),s.setXYZ(l+1,$n.x,$n.y,$n.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function qb(u){const t=[];u.isBone===!0&&t.push(u);for(let e=0;e<u.children.length;e++)t.push.apply(t,qb(u.children[e]));return t}class RR extends Oi{constructor(t,e,i){const s=new Nc(e,4,2),r=new lr({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const FC=new B,bx=new St,vx=new St;class OR extends Vt{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const s=new Bc(e);s.rotateY(Math.PI*.5),this.material=new lr({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),l=new Float32Array(r.count*3);s.setAttribute("color",new Kt(l,3)),this.add(new Oi(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");bx.copy(this.light.color),vx.copy(this.light.groundColor);for(let i=0,s=e.count;i<s;i++){const r=i<s/2?bx:vx;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(FC.setFromMatrixPosition(this.light.matrixWorld).negate())}}class BR extends wn{constructor(t=10,e=10,i=4473924,s=8947848){i=new St(i),s=new St(s);const r=e/2,l=t/e,h=t/2,f=[],d=[];for(let g=0,b=0,v=-h;g<=e;g++,v+=l){f.push(-h,0,v,h,0,v),f.push(v,0,-h,v,0,h);const S=g===r?i:s;S.toArray(d,b),b+=3,S.toArray(d,b),b+=3,S.toArray(d,b),b+=3,S.toArray(d,b),b+=3}const m=new zt;m.setAttribute("position",new rt(f,3)),m.setAttribute("color",new rt(d,3));const x=new Xe({vertexColors:!0,toneMapped:!1});super(m,x),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class NR extends wn{constructor(t=10,e=16,i=8,s=64,r=4473924,l=8947848){r=new St(r),l=new St(l);const h=[],f=[];if(e>1)for(let x=0;x<e;x++){const g=x/e*(Math.PI*2),b=Math.sin(g)*t,v=Math.cos(g)*t;h.push(0,0,0),h.push(b,0,v);const S=x&1?r:l;f.push(S.r,S.g,S.b),f.push(S.r,S.g,S.b)}for(let x=0;x<i;x++){const g=x&1?r:l,b=t-t/i*x;for(let v=0;v<s;v++){let S=v/s*(Math.PI*2),M=Math.sin(S)*b,_=Math.cos(S)*b;h.push(M,0,_),f.push(g.r,g.g,g.b),S=(v+1)/s*(Math.PI*2),M=Math.sin(S)*b,_=Math.cos(S)*b,h.push(M,0,_),f.push(g.r,g.g,g.b)}}const d=new zt;d.setAttribute("position",new rt(h,3)),d.setAttribute("color",new rt(f,3));const m=new Xe({vertexColors:!0,toneMapped:!1});super(d,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Sx=new B,Ku=new B,wx=new B;class DR extends Vt{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let s=new zt;s.setAttribute("position",new rt([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new Xe({fog:!1,toneMapped:!1});this.lightPlane=new Vs(s,r),this.add(this.lightPlane),s=new zt,s.setAttribute("position",new rt([0,0,0,0,0,1],3)),this.targetLine=new Vs(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Sx.setFromMatrixPosition(this.light.matrixWorld),Ku.setFromMatrixPosition(this.light.target.matrixWorld),wx.subVectors(Ku,Sx),this.lightPlane.lookAt(Ku),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ku),this.targetLine.scale.z=wx.length()}}const tc=new B,se=new xp;class LR extends wn{constructor(t){const e=new zt,i=new Xe({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],l={};h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4");function h(v,S){f(v),f(S)}function f(v){s.push(0,0,0),r.push(0,0,0),l[v]===void 0&&(l[v]=[]),l[v].push(s.length/3-1)}e.setAttribute("position",new rt(s,3)),e.setAttribute("color",new rt(r,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const d=new St(16755200),m=new St(16711680),x=new St(43775),g=new St(16777215),b=new St(3355443);this.setColors(d,m,x,g,b)}setColors(t,e,i,s,r){const h=this.geometry.getAttribute("color");h.setXYZ(0,t.r,t.g,t.b),h.setXYZ(1,t.r,t.g,t.b),h.setXYZ(2,t.r,t.g,t.b),h.setXYZ(3,t.r,t.g,t.b),h.setXYZ(4,t.r,t.g,t.b),h.setXYZ(5,t.r,t.g,t.b),h.setXYZ(6,t.r,t.g,t.b),h.setXYZ(7,t.r,t.g,t.b),h.setXYZ(8,t.r,t.g,t.b),h.setXYZ(9,t.r,t.g,t.b),h.setXYZ(10,t.r,t.g,t.b),h.setXYZ(11,t.r,t.g,t.b),h.setXYZ(12,t.r,t.g,t.b),h.setXYZ(13,t.r,t.g,t.b),h.setXYZ(14,t.r,t.g,t.b),h.setXYZ(15,t.r,t.g,t.b),h.setXYZ(16,t.r,t.g,t.b),h.setXYZ(17,t.r,t.g,t.b),h.setXYZ(18,t.r,t.g,t.b),h.setXYZ(19,t.r,t.g,t.b),h.setXYZ(20,t.r,t.g,t.b),h.setXYZ(21,t.r,t.g,t.b),h.setXYZ(22,t.r,t.g,t.b),h.setXYZ(23,t.r,t.g,t.b),h.setXYZ(24,e.r,e.g,e.b),h.setXYZ(25,e.r,e.g,e.b),h.setXYZ(26,e.r,e.g,e.b),h.setXYZ(27,e.r,e.g,e.b),h.setXYZ(28,e.r,e.g,e.b),h.setXYZ(29,e.r,e.g,e.b),h.setXYZ(30,e.r,e.g,e.b),h.setXYZ(31,e.r,e.g,e.b),h.setXYZ(32,i.r,i.g,i.b),h.setXYZ(33,i.r,i.g,i.b),h.setXYZ(34,i.r,i.g,i.b),h.setXYZ(35,i.r,i.g,i.b),h.setXYZ(36,i.r,i.g,i.b),h.setXYZ(37,i.r,i.g,i.b),h.setXYZ(38,s.r,s.g,s.b),h.setXYZ(39,s.r,s.g,s.b),h.setXYZ(40,r.r,r.g,r.b),h.setXYZ(41,r.r,r.g,r.b),h.setXYZ(42,r.r,r.g,r.b),h.setXYZ(43,r.r,r.g,r.b),h.setXYZ(44,r.r,r.g,r.b),h.setXYZ(45,r.r,r.g,r.b),h.setXYZ(46,r.r,r.g,r.b),h.setXYZ(47,r.r,r.g,r.b),h.setXYZ(48,r.r,r.g,r.b),h.setXYZ(49,r.r,r.g,r.b),h.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,s=1;se.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),oe("c",e,t,se,0,0,-1),oe("t",e,t,se,0,0,1),oe("n1",e,t,se,-i,-s,-1),oe("n2",e,t,se,i,-s,-1),oe("n3",e,t,se,-i,s,-1),oe("n4",e,t,se,i,s,-1),oe("f1",e,t,se,-i,-s,1),oe("f2",e,t,se,i,-s,1),oe("f3",e,t,se,-i,s,1),oe("f4",e,t,se,i,s,1),oe("u1",e,t,se,i*.7,s*1.1,-1),oe("u2",e,t,se,-i*.7,s*1.1,-1),oe("u3",e,t,se,0,s*2,-1),oe("cf1",e,t,se,-i,0,1),oe("cf2",e,t,se,i,0,1),oe("cf3",e,t,se,0,-s,1),oe("cf4",e,t,se,0,s,1),oe("cn1",e,t,se,-i,0,-1),oe("cn2",e,t,se,i,0,-1),oe("cn3",e,t,se,0,-s,-1),oe("cn4",e,t,se,0,s,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function oe(u,t,e,i,s,r,l){tc.set(s,r,l).unproject(i);const h=t[u];if(h!==void 0){const f=e.getAttribute("position");for(let d=0,m=h.length;d<m;d++)f.setXYZ(h[d],tc.x,tc.y,tc.z)}}const ec=new Ye;class kR extends wn{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),r=new zt;r.setIndex(new Kt(i,1)),r.setAttribute("position",new Kt(s,3)),super(r,new Xe({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&ec.setFromObject(this.object),ec.isEmpty())return;const e=ec.min,i=ec.max,s=this.geometry.attributes.position,r=s.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,s.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class UR extends wn{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new zt;r.setIndex(new Kt(i,1)),r.setAttribute("position",new rt(s,3)),super(r,new Xe({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class FR extends Vs{constructor(t,e=1,i=16776960){const s=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new zt;l.setAttribute("position",new rt(r,3)),l.computeBoundingSphere(),super(l,new Xe({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],f=new zt;f.setAttribute("position",new rt(h,3)),f.computeBoundingSphere(),this.add(new Oi(f,new lr({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Mx=new B;let ic,Hd;class IR extends Vt{constructor(t=new B(0,0,1),e=new B(0,0,0),i=1,s=16776960,r=i*.2,l=r*.2){super(),this.type="ArrowHelper",ic===void 0&&(ic=new zt,ic.setAttribute("position",new rt([0,0,0,0,1,0],3)),Hd=new Qo(0,.5,1,5,1),Hd.translate(0,-.5,0)),this.position.copy(e),this.line=new Vs(ic,new Xe({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Oi(Hd,new lr({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,l)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Mx.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Mx,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class HR extends wn{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new zt;s.setAttribute("position",new rt(e,3)),s.setAttribute("color",new rt(i,3));const r=new Xe({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(t,e,i){const s=new St,r=this.geometry.attributes.color.array;return s.set(t),s.toArray(r,0),s.toArray(r,3),s.set(e),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class VR{constructor(){this.type="ShapePath",this.color=new St,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new mc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,r,l){return this.currentPath.bezierCurveTo(t,e,i,s,r,l),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(_){const A=[];for(let T=0,E=_.length;T<E;T++){const O=_[T],R=new er;R.curves=O.curves,A.push(R)}return A}function i(_,A){const T=A.length;let E=!1;for(let O=T-1,R=0;R<T;O=R++){let L=A[O],I=A[R],V=I.x-L.x,X=I.y-L.y;if(Math.abs(X)>Number.EPSILON){if(X<0&&(L=A[R],V=-V,I=A[O],X=-X),_.y<L.y||_.y>I.y)continue;if(_.y===L.y){if(_.x===L.x)return!0}else{const Q=X*(_.x-L.x)-V*(_.y-L.y);if(Q===0)return!0;if(Q<0)continue;E=!E}}else{if(_.y!==L.y)continue;if(I.x<=_.x&&_.x<=L.x||L.x<=_.x&&_.x<=I.x)return!0}}return E}const s=vn.isClockWise,r=this.subPaths;if(r.length===0)return[];let l,h,f;const d=[];if(r.length===1)return h=r[0],f=new er,f.curves=h.curves,d.push(f),d;let m=!s(r[0].getPoints());m=t?!m:m;const x=[],g=[];let b=[],v=0,S;g[v]=void 0,b[v]=[];for(let _=0,A=r.length;_<A;_++)h=r[_],S=h.getPoints(),l=s(S),l=t?!l:l,l?(!m&&g[v]&&v++,g[v]={s:new er,p:S},g[v].s.curves=h.curves,m&&v++,b[v]=[]):b[v].push({h,p:S[0]});if(!g[0])return e(r);if(g.length>1){let _=!1,A=0;for(let T=0,E=g.length;T<E;T++)x[T]=[];for(let T=0,E=g.length;T<E;T++){const O=b[T];for(let R=0;R<O.length;R++){const L=O[R];let I=!0;for(let V=0;V<g.length;V++)i(L.p,g[V].p)&&(T!==V&&A++,I?(I=!1,x[V].push(L)):_=!0);I&&x[T].push(L)}}A>0&&_===!1&&(b=x)}let M;for(let _=0,A=g.length;_<A;_++){f=g[_].s,d.push(f),M=b[_];for(let T=0,E=M.length;T<E;T++)f.holes.push(M[T].h)}return d}}class PR extends ss{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function IC(u,t){const e=u.image&&u.image.width?u.image.width/u.image.height:1;return e>t?(u.repeat.x=1,u.repeat.y=e/t,u.offset.x=0,u.offset.y=(1-u.repeat.y)/2):(u.repeat.x=t/e,u.repeat.y=1,u.offset.x=(1-u.repeat.x)/2,u.offset.y=0),u}function HC(u,t){const e=u.image&&u.image.width?u.image.width/u.image.height:1;return e>t?(u.repeat.x=t/e,u.repeat.y=1,u.offset.x=(1-u.repeat.x)/2,u.offset.y=0):(u.repeat.x=1,u.repeat.y=e/t,u.offset.x=0,u.offset.y=(1-u.repeat.y)/2),u}function VC(u){return u.repeat.x=1,u.repeat.y=1,u.offset.x=0,u.offset.y=0,u}function PC(u,t,e,i){const s=qC(i);switch(e){case c2:return u*t;case f2:return u*t;case d2:return u*t*2;case pb:return u*t/s.components*s.byteLength;case mb:return u*t/s.components*s.byteLength;case p2:return u*t*2/s.components*s.byteLength;case m2:return u*t*2/s.components*s.byteLength;case h2:return u*t*3/s.components*s.byteLength;case Io:return u*t*4/s.components*s.byteLength;case g2:return u*t*4/s.components*s.byteLength;case y2:case x2:return Math.floor((u+3)/4)*Math.floor((t+3)/4)*8;case b2:case v2:return Math.floor((u+3)/4)*Math.floor((t+3)/4)*16;case w2:case _2:return Math.max(u,16)*Math.max(t,8)/4;case S2:case M2:return Math.max(u,8)*Math.max(t,8)/2;case A2:case T2:return Math.floor((u+3)/4)*Math.floor((t+3)/4)*8;case C2:return Math.floor((u+3)/4)*Math.floor((t+3)/4)*16;case E2:return Math.floor((u+3)/4)*Math.floor((t+3)/4)*16;case z2:return Math.floor((u+4)/5)*Math.floor((t+3)/4)*16;case R2:return Math.floor((u+4)/5)*Math.floor((t+4)/5)*16;case O2:return Math.floor((u+5)/6)*Math.floor((t+4)/5)*16;case B2:return Math.floor((u+5)/6)*Math.floor((t+5)/6)*16;case N2:return Math.floor((u+7)/8)*Math.floor((t+4)/5)*16;case D2:return Math.floor((u+7)/8)*Math.floor((t+5)/6)*16;case L2:return Math.floor((u+7)/8)*Math.floor((t+7)/8)*16;case k2:return Math.floor((u+9)/10)*Math.floor((t+4)/5)*16;case U2:return Math.floor((u+9)/10)*Math.floor((t+5)/6)*16;case F2:return Math.floor((u+9)/10)*Math.floor((t+7)/8)*16;case I2:return Math.floor((u+9)/10)*Math.floor((t+9)/10)*16;case H2:return Math.floor((u+11)/12)*Math.floor((t+9)/10)*16;case V2:return Math.floor((u+11)/12)*Math.floor((t+11)/12)*16;case P2:case q2:case G2:return Math.ceil(u/4)*Math.ceil(t/4)*16;case Y2:case X2:return Math.ceil(u/4)*Math.ceil(t/4)*8;case Z2:case j2:return Math.ceil(u/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function qC(u){switch(u){case db:case e2:return{byteLength:1,components:1};case n2:case i2:case a2:return{byteLength:2,components:1};case r2:case o2:return{byteLength:2,components:4};case pp:case s2:case ir:return{byteLength:4,components:1};case u2:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${u}.`)}const qR={contain:IC,cover:HC,fill:VC,getByteLength:PC};class GR extends Cc{constructor(t=1,e=1,i=1,s={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(t,e,{...s,count:i}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:hb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=hb);let Eo=0;const GC=sb(u=>(No.onStart=(t,e,i)=>{u({active:!0,item:t,loaded:e,total:i,progress:(e-Eo)/(i-Eo)*100})},No.onLoad=()=>{u({active:!1})},No.onError=t=>u(e=>({errors:[...e.errors,t]})),No.onProgress=(t,e,i)=>{e===i&&(Eo=i),u({active:!0,item:t,loaded:e,total:i,progress:(e-Eo)/(i-Eo)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),YC="_container_10585_1",XC="_close_10585_22",ZC="_content_10585_34",mn={container:YC,close:XC,content:ZC},jC=P.memo(function({className:t,children:e}){const{progress:i}=GC(),[s,r]=P.useState(!1),l=ns(),{trackPageview:h}=pw();return P.useEffect(h,[l,h]),P.useEffect(()=>{i<100&&l.pathname==="/"||setTimeout(()=>r(!0),1e3)},[i,l,s]),Ut.jsxs(Ut.Fragment,{children:[Ut.jsx("div",{className:ja(mn.container,s&&mn.close)}),Ut.jsx("div",{className:ja(mn.container,s&&mn.close)}),Ut.jsx("div",{className:ja(mn.container,s&&mn.close)}),Ut.jsx("div",{className:ja(mn.container,s&&mn.close),children:Ut.jsx("div",{className:mn.content,children:Ut.jsxs("p",{children:[Math.round(i),"%"]})})}),Ut.jsx("div",{className:ja(t),children:e})]})}),{Home:WC}=ob(()=>nb(()=>import("./Home-Cjl3uRnE.js").then(u=>u.H),__vite__mapDeps([0,1,2,3]))),{Scuba:JC}=ob(()=>nb(()=>import("./Scuba-BZsHGYbI.js"),__vite__mapDeps([4,1,2,5]))),QC=P.memo(()=>Ut.jsxs(Ut.Fragment,{children:[Ut.jsx(M_,{}),Ut.jsx(Y_,{}),Ut.jsx(jC,{children:Ut.jsx(P.Suspense,{fallback:Ut.jsx("div",{children:"loading..."}),children:Ut.jsxs(dM,{children:[Ut.jsx(Yd,{element:Ut.jsx(WC,{}),path:"/"}),Ut.jsx(Yd,{element:Ut.jsx(JC,{}),path:"/scuba"})]})})})]})),yt=u=>typeof u=="string",zo=()=>{let u,t;const e=new Promise((i,s)=>{u=i,t=s});return e.resolve=u,e.reject=t,e},_x=u=>u==null?"":""+u,$C=(u,t,e)=>{u.forEach(i=>{t[i]&&(e[i]=t[i])})},KC=/###/g,Ax=u=>u&&u.indexOf("###")>-1?u.replace(KC,"."):u,Tx=u=>!u||yt(u),Uo=(u,t,e)=>{const i=yt(t)?t.split("."):t;let s=0;for(;s<i.length-1;){if(Tx(u))return{};const r=Ax(i[s]);!u[r]&&e&&(u[r]=new e),Object.prototype.hasOwnProperty.call(u,r)?u=u[r]:u={},++s}return Tx(u)?{}:{obj:u,k:Ax(i[s])}},Cx=(u,t,e)=>{const{obj:i,k:s}=Uo(u,t,Object);if(i!==void 0||t.length===1){i[s]=e;return}let r=t[t.length-1],l=t.slice(0,t.length-1),h=Uo(u,l,Object);for(;h.obj===void 0&&l.length;)r=`${l[l.length-1]}.${r}`,l=l.slice(0,l.length-1),h=Uo(u,l,Object),h&&h.obj&&typeof h.obj[`${h.k}.${r}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${r}`]=e},tE=(u,t,e,i)=>{const{obj:s,k:r}=Uo(u,t,Object);s[r]=s[r]||[],s[r].push(e)},vc=(u,t)=>{const{obj:e,k:i}=Uo(u,t);if(e)return e[i]},eE=(u,t,e)=>{const i=vc(u,e);return i!==void 0?i:vc(t,e)},Gb=(u,t,e)=>{for(const i in t)i!=="__proto__"&&i!=="constructor"&&(i in u?yt(u[i])||u[i]instanceof String||yt(t[i])||t[i]instanceof String?e&&(u[i]=t[i]):Gb(u[i],t[i],e):u[i]=t[i]);return u},Xa=u=>u.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var iE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const nE=u=>yt(u)?u.replace(/[&<>"'\/]/g,t=>iE[t]):u;class sE{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const e=this.regExpMap.get(t);if(e!==void 0)return e;const i=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,i),this.regExpQueue.push(t),i}}const aE=[" ",",","?","!",";"],rE=new sE(20),oE=(u,t,e)=>{t=t||"",e=e||"";const i=aE.filter(l=>t.indexOf(l)<0&&e.indexOf(l)<0);if(i.length===0)return!0;const s=rE.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let r=!s.test(u);if(!r){const l=u.indexOf(e);l>0&&!s.test(u.substring(0,l))&&(r=!0)}return r},ap=function(u,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!u)return;if(u[t])return u[t];const i=t.split(e);let s=u;for(let r=0;r<i.length;){if(!s||typeof s!="object")return;let l,h="";for(let f=r;f<i.length;++f)if(f!==r&&(h+=e),h+=i[f],l=s[h],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<i.length-1)continue;r+=f-r+1;break}s=l}return s},Sc=u=>u&&u.replace("_","-"),lE={type:"logger",log(u){this.output("log",u)},warn(u){this.output("warn",u)},error(u){this.output("error",u)},output(u,t){console&&console[u]&&console[u].apply(console,t)}};class wc{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,e)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||lE,this.options=e,this.debug=e.debug}log(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"log","",!0)}warn(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","",!0)}error(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"error","")}deprecate(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(t,e,i,s){return s&&!this.debug?null:(yt(t[0])&&(t[0]=`${i}${this.prefix} ${t[0]}`),this.logger[e](t))}create(t){return new wc(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new wc(this.logger,t)}}var Fi=new wc;class kc{constructor(){this.observers={}}on(t,e){return t.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const s=this.observers[i].get(e)||0;this.observers[i].set(e,s+1)}),this}off(t,e){if(this.observers[t]){if(!e){delete this.observers[t];return}this.observers[t].delete(e)}}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(l=>{let[h,f]=l;for(let d=0;d<f;d++)h(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(l=>{let[h,f]=l;for(let d=0;d<f;d++)h.apply(h,[t,...i])})}}class Ex extends kc{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}getResource(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;t.indexOf(".")>-1?h=t.split("."):(h=[t,e],i&&(Array.isArray(i)?h.push(...i):yt(i)&&r?h.push(...i.split(r)):h.push(i)));const f=vc(this.data,h);return!f&&!e&&!i&&t.indexOf(".")>-1&&(t=h[0],e=h[1],i=h.slice(2).join(".")),f||!l||!yt(i)?f:ap(this.data&&this.data[t]&&this.data[t][e],i,r)}addResource(t,e,i,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let h=[t,e];i&&(h=h.concat(l?i.split(l):i)),t.indexOf(".")>-1&&(h=t.split("."),s=e,e=h[1]),this.addNamespaces(e),Cx(this.data,h,s),r.silent||this.emit("added",t,e,i,s)}addResources(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in i)(yt(i[r])||Array.isArray(i[r]))&&this.addResource(t,e,r,i[r],{silent:!0});s.silent||this.emit("added",t,e,i)}addResourceBundle(t,e,i,s,r){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},h=[t,e];t.indexOf(".")>-1&&(h=t.split("."),s=i,i=e,e=h[1]),this.addNamespaces(e);let f=vc(this.data,h)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),s?Gb(f,i,r):f={...f,...i},Cx(this.data,h,f),l.silent||this.emit("added",t,e,i)}removeResourceBundle(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}hasResourceBundle(t,e){return this.getResource(t,e)!==void 0}getResourceBundle(t,e){return e||(e=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,e)}:this.getResource(t,e)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find(s=>e[s]&&Object.keys(e[s]).length>0)}toJSON(){return this.data}}var Yb={processors:{},addPostProcessor(u){this.processors[u.name]=u},handle(u,t,e,i,s){return u.forEach(r=>{this.processors[r]&&(t=this.processors[r].process(t,e,i,s))}),t}};const zx={};class Mc extends kc{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),$C(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=e,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Fi.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const i=this.resolve(t,e);return i&&i.res!==void 0}extractFromKey(t,e){let i=e.nsSeparator!==void 0?e.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const s=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator;let r=e.ns||this.options.defaultNS||[];const l=i&&t.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!e.keySeparator&&!this.options.userDefinedNsSeparator&&!e.nsSeparator&&!oE(t,i,s);if(l&&!h){const f=t.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:t,namespaces:yt(r)?[r]:r};const d=t.split(i);(i!==s||i===s&&this.options.ns.indexOf(d[0])>-1)&&(r=d.shift()),t=d.join(s)}return{key:t,namespaces:yt(r)?[r]:r}}translate(t,e,i){if(typeof e!="object"&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),typeof e=="object"&&(e={...e}),e||(e={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=e.returnDetails!==void 0?e.returnDetails:this.options.returnDetails,r=e.keySeparator!==void 0?e.keySeparator:this.options.keySeparator,{key:l,namespaces:h}=this.extractFromKey(t[t.length-1],e),f=h[h.length-1],d=e.lng||this.language,m=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(m){const E=e.nsSeparator||this.options.nsSeparator;return s?{res:`${f}${E}${l}`,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:f,usedParams:this.getUsedParamsDetails(e)}:`${f}${E}${l}`}return s?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:f,usedParams:this.getUsedParamsDetails(e)}:l}const x=this.resolve(t,e);let g=x&&x.res;const b=x&&x.usedKey||l,v=x&&x.exactUsedKey||l,S=Object.prototype.toString.apply(g),M=["[object Number]","[object Function]","[object RegExp]"],_=e.joinArrays!==void 0?e.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,T=!yt(g)&&typeof g!="boolean"&&typeof g!="number";if(A&&g&&T&&M.indexOf(S)<0&&!(yt(_)&&Array.isArray(g))){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,g,{...e,ns:h}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(x.res=E,x.usedParams=this.getUsedParamsDetails(e),x):E}if(r){const E=Array.isArray(g),O=E?[]:{},R=E?v:b;for(const L in g)if(Object.prototype.hasOwnProperty.call(g,L)){const I=`${R}${r}${L}`;O[L]=this.translate(I,{...e,joinArrays:!1,ns:h}),O[L]===I&&(O[L]=g[L])}g=O}}else if(A&&yt(_)&&Array.isArray(g))g=g.join(_),g&&(g=this.extendTranslation(g,t,e,i));else{let E=!1,O=!1;const R=e.count!==void 0&&!yt(e.count),L=Mc.hasDefaultValue(e),I=R?this.pluralResolver.getSuffix(d,e.count,e):"",V=e.ordinal&&R?this.pluralResolver.getSuffix(d,e.count,{ordinal:!1}):"",X=R&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),Q=X&&e[`defaultValue${this.options.pluralSeparator}zero`]||e[`defaultValue${I}`]||e[`defaultValue${V}`]||e.defaultValue;!this.isValidLookup(g)&&L&&(E=!0,g=Q),this.isValidLookup(g)||(O=!0,g=l);const gt=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:g,mt=L&&Q!==g&&this.options.updateMissing;if(O||E||mt){if(this.logger.log(mt?"updateKey":"missingKey",d,f,l,mt?Q:g),r){const K=this.resolve(l,{...e,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let xt=[];const W=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if(this.options.saveMissingTo==="fallback"&&W&&W[0])for(let K=0;K<W.length;K++)xt.push(W[K]);else this.options.saveMissingTo==="all"?xt=this.languageUtils.toResolveHierarchy(e.lng||this.language):xt.push(e.lng||this.language);const ut=(K,ct,N)=>{const Y=L&&N!==g?N:gt;this.options.missingKeyHandler?this.options.missingKeyHandler(K,f,ct,Y,mt,e):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(K,f,ct,Y,mt,e),this.emit("missingKey",K,f,ct,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?xt.forEach(K=>{const ct=this.pluralResolver.getSuffixes(K,e);X&&e[`defaultValue${this.options.pluralSeparator}zero`]&&ct.indexOf(`${this.options.pluralSeparator}zero`)<0&&ct.push(`${this.options.pluralSeparator}zero`),ct.forEach(N=>{ut([K],l+N,e[`defaultValue${N}`]||Q)})}):ut(xt,l,Q))}g=this.extendTranslation(g,t,e,x,i),O&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${f}:${l}`),(O||E)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${f}:${l}`:l,E?g:void 0):g=this.options.parseMissingKeyHandler(g))}return s?(x.res=g,x.usedParams=this.getUsedParamsDetails(e),x):g}extendTranslation(t,e,i,s,r){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const d=yt(t)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(d){const g=t.match(this.interpolator.nestingRegexp);m=g&&g.length}let x=i.replace&&!yt(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(x={...this.options.interpolation.defaultVariables,...x}),t=this.interpolator.interpolate(t,x,i.lng||this.language||s.usedLng,i),d){const g=t.match(this.interpolator.nestingRegexp),b=g&&g.length;m<b&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(i.lng=this.language||s.usedLng),i.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var g=arguments.length,b=new Array(g),v=0;v<g;v++)b[v]=arguments[v];return r&&r[0]===b[0]&&!i.context?(l.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${e[0]}`),null):l.translate(...b,e)},i)),i.interpolation&&this.interpolator.reset()}const h=i.postProcess||this.options.postProcess,f=yt(h)?[h]:h;return t!=null&&f&&f.length&&i.applyPostProcessor!==!1&&(t=Yb.handle(f,t,e,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),t}resolve(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,s,r,l,h;return yt(t)&&(t=[t]),t.forEach(f=>{if(this.isValidLookup(i))return;const d=this.extractFromKey(f,e),m=d.key;s=m;let x=d.namespaces;this.options.fallbackNS&&(x=x.concat(this.options.fallbackNS));const g=e.count!==void 0&&!yt(e.count),b=g&&!e.ordinal&&e.count===0&&this.pluralResolver.shouldUseIntlApi(),v=e.context!==void 0&&(yt(e.context)||typeof e.context=="number")&&e.context!=="",S=e.lngs?e.lngs:this.languageUtils.toResolveHierarchy(e.lng||this.language,e.fallbackLng);x.forEach(M=>{this.isValidLookup(i)||(h=M,!zx[`${S[0]}-${M}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(h)&&(zx[`${S[0]}-${M}`]=!0,this.logger.warn(`key "${s}" for languages "${S.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(_=>{if(this.isValidLookup(i))return;l=_;const A=[m];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(A,m,_,M,e);else{let E;g&&(E=this.pluralResolver.getSuffix(_,e.count,e));const O=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(A.push(m+E),e.ordinal&&E.indexOf(R)===0&&A.push(m+E.replace(R,this.options.pluralSeparator)),b&&A.push(m+O)),v){const L=`${m}${this.options.contextSeparator}${e.context}`;A.push(L),g&&(A.push(L+E),e.ordinal&&E.indexOf(R)===0&&A.push(L+E.replace(R,this.options.pluralSeparator)),b&&A.push(L+O))}}let T;for(;T=A.pop();)this.isValidLookup(i)||(r=T,i=this.getResource(_,M,T,e))}))})}),{res:i,usedKey:s,exactUsedKey:r,usedLng:l,usedNS:h}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,i,s):this.resourceStore.getResource(t,e,i,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=t.replace&&!yt(t.replace);let s=i?t.replace:t;if(i&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!i){s={...s};for(const r of e)delete s[r]}return s}static hasDefaultValue(t){const e="defaultValue";for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e===i.substring(0,e.length)&&t[i]!==void 0)return!0;return!1}}const Vd=u=>u.charAt(0).toUpperCase()+u.slice(1);class Rx{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Fi.create("languageUtils")}getScriptPartFromCode(t){if(t=Sc(t),!t||t.indexOf("-")<0)return null;const e=t.split("-");return e.length===2||(e.pop(),e[e.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(e.join("-"))}getLanguagePartFromCode(t){if(t=Sc(t),!t||t.indexOf("-")<0)return t;const e=t.split("-");return this.formatLanguageCode(e[0])}formatLanguageCode(t){if(yt(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(t)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const e=["hans","hant","latn","cyrl","cans","mong","arab"];let i=t.split("-");return this.options.lowerCaseLng?i=i.map(s=>s.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=Vd(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=Vd(i[1].toLowerCase())),e.indexOf(i[2].toLowerCase())>-1&&(i[2]=Vd(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let e;return t.forEach(i=>{if(e)return;const s=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(s))&&(e=s)}),!e&&this.options.supportedLngs&&t.forEach(i=>{if(e)return;const s=this.getLanguagePartFromCode(i);if(this.isSupportedCode(s))return e=s;e=this.options.supportedLngs.find(r=>{if(r===s)return r;if(!(r.indexOf("-")<0&&s.indexOf("-")<0)&&(r.indexOf("-")>0&&s.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===s||r.indexOf(s)===0&&s.length>1))return r})}),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e}getFallbackCodes(t,e){if(!t)return[];if(typeof t=="function"&&(t=t(e)),yt(t)&&(t=[t]),Array.isArray(t))return t;if(!e)return t.default||[];let i=t[e];return i||(i=t[this.getScriptPartFromCode(e)]),i||(i=t[this.formatLanguageCode(e)]),i||(i=t[this.getLanguagePartFromCode(e)]),i||(i=t.default),i||[]}toResolveHierarchy(t,e){const i=this.getFallbackCodes(e||this.options.fallbackLng||[],t),s=[],r=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return yt(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(t))):yt(t)&&r(this.formatLanguageCode(t)),i.forEach(l=>{s.indexOf(l)<0&&r(this.formatLanguageCode(l))}),s}}let uE=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],cE={1:u=>+(u>1),2:u=>+(u!=1),3:u=>0,4:u=>u%10==1&&u%100!=11?0:u%10>=2&&u%10<=4&&(u%100<10||u%100>=20)?1:2,5:u=>u==0?0:u==1?1:u==2?2:u%100>=3&&u%100<=10?3:u%100>=11?4:5,6:u=>u==1?0:u>=2&&u<=4?1:2,7:u=>u==1?0:u%10>=2&&u%10<=4&&(u%100<10||u%100>=20)?1:2,8:u=>u==1?0:u==2?1:u!=8&&u!=11?2:3,9:u=>+(u>=2),10:u=>u==1?0:u==2?1:u<7?2:u<11?3:4,11:u=>u==1||u==11?0:u==2||u==12?1:u>2&&u<20?2:3,12:u=>+(u%10!=1||u%100==11),13:u=>+(u!==0),14:u=>u==1?0:u==2?1:u==3?2:3,15:u=>u%10==1&&u%100!=11?0:u%10>=2&&(u%100<10||u%100>=20)?1:2,16:u=>u%10==1&&u%100!=11?0:u!==0?1:2,17:u=>u==1||u%10==1&&u%100!=11?0:1,18:u=>u==0?0:u==1?1:2,19:u=>u==1?0:u==0||u%100>1&&u%100<11?1:u%100>10&&u%100<20?2:3,20:u=>u==1?0:u==0||u%100>0&&u%100<20?1:2,21:u=>u%100==1?1:u%100==2?2:u%100==3||u%100==4?3:0,22:u=>u==1?0:u==2?1:(u<0||u>10)&&u%10==0?2:3};const hE=["v1","v2","v3"],fE=["v4"],Ox={zero:0,one:1,two:2,few:3,many:4,other:5},dE=()=>{const u={};return uE.forEach(t=>{t.lngs.forEach(e=>{u[e]={numbers:t.nr,plurals:cE[t.fc]}})}),u};class pE{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=e,this.logger=Fi.create("pluralResolver"),(!this.options.compatibilityJSON||fE.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=dE(),this.pluralRulesCache={}}addRule(t,e){this.rules[t]=e}clearCache(){this.pluralRulesCache={}}getRule(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=Sc(t==="dev"?"en":t),s=e.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:i,type:s});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let l;try{l=new Intl.PluralRules(i,{type:s})}catch{if(!t.match(/-|_/))return;const f=this.languageUtils.getLanguagePartFromCode(t);l=this.getRule(f,e)}return this.pluralRulesCache[r]=l,l}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(t,e);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,i).map(s=>`${e}${s}`)}getSuffixes(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(t,e);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((s,r)=>Ox[s]-Ox[r]).map(s=>`${this.options.prepend}${e.ordinal?`ordinal${this.options.prepend}`:""}${s}`):i.numbers.map(s=>this.getSuffix(t,s,e)):[]}getSuffix(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,i);return s?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${s.select(e)}`:this.getSuffixRetroCompatible(s,e):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,e){const i=t.noAbs?t.plurals(e):t.plurals(Math.abs(e));let s=t.numbers[i];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const r=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?r():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!hE.includes(this.options.compatibilityJSON)}}const Bx=function(u,t,e){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=eE(u,t,e);return!r&&s&&yt(e)&&(r=ap(u,e,i),r===void 0&&(r=ap(t,e,i))),r},Pd=u=>u.replace(/\$/g,"$$$$");class mE{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Fi.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(e=>e),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:e,escapeValue:i,useRawValueToEscape:s,prefix:r,prefixEscaped:l,suffix:h,suffixEscaped:f,formatSeparator:d,unescapeSuffix:m,unescapePrefix:x,nestingPrefix:g,nestingPrefixEscaped:b,nestingSuffix:v,nestingSuffixEscaped:S,nestingOptionsSeparator:M,maxReplaces:_,alwaysFormat:A}=t.interpolation;this.escape=e!==void 0?e:nE,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=r?Xa(r):l||"{{",this.suffix=h?Xa(h):f||"}}",this.formatSeparator=d||",",this.unescapePrefix=m?"":x||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=g?Xa(g):b||Xa("$t("),this.nestingSuffix=v?Xa(v):S||Xa(")"),this.nestingOptionsSeparator=M||",",this.maxReplaces=_||1e3,this.alwaysFormat=A!==void 0?A:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(e,i)=>e&&e.source===i?(e.lastIndex=0,e):new RegExp(i,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,e,i,s){let r,l,h;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=b=>{if(b.indexOf(this.formatSeparator)<0){const _=Bx(e,f,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,i,{...s,...e,interpolationkey:b}):_}const v=b.split(this.formatSeparator),S=v.shift().trim(),M=v.join(this.formatSeparator).trim();return this.format(Bx(e,f,S,this.options.keySeparator,this.options.ignoreJSONStructure),M,i,{...s,...e,interpolationkey:S})};this.resetRegExp();const m=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,x=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Pd(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Pd(this.escape(b)):Pd(b)}].forEach(b=>{for(h=0;r=b.regex.exec(t);){const v=r[1].trim();if(l=d(v),l===void 0)if(typeof m=="function"){const M=m(t,r,s);l=yt(M)?M:""}else if(s&&Object.prototype.hasOwnProperty.call(s,v))l="";else if(x){l=r[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${t}`),l="";else!yt(l)&&!this.useRawValueToEscape&&(l=_x(l));const S=b.safeValue(l);if(t=t.replace(r[0],S),x?(b.regex.lastIndex+=l.length,b.regex.lastIndex-=r[0].length):b.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),t}nest(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,r,l;const h=(f,d)=>{const m=this.nestingOptionsSeparator;if(f.indexOf(m)<0)return f;const x=f.split(new RegExp(`${m}[ ]*{`));let g=`{${x[1]}`;f=x[0],g=this.interpolate(g,l);const b=g.match(/'/g),v=g.match(/"/g);(b&&b.length%2===0&&!v||v.length%2!==0)&&(g=g.replace(/'/g,'"'));try{l=JSON.parse(g),d&&(l={...d,...l})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,S),`${f}${m}${g}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;s=this.nestingRegexp.exec(t);){let f=[];l={...i},l=l.replace&&!yt(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let d=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const m=s[1].split(this.formatSeparator).map(x=>x.trim());s[1]=m.shift(),f=m,d=!0}if(r=e(h.call(this,s[1].trim(),l),l),r&&s[0]===t&&!yt(r))return r;yt(r)||(r=_x(r)),r||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),r=""),d&&(r=f.reduce((m,x)=>this.format(m,x,i.lng,{...i,interpolationkey:s[1].trim()}),r.trim())),t=t.replace(s[0],r),this.regexp.lastIndex=0}return t}}const gE=u=>{let t=u.toLowerCase().trim();const e={};if(u.indexOf("(")>-1){const i=u.split("(");t=i[0].toLowerCase().trim();const s=i[1].substring(0,i[1].length-1);t==="currency"&&s.indexOf(":")<0?e.currency||(e.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?e.range||(e.range=s.trim()):s.split(";").forEach(l=>{if(l){const[h,...f]=l.split(":"),d=f.join(":").trim().replace(/^'+|'+$/g,""),m=h.trim();e[m]||(e[m]=d),d==="false"&&(e[m]=!1),d==="true"&&(e[m]=!0),isNaN(d)||(e[m]=parseInt(d,10))}})}return{formatName:t,formatOptions:e}},Za=u=>{const t={};return(e,i,s)=>{let r=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(r={...r,[s.interpolationkey]:void 0});const l=i+JSON.stringify(r);let h=t[l];return h||(h=u(Sc(i),s),t[l]=h),h(e)}};class yE{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Fi.create("formatter"),this.options=t,this.formats={number:Za((e,i)=>{const s=new Intl.NumberFormat(e,{...i});return r=>s.format(r)}),currency:Za((e,i)=>{const s=new Intl.NumberFormat(e,{...i,style:"currency"});return r=>s.format(r)}),datetime:Za((e,i)=>{const s=new Intl.DateTimeFormat(e,{...i});return r=>s.format(r)}),relativetime:Za((e,i)=>{const s=new Intl.RelativeTimeFormat(e,{...i});return r=>s.format(r,i.range||"day")}),list:Za((e,i)=>{const s=new Intl.ListFormat(e,{...i});return r=>s.format(r)})},this.init(t)}init(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=e.interpolation.formatSeparator||","}add(t,e){this.formats[t.toLowerCase().trim()]=e}addCached(t,e){this.formats[t.toLowerCase().trim()]=Za(e)}format(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=e.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(h=>h.indexOf(")")>-1)){const h=r.findIndex(f=>f.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,h)].join(this.formatSeparator)}return r.reduce((h,f)=>{const{formatName:d,formatOptions:m}=gE(f);if(this.formats[d]){let x=h;try{const g=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},b=g.locale||g.lng||s.locale||s.lng||i;x=this.formats[d](h,b,{...m,...s,...g})}catch(g){this.logger.warn(g)}return x}else this.logger.warn(`there was no format function for ${d}`);return h},t)}}const xE=(u,t)=>{u.pending[t]!==void 0&&(delete u.pending[t],u.pendingCount--)};class bE extends kc{constructor(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=e,this.services=i,this.languageUtils=i.languageUtils,this.options=s,this.logger=Fi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,s.backend,s)}queueLoad(t,e,i,s){const r={},l={},h={},f={};return t.forEach(d=>{let m=!0;e.forEach(x=>{const g=`${d}|${x}`;!i.reload&&this.store.hasResourceBundle(d,x)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?l[g]===void 0&&(l[g]=!0):(this.state[g]=1,m=!1,l[g]===void 0&&(l[g]=!0),r[g]===void 0&&(r[g]=!0),f[x]===void 0&&(f[x]=!0)))}),m||(h[d]=!0)}),(Object.keys(r).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(r),pending:Object.keys(l),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}loaded(t,e,i){const s=t.split("|"),r=s[0],l=s[1];e&&this.emit("failedLoading",r,l,e),!e&&i&&this.store.addResourceBundle(r,l,i,void 0,void 0,{skipCopy:!0}),this.state[t]=e?-1:2,e&&i&&(this.state[t]=0);const h={};this.queue.forEach(f=>{tE(f.loaded,[r],l),xE(f,t),e&&f.errors.push(e),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(d=>{h[d]||(h[d]={});const m=f.loaded[d];m.length&&m.forEach(x=>{h[d][x]===void 0&&(h[d][x]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(f=>!f.done)}read(t,e,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,l=arguments.length>5?arguments[5]:void 0;if(!t.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:e,fcName:i,tried:s,wait:r,callback:l});return}this.readingCalls++;const h=(d,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const x=this.waitingReads.shift();this.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(d&&m&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,e,i,s+1,r*2,l)},r);return}l(d,m)},f=this.backend[i].bind(this.backend);if(f.length===2){try{const d=f(t,e);d&&typeof d.then=="function"?d.then(m=>h(null,m)).catch(h):h(null,d)}catch(d){h(d)}return}return f(t,e,h)}prepareLoading(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();yt(t)&&(t=this.languageUtils.toResolveHierarchy(t)),yt(e)&&(e=[e]);const r=this.queueLoad(t,e,i,s);if(!r.toLoad.length)return r.pending.length||s(),null;r.toLoad.forEach(l=>{this.loadOne(l)})}load(t,e,i){this.prepareLoading(t,e,{},i)}reload(t,e,i){this.prepareLoading(t,e,{reload:!0},i)}loadOne(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=t.split("|"),s=i[0],r=i[1];this.read(s,r,"read",void 0,void 0,(l,h)=>{l&&this.logger.warn(`${e}loading namespace ${r} for language ${s} failed`,l),!l&&h&&this.logger.log(`${e}loaded namespace ${r} for language ${s}`,h),this.loaded(t,l,h)})}saveMissing(t,e,i,s,r){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)){this.logger.warn(`did not save key "${i}" as the namespace "${e}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const f={...l,isUpdate:r},d=this.backend.create.bind(this.backend);if(d.length<6)try{let m;d.length===5?m=d(t,e,i,s,f):m=d(t,e,i,s),m&&typeof m.then=="function"?m.then(x=>h(null,x)).catch(h):h(null,m)}catch(m){h(m)}else d(t,e,i,s,h,f)}!t||!t[0]||this.store.addResource(t[0],e,i,s)}}}const Nx=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:u=>{let t={};if(typeof u[1]=="object"&&(t=u[1]),yt(u[1])&&(t.defaultValue=u[1]),yt(u[2])&&(t.tDescription=u[2]),typeof u[2]=="object"||typeof u[3]=="object"){const e=u[3]||u[2];Object.keys(e).forEach(i=>{t[i]=e[i]})}return t},interpolation:{escapeValue:!0,format:u=>u,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Dx=u=>(yt(u.ns)&&(u.ns=[u.ns]),yt(u.fallbackLng)&&(u.fallbackLng=[u.fallbackLng]),yt(u.fallbackNS)&&(u.fallbackNS=[u.fallbackNS]),u.supportedLngs&&u.supportedLngs.indexOf("cimode")<0&&(u.supportedLngs=u.supportedLngs.concat(["cimode"])),u),nc=()=>{},vE=u=>{Object.getOwnPropertyNames(Object.getPrototypeOf(u)).forEach(e=>{typeof u[e]=="function"&&(u[e]=u[e].bind(u))})};class Yo extends kc{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Dx(t),this.services={},this.logger=Fi,this.modules={external:[]},vE(this),e&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,e),this;setTimeout(()=>{this.init(t,e)},0)}}init(){var t=this;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof e=="function"&&(i=e,e={}),!e.defaultNS&&e.defaultNS!==!1&&e.ns&&(yt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Nx();this.options={...s,...this.options,...Dx(e)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?Fi.init(r(this.modules.logger),this.options):Fi.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:typeof Intl<"u"&&(m=yE);const x=new Rx(this.options);this.store=new Ex(this.options.resources,this.options);const g=this.services;g.logger=Fi,g.resourceStore=this.store,g.languageUtils=x,g.pluralResolver=new pE(x,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=r(m),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new mE(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new bE(r(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(b){for(var v=arguments.length,S=new Array(v>1?v-1:0),M=1;M<v;M++)S[M-1]=arguments[M];t.emit(b,...S)}),this.modules.languageDetector&&(g.languageDetector=r(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=r(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Mc(this.services,this.options),this.translator.on("*",function(b){for(var v=arguments.length,S=new Array(v>1?v-1:0),M=1;M<v;M++)S[M-1]=arguments[M];t.emit(b,...S)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,i||(i=nc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=function(){return t.store[m](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=function(){return t.store[m](...arguments),t}});const f=zo(),d=()=>{const m=(x,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),f.resolve(g),i(x,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),f}loadResources(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc;const s=yt(t)?t:this.language;if(typeof t=="function"&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const r=[],l=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(d=>{d!=="cimode"&&r.indexOf(d)<0&&r.push(d)})};s?l(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>l(f)),this.options.preload&&this.options.preload.forEach(h=>l(h)),this.services.backendConnector.load(r,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(h)})}else i(null)}reloadResources(t,e,i){const s=zo();return typeof t=="function"&&(i=t,t=void 0),typeof e=="function"&&(i=e,e=void 0),t||(t=this.languages),e||(e=this.options.ns),i||(i=nc),this.services.backendConnector.reload(t,e,r=>{s.resolve(),i(r)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Yb.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let e=0;e<this.languages.length;e++){const i=this.languages[e];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(t,e){var i=this;this.isLanguageChangingTo=t;const s=zo();this.emit("languageChanging",t);const r=f=>{this.language=f,this.languages=this.services.languageUtils.toResolveHierarchy(f),this.resolvedLanguage=void 0,this.setResolvedLanguage(f)},l=(f,d)=>{d?(r(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve(function(){return i.t(...arguments)}),e&&e(f,function(){return i.t(...arguments)})},h=f=>{!t&&!f&&this.services.languageDetector&&(f=[]);const d=yt(f)?f:this.services.languageUtils.getBestMatchFromCodes(f);d&&(this.language||r(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,m=>{l(m,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(t),s}getFixedT(t,e,i){var s=this;const r=function(l,h){let f;if(typeof h!="object"){for(var d=arguments.length,m=new Array(d>2?d-2:0),x=2;x<d;x++)m[x-2]=arguments[x];f=s.options.overloadTranslationOptionHandler([l,h].concat(m))}else f={...h};f.lng=f.lng||r.lng,f.lngs=f.lngs||r.lngs,f.ns=f.ns||r.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||i||r.keyPrefix);const g=s.options.keySeparator||".";let b;return f.keyPrefix&&Array.isArray(l)?b=l.map(v=>`${f.keyPrefix}${g}${v}`):b=f.keyPrefix?`${f.keyPrefix}${g}${l}`:l,s.t(b,f)};return yt(t)?r.lng=t:r.lngs=t,r.ns=e,r.keyPrefix=i,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=e.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(h,f)=>{const d=this.services.backendConnector.state[`${h}|${f}`];return d===-1||d===0||d===2};if(e.precheck){const h=e.precheck(this,l);if(h!==void 0)return h}return!!(this.hasResourceBundle(i,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,t)&&(!s||l(r,t)))}loadNamespaces(t,e){const i=zo();return this.options.ns?(yt(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{i.resolve(),e&&e(s)}),i):(e&&e(),Promise.resolve())}loadLanguages(t,e){const i=zo();yt(t)&&(t=[t]);const s=this.options.preload||[],r=t.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return r.length?(this.options.preload=s.concat(r),this.loadResources(l=>{i.resolve(),e&&e(l)}),i):(e&&e(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const e=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new Rx(Nx());return e.indexOf(i.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new Yo(t,e)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nc;const i=t.forkResourceStore;i&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},r=new Yo(s);return(t.debug!==void 0||t.prefix!==void 0)&&(r.logger=r.logger.clone(t)),["store","services","language"].forEach(h=>{r[h]=this[h]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},i&&(r.store=new Ex(this.store.data,s),r.services.resourceStore=r.store),r.translator=new Mc(r.services,s),r.translator.on("*",function(h){for(var f=arguments.length,d=new Array(f>1?f-1:0),m=1;m<f;m++)d[m-1]=arguments[m];r.emit(h,...d)}),r.init(s,e),r.translator.options=s,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ne=Yo.createInstance();Ne.createInstance=Yo.createInstance;Ne.createInstance;Ne.dir;Ne.init;Ne.loadResources;Ne.reloadResources;Ne.use;Ne.changeLanguage;Ne.getFixedT;Ne.t;Ne.exists;Ne.setDefaultNamespace;Ne.hasLoadedNamespace;Ne.loadNamespaces;Ne.loadLanguages;function SE(u,t){if(!(u instanceof t))throw new TypeError("Cannot call a class as a function")}function Xo(u){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(u)}function wE(u,t){if(Xo(u)!="object"||!u)return u;var e=u[Symbol.toPrimitive];if(e!==void 0){var i=e.call(u,t);if(Xo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(u)}function ME(u){var t=wE(u,"string");return Xo(t)=="symbol"?t:t+""}function _E(u,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(u,ME(i.key),i)}}function AE(u,t,e){return t&&_E(u.prototype,t),Object.defineProperty(u,"prototype",{writable:!1}),u}var Xb=[],TE=Xb.forEach,CE=Xb.slice;function EE(u){return TE.call(CE.call(arguments,1),function(t){if(t)for(var e in t)u[e]===void 0&&(u[e]=t[e])}),u}var Lx=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,zE=function(t,e,i){var s=i||{};s.path=s.path||"/";var r=encodeURIComponent(e),l="".concat(t,"=").concat(r);if(s.maxAge>0){var h=s.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");l+="; Max-Age=".concat(Math.floor(h))}if(s.domain){if(!Lx.test(s.domain))throw new TypeError("option domain is invalid");l+="; Domain=".concat(s.domain)}if(s.path){if(!Lx.test(s.path))throw new TypeError("option path is invalid");l+="; Path=".concat(s.path)}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+="; Expires=".concat(s.expires.toUTCString())}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite){var f=typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite;switch(f){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return l},kx={create:function(t,e,i,s){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+i*60*1e3)),s&&(r.domain=s),document.cookie=zE(t,encodeURIComponent(e),r)},read:function(t){for(var e="".concat(t,"="),i=document.cookie.split(";"),s=0;s<i.length;s++){for(var r=i[s];r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove:function(t){this.create(t,"",-1)}},RE={name:"cookie",lookup:function(t){var e;if(t.lookupCookie&&typeof document<"u"){var i=kx.read(t.lookupCookie);i&&(e=i)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&typeof document<"u"&&kx.create(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain,e.cookieOptions)}},OE={name:"querystring",lookup:function(t){var e;if(typeof window<"u"){var i=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));for(var s=i.substring(1),r=s.split("&"),l=0;l<r.length;l++){var h=r[l].indexOf("=");if(h>0){var f=r[l].substring(0,h);f===t.lookupQuerystring&&(e=r[l].substring(h+1))}}}return e}},Ro=null,Ux=function(){if(Ro!==null)return Ro;try{Ro=window!=="undefined"&&window.localStorage!==null;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ro=!1}return Ro},BE={name:"localStorage",lookup:function(t){var e;if(t.lookupLocalStorage&&Ux()){var i=window.localStorage.getItem(t.lookupLocalStorage);i&&(e=i)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&Ux()&&window.localStorage.setItem(e.lookupLocalStorage,t)}},Oo=null,Fx=function(){if(Oo!==null)return Oo;try{Oo=window!=="undefined"&&window.sessionStorage!==null;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Oo=!1}return Oo},NE={name:"sessionStorage",lookup:function(t){var e;if(t.lookupSessionStorage&&Fx()){var i=window.sessionStorage.getItem(t.lookupSessionStorage);i&&(e=i)}return e},cacheUserLanguage:function(t,e){e.lookupSessionStorage&&Fx()&&window.sessionStorage.setItem(e.lookupSessionStorage,t)}},DE={name:"navigator",lookup:function(t){var e=[];if(typeof navigator<"u"){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)e.push(navigator.languages[i]);navigator.userLanguage&&e.push(navigator.userLanguage),navigator.language&&e.push(navigator.language)}return e.length>0?e:void 0}},LE={name:"htmlTag",lookup:function(t){var e,i=t.htmlTag||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(e=i.getAttribute("lang")),e}},kE={name:"path",lookup:function(t){var e;if(typeof window<"u"){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if(typeof t.lookupFromPathIndex=="number"){if(typeof i[t.lookupFromPathIndex]!="string")return;e=i[t.lookupFromPathIndex].replace("/","")}else e=i[0].replace("/","")}return e}},UE={name:"subdomain",lookup:function(t){var e=typeof t.lookupFromSubdomainIndex=="number"?t.lookupFromSubdomainIndex+1:1,i=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[e]}};function FE(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Zb=function(){function u(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};SE(this,u),this.type="languageDetector",this.detectors={},this.init(t,e)}return AE(u,[{key:"init",value:function(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=EE(i,this.options||{},FE()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(RE),this.addDetector(OE),this.addDetector(BE),this.addDetector(NE),this.addDetector(DE),this.addDetector(LE),this.addDetector(kE),this.addDetector(UE)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var i=this;e||(e=this.options.order);var s=[];return e.forEach(function(r){if(i.detectors[r]){var l=i.detectors[r].lookup(i.options);l&&typeof l=="string"&&(l=[l]),l&&(s=s.concat(l))}}),this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}},{key:"cacheUserLanguage",value:function(e,i){var s=this;i||(i=this.options.caches),i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||i.forEach(function(r){s.detectors[r]&&s.detectors[r].cacheUserLanguage(e,s.options)}))}}]),u}();Zb.type="languageDetector";const IE={en:"en",english:"english",visit:"visit",code:"code","article #1":"article #1","article #2":"article #2",present:"Present","open link in new tab":"open link in new tab","change the language":"change the language","scroll to project":"scroll to project","stop viewing model":"stop viewing model","inspect island model":"inspect island model"},HE={translation:IE},VE={en:"es",english:"espanol",visit:"visitar",code:"cdigo","article #1":"artculo #1","article #2":"artculo #2",present:"Presente","open link in new tab":"abrir en una nueva ficha","change the language":"cambiar de lengua","scroll to project":"desplzate al proyecto","stop viewing model":"stop viewing model","inspect island model":"inspect island model"},Ix={translation:VE},PE={en:"",english:"",visit:"",code:"","article #1":" #1","article #2":" #2",present:"","open link in new tab":"","change the language":"","scroll to project":"","stop viewing model":"stop viewing model","inspect island model":"look at island model"},qE={translation:PE},GE={en:HE,es:Ix,"es-ES":Ix,zh:qE},YE={order:["localStorage","navigator"],lookupLocalStorage:"i18n",caches:["localStorage"],checkWhitelist:!0};Ne.use(Zb).use(L_).init({resources:GE,detection:YE,fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});console.log("v.4.0.0");const XE=document.getElementById("root"),ZE=ww.createRoot(XE);ZE.render(Ut.jsx(UM,{basename:"/",children:Ut.jsx(QC,{})}));export{s2 as $,Iz as A,fb as B,St as C,nR as D,Uz as E,ir as F,kz as G,a2 as H,Kn as I,r2 as J,o2 as K,wi as L,Pi as M,k3 as N,Ib as O,Si as P,u2 as Q,hb as R,yp as S,uR as T,db as U,B as V,Cc as W,e2 as X,i2 as Y,n2 as Z,nb as _,J as a,p3 as a$,pp as a0,c2 as a1,h2 as a2,Io as a3,f2 as a4,d2 as a5,nd as a6,h1 as a7,pb as a8,mb as a9,I2 as aA,H2 as aB,V2 as aC,P2 as aD,q2 as aE,G2 as aF,Y2 as aG,X2 as aH,Z2 as aI,j2 as aJ,l2 as aK,yb as aL,ss as aM,pR as aN,Ho as aO,f1 as aP,Ya as aQ,WT as aR,$3 as aS,JT as aT,i3 as aU,s3 as aV,Ri as aW,u1 as aX,r1 as aY,c3 as aZ,h3 as a_,p2 as aa,m2 as ab,g2 as ac,y2 as ad,x2 as ae,b2 as af,v2 as ag,ad as ah,S2 as ai,w2 as aj,M2 as ak,_2 as al,A2 as am,T2 as an,C2 as ao,E2 as ap,z2 as aq,R2 as ar,O2 as as,B2 as at,N2 as au,D2 as av,L2 as aw,k2 as ax,U2 as ay,F2 as az,dp as b,d3 as b$,m3 as b0,g3 as b1,o1 as b2,w3 as b3,v3 as b4,x3 as b5,y3 as b6,l1 as b7,S3 as b8,b3 as b9,ez as bA,or as bB,a1 as bC,Jz as bD,u3 as bE,l3 as bF,o3 as bG,r3 as bH,QE as bI,$E as bJ,KE as bK,PC as bL,ye as bM,Hi as bN,mA as bO,DA as bP,NA as bQ,Nz as bR,xb as bS,N3 as bT,B3 as bU,O3 as bV,R3 as bW,z3 as bX,E3 as bY,C3 as bZ,f3 as b_,M3 as ba,_3 as bb,A3 as bc,T3 as bd,Qd as be,Ui as bf,$d as bg,$_ as bh,K_ as bi,t2 as bj,gz as bk,Mz as bl,yz as bm,bz as bn,xz as bo,wz as bp,vz as bq,Sz as br,oT as bs,zc as bt,Np as bu,Wz as bv,W_ as bw,J_ as bx,Qz as by,wA as bz,ja as c,t3 as c$,d1 as c0,V3 as c1,q3 as c2,P3 as c3,H3 as c4,I3 as c5,F3 as c6,U3 as c7,n3 as c8,hc as c9,wb as cA,ur as cB,TR as cC,Ye as cD,UR as cE,kR as cF,bC as cG,ts as cH,xp as cI,LR as cJ,iR as cK,Cp as cL,uT as cM,Ep as cN,SC as cO,Ub as cP,tR as cQ,eR as cR,_p as cS,rR as cT,zp as cU,PR as cV,VA as cW,oR as cX,Ab as cY,yT as cZ,eC as c_,MA as ca,bp as cb,L3 as cc,D3 as cd,hp as ce,gb as cf,p1 as cg,pC as ch,LC as ci,xc as cj,aR as ck,bR as cl,xR as cm,sR as cn,lT as co,IR as cp,c1 as cq,MC as cr,yR as cs,Hb as ct,mR as cu,fR as cv,HR as cw,$2 as cx,e3 as cy,sT as cz,j_ as d,yC as d$,qi as d0,bT as d1,Qo as d2,AR as d3,bn as d4,lR as d5,Pz as d6,az as d7,oz as d8,No as d9,Bp as dA,hR as dB,bc as dC,xA as dD,sz as dE,rz as dF,Vo as dG,xC as dH,SR as dI,WA as dJ,Xz as dK,Zz as dL,qz as dM,wp as dN,nr as dO,Dc as dP,oc as dQ,Kd as dR,sd as dS,lz as dT,Ca as dU,Gi as dV,GA as dW,Rc as dX,fz as dY,cz as dZ,Gs as d_,Z_ as da,dC as db,DR as dc,iC as dd,Rp as de,Rz as df,_z as dg,Cz as dh,vT as di,Ap as dj,hz as dk,Op as dl,is as dm,jz as dn,rt as dp,Sp as dq,vp as dr,Kz as ds,wR as dt,Bz as du,mz as dv,dz as dw,BR as dx,oC as dy,OR as dz,Oi as e,Dp as e$,Vs as e0,CR as e1,Xe as e2,Tb as e3,xT as e4,$T as e5,aT as e6,wn as e7,kb as e8,Z3 as e9,cR as eA,Bc as eB,mc as eC,FR as eD,hC as eE,RR as eF,rT as eG,_b as eH,NR as eI,qs as eJ,gR as eK,Ht as eL,AC as eM,Cb as eN,Eb as eO,ai as eP,Lc as eQ,nC as eR,K3 as eS,j3 as eT,tz as eU,qT as eV,Jo as eW,MR as eX,mC as eY,SA as eZ,nz as e_,X3 as ea,ri as eb,rx as ec,Fb as ed,W2 as ee,Q2 as ef,J2 as eg,WE as eh,Ie as ei,Pp as ej,Dz as ek,Pb as el,jT as em,QT as en,ZT as eo,YT as ep,GT as eq,Nb as er,XT as es,Y3 as et,G3 as eu,uz as ev,mp as ew,pz as ex,gc as ey,Vt as ez,lr as f,PA as f0,PT as f1,er as f2,Lp as f3,VR as f4,vn as f5,Mp as f6,zR as f7,XA as f8,$a as f9,Ip as fA,fp as fB,Gz as fC,Yz as fD,Vb as fE,vR as fF,yc as fG,$z as fH,Vz as fI,Hz as fJ,GR as fK,cc as fL,VT as fM,lc as fN,Wa as fO,Ja as fP,iz as fQ,sr as fR,Hx as fS,qd as fT,gw as fU,G_ as fV,ww as fW,sb as fX,jE as fY,u_ as fZ,w_ as f_,Fe as fa,Nc as fb,_R as fc,gC as fd,zb as fe,uC as ff,ER as fg,qA as fh,vb as fi,zz as fj,uc as fk,Tz as fl,dR as fm,Oz as fn,Az as fo,Ez as fp,cr as fq,JE as fr,kp as fs,qR as ft,Up as fu,Fp as fv,ni as fw,Q3 as fx,J3 as fy,W3 as fz,Ec as g,zt as h,Kt as i,Ut as j,Q_ as k,ob as l,UA as m,X_ as n,Lz as o,vi as p,Me as q,P as r,Mb as s,At as t,I_ as u,Tc as v,ii as w,a3 as x,Jd as y,Fz as z};
