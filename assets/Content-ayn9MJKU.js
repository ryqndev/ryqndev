import{r as n,b as je,V as H,D as we,O as oe,P as ie,a as Ee,j as d,c as Se,l as z,_ as D}from"./index--e1YOuSD.js";import{P as se}from"./Home-v9YEbbFd.js";import{b as Re,a as We,_ as Ce}from"./index-0c28a0fd.esm-Yk54KvAE.js";const W=new H,k=new H,Oe=new H;function Te(e,t,r){const i=W.setFromMatrixPosition(e.matrixWorld);i.project(t);const o=r.width/2,c=r.height/2;return[i.x*o+o,-(i.y*c)+c]}function $e(e,t){const r=W.setFromMatrixPosition(e.matrixWorld),i=k.setFromMatrixPosition(t.matrixWorld),o=r.sub(i),c=t.getWorldDirection(Oe);return o.angleTo(c)>Math.PI/2}function Ve(e,t,r,i){const o=W.setFromMatrixPosition(e.matrixWorld),c=o.clone();c.project(t),r.setFromCamera(c,t);const a=r.intersectObjects(i,!0);if(a.length){const _=a[0].distance;return o.distanceTo(r.ray.origin)<_}return!0}function Ae(e,t){if(t instanceof oe)return t.zoom;if(t instanceof ie){const r=W.setFromMatrixPosition(e.matrixWorld),i=k.setFromMatrixPosition(t.matrixWorld),o=t.fov*Math.PI/180,c=r.distanceTo(i);return 1/(2*Math.tan(o/2)*c)}else return 1}function He(e,t,r){if(t instanceof ie||t instanceof oe){const i=W.setFromMatrixPosition(e.matrixWorld),o=k.setFromMatrixPosition(t.matrixWorld),c=i.distanceTo(o),a=(r[1]-r[0])/(t.far-t.near),_=r[1]-a*t.far;return Math.round(a*c+_)}}const B=e=>Math.abs(e)<1e-10?0:e;function ce(e,t,r=""){let i="matrix3d(";for(let o=0;o!==16;o++)i+=B(t[o]*e.elements[o])+(o!==15?",":")");return r+i}const ze=(e=>t=>ce(t,e))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),De=(e=>(t,r)=>ce(t,e(r),"translate(-50%,-50%)"))(e=>[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1]);function Le(e){return e&&typeof e=="object"&&"current"in e}const Fe=n.forwardRef(({children:e,eps:t=.001,style:r,className:i,prepend:o,center:c,fullscreen:a,portal:_,distanceFactor:E,sprite:ae=!1,transform:v=!1,occlude:l,onOcclude:G,castShadow:le,receiveShadow:ue,material:me,geometry:J,zIndexRange:C=[16777271,0],calculatePosition:U=Te,as:de="div",wrapperClass:L,pointerEvents:q="auto",...p},K)=>{const{gl:Q,camera:u,scene:X,size:h,raycaster:he,events:fe,viewport:xe}=Re(),[m]=n.useState(()=>document.createElement(de)),F=n.useRef(),x=n.useRef(null),Y=n.useRef(0),O=n.useRef([0,0]),S=n.useRef(null),N=n.useRef(null),j=(_==null?void 0:_.current)||fe.connected||Q.domElement.parentNode,y=n.useRef(null),T=n.useRef(!1),$=n.useMemo(()=>l&&l!=="blending"||Array.isArray(l)&&l.length&&Le(l[0]),[l]);n.useLayoutEffect(()=>{const f=Q.domElement;l&&l==="blending"?(f.style.zIndex=`${Math.floor(C[0]/2)}`,f.style.position="absolute",f.style.pointerEvents="none"):(f.style.zIndex=null,f.style.position=null,f.style.pointerEvents=null)},[l]),n.useLayoutEffect(()=>{if(x.current){const f=F.current=je(m);if(X.updateMatrixWorld(),v)m.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const s=U(x.current,u,h);m.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${s[0]}px,${s[1]}px,0);transform-origin:0 0;`}return j&&(o?j.prepend(m):j.appendChild(m)),()=>{j&&j.removeChild(m),f.unmount()}}},[j,v]),n.useLayoutEffect(()=>{L&&(m.className=L)},[L]);const ee=n.useMemo(()=>v?{position:"absolute",top:0,left:0,width:h.width,height:h.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:c?"translate3d(-50%,-50%,0)":"none",...a&&{top:-h.height/2,left:-h.width/2,width:h.width,height:h.height},...r},[r,c,a,h,v]),ve=n.useMemo(()=>({position:"absolute",pointerEvents:q}),[q]);n.useLayoutEffect(()=>{if(T.current=!1,v){var f;(f=F.current)==null||f.render(n.createElement("div",{ref:S,style:ee},n.createElement("div",{ref:N,style:ve},n.createElement("div",{ref:K,className:i,style:r,children:e}))))}else{var s;(s=F.current)==null||s.render(n.createElement("div",{ref:K,style:ee,className:i,children:e}))}});const w=n.useRef(!0);We(f=>{if(x.current){u.updateMatrixWorld(),x.current.updateWorldMatrix(!0,!1);const s=v?O.current:U(x.current,u,h);if(v||Math.abs(Y.current-u.zoom)>t||Math.abs(O.current[0]-s[0])>t||Math.abs(O.current[1]-s[1])>t){const P=$e(x.current,u);let g=!1;$&&(Array.isArray(l)?g=l.map(b=>b.current):l!=="blending"&&(g=[X]));const R=w.current;if(g){const b=Ve(x.current,u,he,g);w.current=b&&!P}else w.current=!P;R!==w.current&&(G?G(!w.current):m.style.display=w.current?"block":"none");const V=Math.floor(C[0]/2),pe=l?$?[C[0],V]:[V-1,0]:C;if(m.style.zIndex=`${He(x.current,u,pe)}`,v){const[b,ne]=[h.width/2,h.height/2],I=u.projectionMatrix.elements[5]*ne,{isOrthographicCamera:re,top:ge,left:ye,bottom:Pe,right:be}=u,Me=ze(u.matrixWorldInverse),_e=re?`scale(${I})translate(${B(-(be+ye)/2)}px,${B((ge+Pe)/2)}px)`:`translateZ(${I}px)`;let M=x.current.matrixWorld;ae&&(M=u.matrixWorldInverse.clone().transpose().copyPosition(M).scale(x.current.scale),M.elements[3]=M.elements[7]=M.elements[11]=0,M.elements[15]=1),m.style.width=h.width+"px",m.style.height=h.height+"px",m.style.perspective=re?"":`${I}px`,S.current&&N.current&&(S.current.style.transform=`${_e}${Me}translate(${b}px,${ne}px)`,N.current.style.transform=De(M,1/((E||10)/400)))}else{const b=E===void 0?1:Ae(x.current,u)*E;m.style.transform=`translate3d(${s[0]}px,${s[1]}px,0) scale(${b})`}O.current=s,Y.current=u.zoom}}if(!$&&y.current&&!T.current)if(v){if(S.current){const s=S.current.children[0];if(s!=null&&s.clientWidth&&s!=null&&s.clientHeight){const{isOrthographicCamera:P}=u;if(P||J)p.scale&&(Array.isArray(p.scale)?p.scale instanceof H?y.current.scale.copy(p.scale.clone().divideScalar(1)):y.current.scale.set(1/p.scale[0],1/p.scale[1],1/p.scale[2]):y.current.scale.setScalar(1/p.scale));else{const g=(E||10)/400,R=s.clientWidth*g,V=s.clientHeight*g;y.current.scale.set(R,V,1)}T.current=!0}}}else{const s=m.children[0];if(s!=null&&s.clientWidth&&s!=null&&s.clientHeight){const P=1/xe.factor,g=s.clientWidth*P,R=s.clientHeight*P;y.current.scale.set(g,R,1),T.current=!0}y.current.lookAt(f.camera.position)}});const te=n.useMemo(()=>({vertexShader:v?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[v]);return n.createElement("group",Ce({},p,{ref:x}),l&&!$&&n.createElement("mesh",{castShadow:le,receiveShadow:ue,ref:y},J||n.createElement("planeGeometry",null),me||n.createElement("shaderMaterial",{side:we,vertexShader:te.vertexShader,fragmentShader:te.fragmentShader})))}),Ne="_container_12xj1_1",Z={container:Ne},Ie="_container_rv0bs_2",Ze={container:Ie},Be=e=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000",...e},n.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),n.createElement("path",{d:"M18 19H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h5c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.11 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1v5c0 .55-.45 1-1 1zM14 4c0 .55.45 1 1 1h2.59l-9.13 9.13c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L19 6.41V9c0 .55.45 1 1 1s1-.45 1-1V3h-6c-.55 0-1 .45-1 1z"})),ke="_container_1l319_1",Ge="_selected_1l319_10",Je="_content_1l319_13",Ue="_item_1l319_22",A={container:ke,selected:Ge,content:Je,item:Ue},qe=n.memo(function({data:t,selected:r,className:i,selectedClassName:o}){const{t:c}=Ee();return d.jsx("div",{className:Se(A.container,i,r&&A.selected,r&&o),children:d.jsxs("div",{className:A.content,children:[(t==null?void 0:t.image)&&d.jsx("img",{src:t.image.src,alt:t.alt}),t.links.map(a=>d.jsxs("a",{target:"_blank",rel:"noopener noreferrer",href:a.url,className:A.item,"data-mouse-hover":"link","data-mouse-hover-text":"open link in new tab",children:[c(a.title),!(a!=null&&a.internal)&&d.jsx(Be,{})]},a.title))]})})});function Ke({data:e,selected:t}){return window.innerWidth>768&&d.jsx(Fe,{className:Ze.container,children:d.jsx(qe,{data:e,selected:t})})}const{Zotbot:Qe}=z(()=>D(()=>import("./Zotbot-OcOPKd6c.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),{DrivableZotbot:Xe}=z(()=>D(()=>import("./DrivableZotbot-7JtOvgqn.js"),__vite__mapDeps([9,1,2,3,4,5,7,8]))),{UCI:Ye}=z(()=>D(()=>import("./UCI-587I7YJG.js"),__vite__mapDeps([10,1,2,8,4]))),{ThreeContainer:et}=z(()=>D(()=>import("./ThreeContainer-GyT8brJC.js"),__vite__mapDeps([11,1,2,12,4,13,14,15,7]))),st=n.memo(function({theme:t,project:r,children:i,projectsRef:o}){return d.jsx("div",{className:Z.content,style:{height:(se.length-1)*200+"vh"},ref:o,children:d.jsxs("div",{className:Z.container,children:[d.jsxs(et,{className:Z.container,theme:t,project:r,children:[se.map((c,a)=>d.jsx(Ke,{data:c,selected:r===a},c.name)),d.jsx(Qe,{}),d.jsx(Xe,{}),d.jsx(Ye,{})]}),i]})})});export{st as Content};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Zotbot-OcOPKd6c.js","assets/index--e1YOuSD.js","assets/index-5raYKndb.css","assets/GLTFLoader-ifG-WhzA.js","assets/index-0c28a0fd.esm-Yk54KvAE.js","assets/react-three-rapier.esm-x-U26U5W.js","assets/utils-PXv1eko7.js","assets/KeyboardControls--qU-BtBQ.js","assets/useGLTF-DZE3mHZu.js","assets/DrivableZotbot-7JtOvgqn.js","assets/UCI-587I7YJG.js","assets/ThreeContainer-GyT8brJC.js","assets/CameraControls-ZlO5Nr09.js","assets/Home-v9YEbbFd.js","assets/Home-fskrijm4.css","assets/CameraControls-MQjibyQs.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}