const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-B4ByWW2I.js","assets/Home-UqTO16O8.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function w0(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var wh={exports:{}},co={},Sh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Mv(){if(sg)return Ae;sg=1;var l=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function m(F){return F===null||typeof F!="object"?null:(F=g&&F[g]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,S={};function b(F,V,pe){this.props=F,this.context=V,this.refs=S,this.updater=pe||x}b.prototype.isReactComponent={},b.prototype.setState=function(F,V){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,V,"setState")},b.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function _(){}_.prototype=b.prototype;function C(F,V,pe){this.props=F,this.context=V,this.refs=S,this.updater=pe||x}var A=C.prototype=new _;A.constructor=C,v(A,b.prototype),A.isPureReactComponent=!0;var k=Array.isArray,P=Object.prototype.hasOwnProperty,E={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function N(F,V,pe){var be,Te={},Ie=null,Ee=null;if(V!=null)for(be in V.ref!==void 0&&(Ee=V.ref),V.key!==void 0&&(Ie=""+V.key),V)P.call(V,be)&&!R.hasOwnProperty(be)&&(Te[be]=V[be]);var Pe=arguments.length-2;if(Pe===1)Te.children=pe;else if(1<Pe){for(var Ue=Array(Pe),qe=0;qe<Pe;qe++)Ue[qe]=arguments[qe+2];Te.children=Ue}if(F&&F.defaultProps)for(be in Pe=F.defaultProps,Pe)Te[be]===void 0&&(Te[be]=Pe[be]);return{$$typeof:l,type:F,key:Ie,ref:Ee,props:Te,_owner:E.current}}function W(F,V){return{$$typeof:l,type:F.type,key:V,ref:F.ref,props:F.props,_owner:F._owner}}function G(F){return typeof F=="object"&&F!==null&&F.$$typeof===l}function K(F){var V={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(pe){return V[pe]})}var he=/\/+/g;function de(F,V){return typeof F=="object"&&F!==null&&F.key!=null?K(""+F.key):V.toString(36)}function fe(F,V,pe,be,Te){var Ie=typeof F;(Ie==="undefined"||Ie==="boolean")&&(F=null);var Ee=!1;if(F===null)Ee=!0;else switch(Ie){case"string":case"number":Ee=!0;break;case"object":switch(F.$$typeof){case l:case e:Ee=!0}}if(Ee)return Ee=F,Te=Te(Ee),F=be===""?"."+de(Ee,0):be,k(Te)?(pe="",F!=null&&(pe=F.replace(he,"$&/")+"/"),fe(Te,V,pe,"",function(qe){return qe})):Te!=null&&(G(Te)&&(Te=W(Te,pe+(!Te.key||Ee&&Ee.key===Te.key?"":(""+Te.key).replace(he,"$&/")+"/")+F)),V.push(Te)),1;if(Ee=0,be=be===""?".":be+":",k(F))for(var Pe=0;Pe<F.length;Pe++){Ie=F[Pe];var Ue=be+de(Ie,Pe);Ee+=fe(Ie,V,pe,Ue,Te)}else if(Ue=m(F),typeof Ue=="function")for(F=Ue.call(F),Pe=0;!(Ie=F.next()).done;)Ie=Ie.value,Ue=be+de(Ie,Pe++),Ee+=fe(Ie,V,pe,Ue,Te);else if(Ie==="object")throw V=String(F),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Ee}function _e(F,V,pe){if(F==null)return F;var be=[],Te=0;return fe(F,be,"","",function(Ie){return V.call(pe,Ie,Te++)}),be}function we(F){if(F._status===-1){var V=F._result;V=V(),V.then(function(pe){(F._status===0||F._status===-1)&&(F._status=1,F._result=pe)},function(pe){(F._status===0||F._status===-1)&&(F._status=2,F._result=pe)}),F._status===-1&&(F._status=0,F._result=V)}if(F._status===1)return F._result.default;throw F._result}var Ce={current:null},j={transition:null},Z={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:j,ReactCurrentOwner:E};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:_e,forEach:function(F,V,pe){_e(F,function(){V.apply(this,arguments)},pe)},count:function(F){var V=0;return _e(F,function(){V++}),V},toArray:function(F){return _e(F,function(V){return V})||[]},only:function(F){if(!G(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ae.Component=b,Ae.Fragment=t,Ae.Profiler=i,Ae.PureComponent=C,Ae.StrictMode=n,Ae.Suspense=h,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ae.act=J,Ae.cloneElement=function(F,V,pe){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var be=v({},F.props),Te=F.key,Ie=F.ref,Ee=F._owner;if(V!=null){if(V.ref!==void 0&&(Ie=V.ref,Ee=E.current),V.key!==void 0&&(Te=""+V.key),F.type&&F.type.defaultProps)var Pe=F.type.defaultProps;for(Ue in V)P.call(V,Ue)&&!R.hasOwnProperty(Ue)&&(be[Ue]=V[Ue]===void 0&&Pe!==void 0?Pe[Ue]:V[Ue])}var Ue=arguments.length-2;if(Ue===1)be.children=pe;else if(1<Ue){Pe=Array(Ue);for(var qe=0;qe<Ue;qe++)Pe[qe]=arguments[qe+2];be.children=Pe}return{$$typeof:l,type:F.type,key:Te,ref:Ie,props:be,_owner:Ee}},Ae.createContext=function(F){return F={$$typeof:a,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:s,_context:F},F.Consumer=F},Ae.createElement=N,Ae.createFactory=function(F){var V=N.bind(null,F);return V.type=F,V},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(F){return{$$typeof:u,render:F}},Ae.isValidElement=G,Ae.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:we}},Ae.memo=function(F,V){return{$$typeof:d,type:F,compare:V===void 0?null:V}},Ae.startTransition=function(F){var V=j.transition;j.transition={};try{F()}finally{j.transition=V}},Ae.unstable_act=J,Ae.useCallback=function(F,V){return Ce.current.useCallback(F,V)},Ae.useContext=function(F){return Ce.current.useContext(F)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(F){return Ce.current.useDeferredValue(F)},Ae.useEffect=function(F,V){return Ce.current.useEffect(F,V)},Ae.useId=function(){return Ce.current.useId()},Ae.useImperativeHandle=function(F,V,pe){return Ce.current.useImperativeHandle(F,V,pe)},Ae.useInsertionEffect=function(F,V){return Ce.current.useInsertionEffect(F,V)},Ae.useLayoutEffect=function(F,V){return Ce.current.useLayoutEffect(F,V)},Ae.useMemo=function(F,V){return Ce.current.useMemo(F,V)},Ae.useReducer=function(F,V,pe){return Ce.current.useReducer(F,V,pe)},Ae.useRef=function(F){return Ce.current.useRef(F)},Ae.useState=function(F){return Ce.current.useState(F)},Ae.useSyncExternalStore=function(F,V,pe){return Ce.current.useSyncExternalStore(F,V,pe)},Ae.useTransition=function(){return Ce.current.useTransition()},Ae.version="18.3.1",Ae}var og;function vs(){return og||(og=1,Sh.exports=Mv()),Sh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function _v(){if(ag)return co;ag=1;var l=vs(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,h,d){var p,g={},m=null,x=null;d!==void 0&&(m=""+d),h.key!==void 0&&(m=""+h.key),h.ref!==void 0&&(x=h.ref);for(p in h)n.call(h,p)&&!s.hasOwnProperty(p)&&(g[p]=h[p]);if(u&&u.defaultProps)for(p in h=u.defaultProps,h)g[p]===void 0&&(g[p]=h[p]);return{$$typeof:e,type:u,key:m,ref:x,props:g,_owner:i.current}}return co.Fragment=t,co.jsx=a,co.jsxs=a,co}var lg;function Cv(){return lg||(lg=1,wh.exports=_v()),wh.exports}var Be=Cv();function Av(l,e,t){const n=/^localhost$|^127(?:\.[0-9]+){0,2}\.[0-9]+$|^(?:0*:)*?:?0*1$/.test(location.hostname)||location.protocol==="file:";if(!e.trackLocalhost&&n)return console.warn("[Plausible] Ignoring event because website is running locally");try{if(window.localStorage.plausible_ignore==="true")return console.warn('[Plausible] Ignoring event because "plausible_ignore" is set to "true" in localStorage')}catch{}const i={n:l,u:e.url,d:e.domain,r:e.referrer,w:e.deviceWidth,h:e.hashMode?1:0,p:t&&t.props?JSON.stringify(t.props):void 0},s=new XMLHttpRequest;s.open("POST",`${e.apiHost}/api/event`,!0),s.setRequestHeader("Content-Type","text/plain"),s.send(JSON.stringify(i)),s.onreadystatechange=()=>{s.readyState===4&&t&&t.callback&&t.callback()}}function kv(l){const e=()=>({hashMode:!1,trackLocalhost:!1,url:location.href,domain:location.hostname,referrer:document.referrer||null,deviceWidth:window.innerWidth,apiHost:"https://plausible.io",...l}),t=(a,u,h)=>{Av(a,{...e(),...h},u)},n=(a,u)=>{t("pageview",u,a)};return{trackEvent:t,trackPageview:n,enableAutoPageviews:()=>{const a=()=>n(),u=history.pushState;return u&&(history.pushState=function(h,d,p){u.apply(this,[h,d,p]),a()},addEventListener("popstate",a)),l&&l.hashMode&&addEventListener("hashchange",a),n(),function(){u&&(history.pushState=u,removeEventListener("popstate",a)),l&&l.hashMode&&removeEventListener("hashchange",a)}},enableAutoOutboundTracking:(a=document,u={subtree:!0,childList:!0,attributes:!0,attributeFilter:["href"]})=>{function h(x){t("Outbound Link: Click",{props:{url:this.href}}),typeof process<"u"&&process,setTimeout(()=>{location.href=this.href},150),x.preventDefault()}const d=new Set;function p(x){x instanceof HTMLAnchorElement?x.host!==location.host&&(x.addEventListener("click",h),d.add(x)):"querySelectorAll"in x&&x.querySelectorAll("a").forEach(p)}function g(x){x instanceof HTMLAnchorElement?(x.removeEventListener("click",h),d.delete(x)):"querySelectorAll"in x&&x.querySelectorAll("a").forEach(g)}const m=new MutationObserver(x=>{x.forEach(v=>{v.type==="attributes"?(g(v.target),p(v.target)):v.type==="childList"&&(v.addedNodes.forEach(p),v.removedNodes.forEach(g))})});return a.querySelectorAll("a").forEach(p),m.observe(a,u),function(){d.forEach(v=>{v.removeEventListener("click",h)}),d.clear(),m.disconnect()}}}}var rl={},bh={exports:{}},Nt={},Mh={exports:{}},_h={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function Tv(){return ug||(ug=1,function(l){function e(j,Z){var J=j.length;j.push(Z);e:for(;0<J;){var F=J-1>>>1,V=j[F];if(0<i(V,Z))j[F]=Z,j[J]=V,J=F;else break e}}function t(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var Z=j[0],J=j.pop();if(J!==Z){j[0]=J;e:for(var F=0,V=j.length,pe=V>>>1;F<pe;){var be=2*(F+1)-1,Te=j[be],Ie=be+1,Ee=j[Ie];if(0>i(Te,J))Ie<V&&0>i(Ee,Te)?(j[F]=Ee,j[Ie]=J,F=Ie):(j[F]=Te,j[be]=J,F=be);else if(Ie<V&&0>i(Ee,J))j[F]=Ee,j[Ie]=J,F=Ie;else break e}}return Z}function i(j,Z){var J=j.sortIndex-Z.sortIndex;return J!==0?J:j.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;l.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();l.unstable_now=function(){return a.now()-u}}var h=[],d=[],p=1,g=null,m=3,x=!1,v=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(j){for(var Z=t(d);Z!==null;){if(Z.callback===null)n(d);else if(Z.startTime<=j)n(d),Z.sortIndex=Z.expirationTime,e(h,Z);else break;Z=t(d)}}function k(j){if(S=!1,A(j),!v)if(t(h)!==null)v=!0,we(P);else{var Z=t(d);Z!==null&&Ce(k,Z.startTime-j)}}function P(j,Z){v=!1,S&&(S=!1,_(N),N=-1),x=!0;var J=m;try{for(A(Z),g=t(h);g!==null&&(!(g.expirationTime>Z)||j&&!K());){var F=g.callback;if(typeof F=="function"){g.callback=null,m=g.priorityLevel;var V=F(g.expirationTime<=Z);Z=l.unstable_now(),typeof V=="function"?g.callback=V:g===t(h)&&n(h),A(Z)}else n(h);g=t(h)}if(g!==null)var pe=!0;else{var be=t(d);be!==null&&Ce(k,be.startTime-Z),pe=!1}return pe}finally{g=null,m=J,x=!1}}var E=!1,R=null,N=-1,W=5,G=-1;function K(){return!(l.unstable_now()-G<W)}function he(){if(R!==null){var j=l.unstable_now();G=j;var Z=!0;try{Z=R(!0,j)}finally{Z?de():(E=!1,R=null)}}else E=!1}var de;if(typeof C=="function")de=function(){C(he)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,_e=fe.port2;fe.port1.onmessage=he,de=function(){_e.postMessage(null)}}else de=function(){b(he,0)};function we(j){R=j,E||(E=!0,de())}function Ce(j,Z){N=b(function(){j(l.unstable_now())},Z)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(j){j.callback=null},l.unstable_continueExecution=function(){v||x||(v=!0,we(P))},l.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<j?Math.floor(1e3/j):5},l.unstable_getCurrentPriorityLevel=function(){return m},l.unstable_getFirstCallbackNode=function(){return t(h)},l.unstable_next=function(j){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var J=m;m=Z;try{return j()}finally{m=J}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var J=m;m=j;try{return Z()}finally{m=J}},l.unstable_scheduleCallback=function(j,Z,J){var F=l.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?F+J:F):J=F,j){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=J+V,j={id:p++,callback:Z,priorityLevel:j,startTime:J,expirationTime:V,sortIndex:-1},J>F?(j.sortIndex=J,e(d,j),t(h)===null&&j===t(d)&&(S?(_(N),N=-1):S=!0,Ce(k,J-F))):(j.sortIndex=V,e(h,j),v||x||(v=!0,we(P))),j},l.unstable_shouldYield=K,l.unstable_wrapCallback=function(j){var Z=m;return function(){var J=m;m=Z;try{return j.apply(this,arguments)}finally{m=J}}}}(_h)),_h}var cg;function Ev(){return cg||(cg=1,Mh.exports=Tv()),Mh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function Iv(){if(hg)return Nt;hg=1;var l=vs(),e=Ev();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(r,o){a(r,o),a(r+"Capture",o)}function a(r,o){for(i[r]=o,r=0;r<o.length;r++)n.add(o[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function m(r){return h.call(g,r)?!0:h.call(p,r)?!1:d.test(r)?g[r]=!0:(p[r]=!0,!1)}function x(r,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function v(r,o,c,f){if(o===null||typeof o>"u"||x(r,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(r,o,c,f,y,w,M){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=r,this.type=o,this.sanitizeURL=w,this.removeEmptyString=M}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){b[r]=new S(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];b[o]=new S(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){b[r]=new S(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){b[r]=new S(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){b[r]=new S(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){b[r]=new S(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){b[r]=new S(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){b[r]=new S(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){b[r]=new S(r,5,!1,r.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(_,C);b[o]=new S(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(_,C);b[o]=new S(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(_,C);b[o]=new S(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){b[r]=new S(r,1,!1,r.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){b[r]=new S(r,1,!1,r.toLowerCase(),null,!0,!0)});function A(r,o,c,f){var y=b.hasOwnProperty(o)?b[o]:null;(y!==null?y.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(v(o,c,y,f)&&(c=null),f||y===null?m(o)&&(c===null?r.removeAttribute(o):r.setAttribute(o,""+c)):y.mustUseProperty?r[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,f=y.attributeNamespace,c===null?r.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?r.setAttributeNS(f,o,c):r.setAttribute(o,c))))}var k=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),K=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),j=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var J=Object.assign,F;function V(r){if(F===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+r}var pe=!1;function be(r,o){if(!r||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(D){var f=D}Reflect.construct(r,[],o)}else{try{o.call()}catch(D){f=D}r.call(o.prototype)}else{try{throw Error()}catch(D){f=D}r()}}catch(D){if(D&&f&&typeof D.stack=="string"){for(var y=D.stack.split(`
`),w=f.stack.split(`
`),M=y.length-1,T=w.length-1;1<=M&&0<=T&&y[M]!==w[T];)T--;for(;1<=M&&0<=T;M--,T--)if(y[M]!==w[T]){if(M!==1||T!==1)do if(M--,T--,0>T||y[M]!==w[T]){var z=`
`+y[M].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=M&&0<=T);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?V(r):""}function Te(r){switch(r.tag){case 5:return V(r.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return r=be(r.type,!1),r;case 11:return r=be(r.type.render,!1),r;case 1:return r=be(r.type,!0),r;default:return""}}function Ie(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case E:return"Portal";case W:return"Profiler";case N:return"StrictMode";case de:return"Suspense";case fe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case K:return(r.displayName||"Context")+".Consumer";case G:return(r._context.displayName||"Context")+".Provider";case he:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case _e:return o=r.displayName||null,o!==null?o:Ie(r.type)||"Memo";case we:o=r._payload,r=r._init;try{return Ie(r(o))}catch{}}return null}function Ee(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Pe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ue(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function qe(r){var o=Ue(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),f=""+r[o];if(!r.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(M){f=""+M,w.call(this,M)}}),Object.defineProperty(r,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(M){f=""+M},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Pt(r){r._valueTracker||(r._valueTracker=qe(r))}function Q(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return r&&(f=Ue(r)?r.checked?"true":"false":r.value),r=f,r!==c?(o.setValue(r),!0):!1}function te(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function ne(r,o){var c=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function me(r,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=Pe(o.value!=null?o.value:c),r._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function oe(r,o){o=o.checked,o!=null&&A(r,"checked",o,!1)}function ze(r,o){oe(r,o);var c=Pe(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(f==="submit"||f==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?Ve(r,o.type,c):o.hasOwnProperty("defaultValue")&&Ve(r,o.type,Pe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Fe(r,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,c||o===r.value||(r.value=o),r.defaultValue=o}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function Ve(r,o,c){(o!=="number"||te(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var tt=Array.isArray;function je(r,o,c,f){if(r=r.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<r.length;c++)y=o.hasOwnProperty("$"+r[c].value),r[c].selected!==y&&(r[c].selected=y),y&&f&&(r[c].defaultSelected=!0)}else{for(c=""+Pe(c),o=null,y=0;y<r.length;y++){if(r[y].value===c){r[y].selected=!0,f&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function On(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function mr(r,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(tt(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}r._wrapperState={initialValue:Pe(c)}}function Kt(r,o){var c=Pe(o.value),f=Pe(o.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),o.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),f!=null&&(r.defaultValue=""+f)}function As(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function ks(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gr(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?ks(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var yr,Yo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,y){MSApp.execUnsafeLocalFunction(function(){return r(o,c,f,y)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(yr=yr||document.createElement("div"),yr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=yr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function si(r,o){if(o){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=o;return}}r.textContent=o}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kx=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(r){kx.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),oi[o]=oi[r]})});function wf(r,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||oi.hasOwnProperty(r)&&oi[r]?(""+o).trim():o+"px"}function Sf(r,o){r=r.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=wf(c,o[c],f);c==="float"&&(c="cssFloat"),f?r.setProperty(c,y):r[c]=y}}var Tx=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zu(r,o){if(o){if(Tx[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ru(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=null;function Lu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ou=null,xr=null,vr=null;function bf(r){if(r=Xs(r)){if(typeof Ou!="function")throw Error(t(280));var o=r.stateNode;o&&(o=va(o),Ou(r.stateNode,r.type,o))}}function Mf(r){xr?vr?vr.push(r):vr=[r]:xr=r}function _f(){if(xr){var r=xr,o=vr;if(vr=xr=null,bf(r),o)for(r=0;r<o.length;r++)bf(o[r])}}function Cf(r,o){return r(o)}function Af(){}var Nu=!1;function kf(r,o,c){if(Nu)return r(o,c);Nu=!0;try{return Cf(r,o,c)}finally{Nu=!1,(xr!==null||vr!==null)&&(Af(),_f())}}function Ts(r,o){var c=r.stateNode;if(c===null)return null;var f=va(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var Bu=!1;if(u)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Bu=!1}function Ex(r,o,c,f,y,w,M,T,z){var D=Array.prototype.slice.call(arguments,3);try{o.apply(c,D)}catch($){this.onError($)}}var Is=!1,Zo=null,Qo=!1,Du=null,Ix={onError:function(r){Is=!0,Zo=r}};function Px(r,o,c,f,y,w,M,T,z){Is=!1,Zo=null,Ex.apply(Ix,arguments)}function zx(r,o,c,f,y,w,M,T,z){if(Px.apply(this,arguments),Is){if(Is){var D=Zo;Is=!1,Zo=null}else throw Error(t(198));Qo||(Qo=!0,Du=D)}}function Di(r){var o=r,c=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(c=o.return),r=o.return;while(r)}return o.tag===3?c:null}function Tf(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function Ef(r){if(Di(r)!==r)throw Error(t(188))}function Rx(r){var o=r.alternate;if(!o){if(o=Di(r),o===null)throw Error(t(188));return o!==r?null:r}for(var c=r,f=o;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Ef(y),r;if(w===f)return Ef(y),o;w=w.sibling}throw Error(t(188))}if(c.return!==f.return)c=y,f=w;else{for(var M=!1,T=y.child;T;){if(T===c){M=!0,c=y,f=w;break}if(T===f){M=!0,f=y,c=w;break}T=T.sibling}if(!M){for(T=w.child;T;){if(T===c){M=!0,c=w,f=y;break}if(T===f){M=!0,f=w,c=y;break}T=T.sibling}if(!M)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?r:o}function If(r){return r=Rx(r),r!==null?Pf(r):null}function Pf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=Pf(r);if(o!==null)return o;r=r.sibling}return null}var zf=e.unstable_scheduleCallback,Rf=e.unstable_cancelCallback,Fx=e.unstable_shouldYield,Lx=e.unstable_requestPaint,nt=e.unstable_now,Ox=e.unstable_getCurrentPriorityLevel,Uu=e.unstable_ImmediatePriority,Ff=e.unstable_UserBlockingPriority,Ko=e.unstable_NormalPriority,Nx=e.unstable_LowPriority,Lf=e.unstable_IdlePriority,ea=null,Mn=null;function Bx(r){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(ea,r,void 0,(r.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:Vx,Dx=Math.log,Ux=Math.LN2;function Vx(r){return r>>>=0,r===0?32:31-(Dx(r)/Ux|0)|0}var ta=64,na=4194304;function Ps(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ia(r,o){var c=r.pendingLanes;if(c===0)return 0;var f=0,y=r.suspendedLanes,w=r.pingedLanes,M=c&268435455;if(M!==0){var T=M&~y;T!==0?f=Ps(T):(w&=M,w!==0&&(f=Ps(w)))}else M=c&~y,M!==0?f=Ps(M):w!==0&&(f=Ps(w));if(f===0)return 0;if(o!==0&&o!==f&&!(o&y)&&(y=f&-f,w=o&-o,y>=w||y===16&&(w&4194240)!==0))return o;if(f&4&&(f|=c&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=f;0<o;)c=31-hn(o),y=1<<c,f|=r[c],o&=~y;return f}function Wx(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hx(r,o){for(var c=r.suspendedLanes,f=r.pingedLanes,y=r.expirationTimes,w=r.pendingLanes;0<w;){var M=31-hn(w),T=1<<M,z=y[M];z===-1?(!(T&c)||T&f)&&(y[M]=Wx(T,o)):z<=o&&(r.expiredLanes|=T),w&=~T}}function Vu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Of(){var r=ta;return ta<<=1,!(ta&4194240)&&(ta=64),r}function Wu(r){for(var o=[],c=0;31>c;c++)o.push(r);return o}function zs(r,o,c){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-hn(o),r[o]=c}function $x(r,o){var c=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var f=r.eventTimes;for(r=r.expirationTimes;0<c;){var y=31-hn(c),w=1<<y;o[y]=0,f[y]=-1,r[y]=-1,c&=~w}}function Hu(r,o){var c=r.entangledLanes|=o;for(r=r.entanglements;c;){var f=31-hn(c),y=1<<f;y&o|r[f]&o&&(r[f]|=o),c&=~y}}var De=0;function Nf(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Bf,$u,Df,Uf,Vf,ju=!1,ra=[],ai=null,li=null,ui=null,Rs=new Map,Fs=new Map,ci=[],jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wf(r,o){switch(r){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Rs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(o.pointerId)}}function Ls(r,o,c,f,y,w){return r===null||r.nativeEvent!==w?(r={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:w,targetContainers:[y]},o!==null&&(o=Xs(o),o!==null&&$u(o)),r):(r.eventSystemFlags|=f,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function Gx(r,o,c,f,y){switch(o){case"focusin":return ai=Ls(ai,r,o,c,f,y),!0;case"dragenter":return li=Ls(li,r,o,c,f,y),!0;case"mouseover":return ui=Ls(ui,r,o,c,f,y),!0;case"pointerover":var w=y.pointerId;return Rs.set(w,Ls(Rs.get(w)||null,r,o,c,f,y)),!0;case"gotpointercapture":return w=y.pointerId,Fs.set(w,Ls(Fs.get(w)||null,r,o,c,f,y)),!0}return!1}function Hf(r){var o=Ui(r.target);if(o!==null){var c=Di(o);if(c!==null){if(o=c.tag,o===13){if(o=Tf(c),o!==null){r.blockedOn=o,Vf(r.priority,function(){Df(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sa(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var c=qu(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var f=new c.constructor(c.type,c);Fu=f,c.target.dispatchEvent(f),Fu=null}else return o=Xs(c),o!==null&&$u(o),r.blockedOn=c,!1;o.shift()}return!0}function $f(r,o,c){sa(r)&&c.delete(o)}function qx(){ju=!1,ai!==null&&sa(ai)&&(ai=null),li!==null&&sa(li)&&(li=null),ui!==null&&sa(ui)&&(ui=null),Rs.forEach($f),Fs.forEach($f)}function Os(r,o){r.blockedOn===o&&(r.blockedOn=null,ju||(ju=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qx)))}function Ns(r){function o(y){return Os(y,r)}if(0<ra.length){Os(ra[0],r);for(var c=1;c<ra.length;c++){var f=ra[c];f.blockedOn===r&&(f.blockedOn=null)}}for(ai!==null&&Os(ai,r),li!==null&&Os(li,r),ui!==null&&Os(ui,r),Rs.forEach(o),Fs.forEach(o),c=0;c<ci.length;c++)f=ci[c],f.blockedOn===r&&(f.blockedOn=null);for(;0<ci.length&&(c=ci[0],c.blockedOn===null);)Hf(c),c.blockedOn===null&&ci.shift()}var wr=k.ReactCurrentBatchConfig,oa=!0;function Jx(r,o,c,f){var y=De,w=wr.transition;wr.transition=null;try{De=1,Gu(r,o,c,f)}finally{De=y,wr.transition=w}}function Xx(r,o,c,f){var y=De,w=wr.transition;wr.transition=null;try{De=4,Gu(r,o,c,f)}finally{De=y,wr.transition=w}}function Gu(r,o,c,f){if(oa){var y=qu(r,o,c,f);if(y===null)cc(r,o,f,aa,c),Wf(r,f);else if(Gx(y,r,o,c,f))f.stopPropagation();else if(Wf(r,f),o&4&&-1<jx.indexOf(r)){for(;y!==null;){var w=Xs(y);if(w!==null&&Bf(w),w=qu(r,o,c,f),w===null&&cc(r,o,f,aa,c),w===y)break;y=w}y!==null&&f.stopPropagation()}else cc(r,o,f,null,c)}}var aa=null;function qu(r,o,c,f){if(aa=null,r=Lu(f),r=Ui(r),r!==null)if(o=Di(r),o===null)r=null;else if(c=o.tag,c===13){if(r=Tf(o),r!==null)return r;r=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return aa=r,null}function jf(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ox()){case Uu:return 1;case Ff:return 4;case Ko:case Nx:return 16;case Lf:return 536870912;default:return 16}default:return 16}}var hi=null,Ju=null,la=null;function Gf(){if(la)return la;var r,o=Ju,c=o.length,f,y="value"in hi?hi.value:hi.textContent,w=y.length;for(r=0;r<c&&o[r]===y[r];r++);var M=c-r;for(f=1;f<=M&&o[c-f]===y[w-f];f++);return la=y.slice(r,1<f?1-f:void 0)}function ua(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function ca(){return!0}function qf(){return!1}function Wt(r){function o(c,f,y,w,M){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=w,this.target=M,this.currentTarget=null;for(var T in r)r.hasOwnProperty(T)&&(c=r[T],this[T]=c?c(w):w[T]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?ca:qf,this.isPropagationStopped=qf,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ca)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ca)},persist:function(){},isPersistent:ca}),o}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xu=Wt(Sr),Bs=J({},Sr,{view:0,detail:0}),Yx=Wt(Bs),Yu,Zu,Ds,ha=J({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ds&&(Ds&&r.type==="mousemove"?(Yu=r.screenX-Ds.screenX,Zu=r.screenY-Ds.screenY):Zu=Yu=0,Ds=r),Yu)},movementY:function(r){return"movementY"in r?r.movementY:Zu}}),Jf=Wt(ha),Zx=J({},ha,{dataTransfer:0}),Qx=Wt(Zx),Kx=J({},Bs,{relatedTarget:0}),Qu=Wt(Kx),e1=J({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),t1=Wt(e1),n1=J({},Sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),i1=Wt(n1),r1=J({},Sr,{data:0}),Xf=Wt(r1),s1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l1(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=a1[r])?!!o[r]:!1}function Ku(){return l1}var u1=J({},Bs,{key:function(r){if(r.key){var o=s1[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ua(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?o1[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(r){return r.type==="keypress"?ua(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ua(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),c1=Wt(u1),h1=J({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yf=Wt(h1),d1=J({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),f1=Wt(d1),p1=J({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),m1=Wt(p1),g1=J({},ha,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),y1=Wt(g1),x1=[9,13,27,32],ec=u&&"CompositionEvent"in window,Us=null;u&&"documentMode"in document&&(Us=document.documentMode);var v1=u&&"TextEvent"in window&&!Us,Zf=u&&(!ec||Us&&8<Us&&11>=Us),Qf=" ",Kf=!1;function ep(r,o){switch(r){case"keyup":return x1.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var br=!1;function w1(r,o){switch(r){case"compositionend":return tp(o);case"keypress":return o.which!==32?null:(Kf=!0,Qf);case"textInput":return r=o.data,r===Qf&&Kf?null:r;default:return null}}function S1(r,o){if(br)return r==="compositionend"||!ec&&ep(r,o)?(r=Gf(),la=Ju=hi=null,br=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Zf&&o.locale!=="ko"?null:o.data;default:return null}}var b1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function np(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!b1[r.type]:o==="textarea"}function ip(r,o,c,f){Mf(f),o=ga(o,"onChange"),0<o.length&&(c=new Xu("onChange","change",null,c,f),r.push({event:c,listeners:o}))}var Vs=null,Ws=null;function M1(r){Sp(r,0)}function da(r){var o=kr(r);if(Q(o))return r}function _1(r,o){if(r==="change")return o}var rp=!1;if(u){var tc;if(u){var nc="oninput"in document;if(!nc){var sp=document.createElement("div");sp.setAttribute("oninput","return;"),nc=typeof sp.oninput=="function"}tc=nc}else tc=!1;rp=tc&&(!document.documentMode||9<document.documentMode)}function op(){Vs&&(Vs.detachEvent("onpropertychange",ap),Ws=Vs=null)}function ap(r){if(r.propertyName==="value"&&da(Ws)){var o=[];ip(o,Ws,r,Lu(r)),kf(M1,o)}}function C1(r,o,c){r==="focusin"?(op(),Vs=o,Ws=c,Vs.attachEvent("onpropertychange",ap)):r==="focusout"&&op()}function A1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return da(Ws)}function k1(r,o){if(r==="click")return da(o)}function T1(r,o){if(r==="input"||r==="change")return da(o)}function E1(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var dn=typeof Object.is=="function"?Object.is:E1;function Hs(r,o){if(dn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var c=Object.keys(r),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!h.call(o,y)||!dn(r[y],o[y]))return!1}return!0}function lp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function up(r,o){var c=lp(r);r=0;for(var f;c;){if(c.nodeType===3){if(f=r+c.textContent.length,r<=o&&f>=o)return{node:c,offset:o-r};r=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=lp(c)}}function cp(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?cp(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function hp(){for(var r=window,o=te();o instanceof r.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)r=o.contentWindow;else break;o=te(r.document)}return o}function ic(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function I1(r){var o=hp(),c=r.focusedElem,f=r.selectionRange;if(o!==c&&c&&c.ownerDocument&&cp(c.ownerDocument.documentElement,c)){if(f!==null&&ic(c)){if(o=f.start,r=f.end,r===void 0&&(r=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(r,c.value.length);else if(r=(o=c.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var y=c.textContent.length,w=Math.min(f.start,y);f=f.end===void 0?w:Math.min(f.end,y),!r.extend&&w>f&&(y=f,f=w,w=y),y=up(c,w);var M=up(c,f);y&&M&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==M.node||r.focusOffset!==M.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),r.removeAllRanges(),w>f?(r.addRange(o),r.extend(M.node,M.offset)):(o.setEnd(M.node,M.offset),r.addRange(o)))}}for(o=[],r=c;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)r=o[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var P1=u&&"documentMode"in document&&11>=document.documentMode,Mr=null,rc=null,$s=null,sc=!1;function dp(r,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;sc||Mr==null||Mr!==te(f)||(f=Mr,"selectionStart"in f&&ic(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),$s&&Hs($s,f)||($s=f,f=ga(rc,"onSelect"),0<f.length&&(o=new Xu("onSelect","select",null,o,c),r.push({event:o,listeners:f}),o.target=Mr)))}function fa(r,o){var c={};return c[r.toLowerCase()]=o.toLowerCase(),c["Webkit"+r]="webkit"+o,c["Moz"+r]="moz"+o,c}var _r={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},oc={},fp={};u&&(fp=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function pa(r){if(oc[r])return oc[r];if(!_r[r])return r;var o=_r[r],c;for(c in o)if(o.hasOwnProperty(c)&&c in fp)return oc[r]=o[c];return r}var pp=pa("animationend"),mp=pa("animationiteration"),gp=pa("animationstart"),yp=pa("transitionend"),xp=new Map,vp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function di(r,o){xp.set(r,o),s(o,[r])}for(var ac=0;ac<vp.length;ac++){var lc=vp[ac],z1=lc.toLowerCase(),R1=lc[0].toUpperCase()+lc.slice(1);di(z1,"on"+R1)}di(pp,"onAnimationEnd"),di(mp,"onAnimationIteration"),di(gp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(yp,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function wp(r,o,c){var f=r.type||"unknown-event";r.currentTarget=c,zx(f,o,void 0,r),r.currentTarget=null}function Sp(r,o){o=(o&4)!==0;for(var c=0;c<r.length;c++){var f=r[c],y=f.event;f=f.listeners;e:{var w=void 0;if(o)for(var M=f.length-1;0<=M;M--){var T=f[M],z=T.instance,D=T.currentTarget;if(T=T.listener,z!==w&&y.isPropagationStopped())break e;wp(y,T,D),w=z}else for(M=0;M<f.length;M++){if(T=f[M],z=T.instance,D=T.currentTarget,T=T.listener,z!==w&&y.isPropagationStopped())break e;wp(y,T,D),w=z}}}if(Qo)throw r=Du,Qo=!1,Du=null,r}function He(r,o){var c=o[gc];c===void 0&&(c=o[gc]=new Set);var f=r+"__bubble";c.has(f)||(bp(o,r,2,!1),c.add(f))}function uc(r,o,c){var f=0;o&&(f|=4),bp(c,r,f,o)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Gs(r){if(!r[ma]){r[ma]=!0,n.forEach(function(c){c!=="selectionchange"&&(F1.has(c)||uc(c,!1,r),uc(c,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ma]||(o[ma]=!0,uc("selectionchange",!1,o))}}function bp(r,o,c,f){switch(jf(o)){case 1:var y=Jx;break;case 4:y=Xx;break;default:y=Gu}c=y.bind(null,o,c,r),y=void 0,!Bu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?r.addEventListener(o,c,{capture:!0,passive:y}):r.addEventListener(o,c,!0):y!==void 0?r.addEventListener(o,c,{passive:y}):r.addEventListener(o,c,!1)}function cc(r,o,c,f,y){var w=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var M=f.tag;if(M===3||M===4){var T=f.stateNode.containerInfo;if(T===y||T.nodeType===8&&T.parentNode===y)break;if(M===4)for(M=f.return;M!==null;){var z=M.tag;if((z===3||z===4)&&(z=M.stateNode.containerInfo,z===y||z.nodeType===8&&z.parentNode===y))return;M=M.return}for(;T!==null;){if(M=Ui(T),M===null)return;if(z=M.tag,z===5||z===6){f=w=M;continue e}T=T.parentNode}}f=f.return}kf(function(){var D=w,$=Lu(c),q=[];e:{var H=xp.get(r);if(H!==void 0){var ee=Xu,re=r;switch(r){case"keypress":if(ua(c)===0)break e;case"keydown":case"keyup":ee=c1;break;case"focusin":re="focus",ee=Qu;break;case"focusout":re="blur",ee=Qu;break;case"beforeblur":case"afterblur":ee=Qu;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Jf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=f1;break;case pp:case mp:case gp:ee=t1;break;case yp:ee=m1;break;case"scroll":ee=Yx;break;case"wheel":ee=y1;break;case"copy":case"cut":case"paste":ee=i1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Yf}var se=(o&4)!==0,it=!se&&r==="scroll",O=se?H!==null?H+"Capture":null:H;se=[];for(var L=D,B;L!==null;){B=L;var Y=B.stateNode;if(B.tag===5&&Y!==null&&(B=Y,O!==null&&(Y=Ts(L,O),Y!=null&&se.push(qs(L,Y,B)))),it)break;L=L.return}0<se.length&&(H=new ee(H,re,null,c,$),q.push({event:H,listeners:se}))}}if(!(o&7)){e:{if(H=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",H&&c!==Fu&&(re=c.relatedTarget||c.fromElement)&&(Ui(re)||re[Nn]))break e;if((ee||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,ee?(re=c.relatedTarget||c.toElement,ee=D,re=re?Ui(re):null,re!==null&&(it=Di(re),re!==it||re.tag!==5&&re.tag!==6)&&(re=null)):(ee=null,re=D),ee!==re)){if(se=Jf,Y="onMouseLeave",O="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(se=Yf,Y="onPointerLeave",O="onPointerEnter",L="pointer"),it=ee==null?H:kr(ee),B=re==null?H:kr(re),H=new se(Y,L+"leave",ee,c,$),H.target=it,H.relatedTarget=B,Y=null,Ui($)===D&&(se=new se(O,L+"enter",re,c,$),se.target=B,se.relatedTarget=it,Y=se),it=Y,ee&&re)t:{for(se=ee,O=re,L=0,B=se;B;B=Cr(B))L++;for(B=0,Y=O;Y;Y=Cr(Y))B++;for(;0<L-B;)se=Cr(se),L--;for(;0<B-L;)O=Cr(O),B--;for(;L--;){if(se===O||O!==null&&se===O.alternate)break t;se=Cr(se),O=Cr(O)}se=null}else se=null;ee!==null&&Mp(q,H,ee,se,!1),re!==null&&it!==null&&Mp(q,it,re,se,!0)}}e:{if(H=D?kr(D):window,ee=H.nodeName&&H.nodeName.toLowerCase(),ee==="select"||ee==="input"&&H.type==="file")var ae=_1;else if(np(H))if(rp)ae=T1;else{ae=A1;var ue=C1}else(ee=H.nodeName)&&ee.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ae=k1);if(ae&&(ae=ae(r,D))){ip(q,ae,c,$);break e}ue&&ue(r,H,D),r==="focusout"&&(ue=H._wrapperState)&&ue.controlled&&H.type==="number"&&Ve(H,"number",H.value)}switch(ue=D?kr(D):window,r){case"focusin":(np(ue)||ue.contentEditable==="true")&&(Mr=ue,rc=D,$s=null);break;case"focusout":$s=rc=Mr=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,dp(q,c,$);break;case"selectionchange":if(P1)break;case"keydown":case"keyup":dp(q,c,$)}var ce;if(ec)e:{switch(r){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else br?ep(r,c)&&(ge="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(ge="onCompositionStart");ge&&(Zf&&c.locale!=="ko"&&(br||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&br&&(ce=Gf()):(hi=$,Ju="value"in hi?hi.value:hi.textContent,br=!0)),ue=ga(D,ge),0<ue.length&&(ge=new Xf(ge,r,null,c,$),q.push({event:ge,listeners:ue}),ce?ge.data=ce:(ce=tp(c),ce!==null&&(ge.data=ce)))),(ce=v1?w1(r,c):S1(r,c))&&(D=ga(D,"onBeforeInput"),0<D.length&&($=new Xf("onBeforeInput","beforeinput",null,c,$),q.push({event:$,listeners:D}),$.data=ce))}Sp(q,o)})}function qs(r,o,c){return{instance:r,listener:o,currentTarget:c}}function ga(r,o){for(var c=o+"Capture",f=[];r!==null;){var y=r,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=Ts(r,c),w!=null&&f.unshift(qs(r,w,y)),w=Ts(r,o),w!=null&&f.push(qs(r,w,y))),r=r.return}return f}function Cr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Mp(r,o,c,f,y){for(var w=o._reactName,M=[];c!==null&&c!==f;){var T=c,z=T.alternate,D=T.stateNode;if(z!==null&&z===f)break;T.tag===5&&D!==null&&(T=D,y?(z=Ts(c,w),z!=null&&M.unshift(qs(c,z,T))):y||(z=Ts(c,w),z!=null&&M.push(qs(c,z,T)))),c=c.return}M.length!==0&&r.push({event:o,listeners:M})}var L1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function _p(r){return(typeof r=="string"?r:""+r).replace(L1,`
`).replace(O1,"")}function ya(r,o,c){if(o=_p(o),_p(r)!==o&&c)throw Error(t(425))}function xa(){}var hc=null,dc=null;function fc(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,N1=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(r){return Cp.resolve(null).then(r).catch(D1)}:pc;function D1(r){setTimeout(function(){throw r})}function mc(r,o){var c=o,f=0;do{var y=c.nextSibling;if(r.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){r.removeChild(y),Ns(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);Ns(o)}function fi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Ap(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return r;o--}else c==="/$"&&o++}r=r.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),_n="__reactFiber$"+Ar,Js="__reactProps$"+Ar,Nn="__reactContainer$"+Ar,gc="__reactEvents$"+Ar,U1="__reactListeners$"+Ar,V1="__reactHandles$"+Ar;function Ui(r){var o=r[_n];if(o)return o;for(var c=r.parentNode;c;){if(o=c[Nn]||c[_n]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(r=Ap(r);r!==null;){if(c=r[_n])return c;r=Ap(r)}return o}r=c,c=r.parentNode}return null}function Xs(r){return r=r[_n]||r[Nn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function kr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function va(r){return r[Js]||null}var yc=[],Tr=-1;function pi(r){return{current:r}}function $e(r){0>Tr||(r.current=yc[Tr],yc[Tr]=null,Tr--)}function We(r,o){Tr++,yc[Tr]=r.current,r.current=o}var mi={},yt=pi(mi),zt=pi(!1),Vi=mi;function Er(r,o){var c=r.type.contextTypes;if(!c)return mi;var f=r.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=o[w];return f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=y),y}function Rt(r){return r=r.childContextTypes,r!=null}function wa(){$e(zt),$e(yt)}function kp(r,o,c){if(yt.current!==mi)throw Error(t(168));We(yt,o),We(zt,c)}function Tp(r,o,c){var f=r.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in o))throw Error(t(108,Ee(r)||"Unknown",y));return J({},c,f)}function Sa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||mi,Vi=yt.current,We(yt,r),We(zt,zt.current),!0}function Ep(r,o,c){var f=r.stateNode;if(!f)throw Error(t(169));c?(r=Tp(r,o,Vi),f.__reactInternalMemoizedMergedChildContext=r,$e(zt),$e(yt),We(yt,r)):$e(zt),We(zt,c)}var Bn=null,ba=!1,xc=!1;function Ip(r){Bn===null?Bn=[r]:Bn.push(r)}function W1(r){ba=!0,Ip(r)}function gi(){if(!xc&&Bn!==null){xc=!0;var r=0,o=De;try{var c=Bn;for(De=1;r<c.length;r++){var f=c[r];do f=f(!0);while(f!==null)}Bn=null,ba=!1}catch(y){throw Bn!==null&&(Bn=Bn.slice(r+1)),zf(Uu,gi),y}finally{De=o,xc=!1}}return null}var Ir=[],Pr=0,Ma=null,_a=0,en=[],tn=0,Wi=null,Dn=1,Un="";function Hi(r,o){Ir[Pr++]=_a,Ir[Pr++]=Ma,Ma=r,_a=o}function Pp(r,o,c){en[tn++]=Dn,en[tn++]=Un,en[tn++]=Wi,Wi=r;var f=Dn;r=Un;var y=32-hn(f)-1;f&=~(1<<y),c+=1;var w=32-hn(o)+y;if(30<w){var M=y-y%5;w=(f&(1<<M)-1).toString(32),f>>=M,y-=M,Dn=1<<32-hn(o)+y|c<<y|f,Un=w+r}else Dn=1<<w|c<<y|f,Un=r}function vc(r){r.return!==null&&(Hi(r,1),Pp(r,1,0))}function wc(r){for(;r===Ma;)Ma=Ir[--Pr],Ir[Pr]=null,_a=Ir[--Pr],Ir[Pr]=null;for(;r===Wi;)Wi=en[--tn],en[tn]=null,Un=en[--tn],en[tn]=null,Dn=en[--tn],en[tn]=null}var Ht=null,$t=null,Ge=!1,fn=null;function zp(r,o){var c=on(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=r,o=r.deletions,o===null?(r.deletions=[c],r.flags|=16):o.push(c)}function Rp(r,o){switch(r.tag){case 5:var c=r.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Ht=r,$t=fi(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Ht=r,$t=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Wi!==null?{id:Dn,overflow:Un}:null,r.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=on(18,null,null,0),c.stateNode=o,c.return=r,r.child=c,Ht=r,$t=null,!0):!1;default:return!1}}function Sc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function bc(r){if(Ge){var o=$t;if(o){var c=o;if(!Rp(r,o)){if(Sc(r))throw Error(t(418));o=fi(c.nextSibling);var f=Ht;o&&Rp(r,o)?zp(f,c):(r.flags=r.flags&-4097|2,Ge=!1,Ht=r)}}else{if(Sc(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ge=!1,Ht=r}}}function Fp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ht=r}function Ca(r){if(r!==Ht)return!1;if(!Ge)return Fp(r),Ge=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!fc(r.type,r.memoizedProps)),o&&(o=$t)){if(Sc(r))throw Lp(),Error(t(418));for(;o;)zp(r,o),o=fi(o.nextSibling)}if(Fp(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(o===0){$t=fi(r.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}r=r.nextSibling}$t=null}}else $t=Ht?fi(r.stateNode.nextSibling):null;return!0}function Lp(){for(var r=$t;r;)r=fi(r.nextSibling)}function zr(){$t=Ht=null,Ge=!1}function Mc(r){fn===null?fn=[r]:fn.push(r)}var H1=k.ReactCurrentBatchConfig;function Ys(r,o,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,r));var y=f,w=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===w?o.ref:(o=function(M){var T=y.refs;M===null?delete T[w]:T[w]=M},o._stringRef=w,o)}if(typeof r!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,r))}return r}function Aa(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function Op(r){var o=r._init;return o(r._payload)}function Np(r){function o(O,L){if(r){var B=O.deletions;B===null?(O.deletions=[L],O.flags|=16):B.push(L)}}function c(O,L){if(!r)return null;for(;L!==null;)o(O,L),L=L.sibling;return null}function f(O,L){for(O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function y(O,L){return O=_i(O,L),O.index=0,O.sibling=null,O}function w(O,L,B){return O.index=B,r?(B=O.alternate,B!==null?(B=B.index,B<L?(O.flags|=2,L):B):(O.flags|=2,L)):(O.flags|=1048576,L)}function M(O){return r&&O.alternate===null&&(O.flags|=2),O}function T(O,L,B,Y){return L===null||L.tag!==6?(L=ph(B,O.mode,Y),L.return=O,L):(L=y(L,B),L.return=O,L)}function z(O,L,B,Y){var ae=B.type;return ae===R?$(O,L,B.props.children,Y,B.key):L!==null&&(L.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===we&&Op(ae)===L.type)?(Y=y(L,B.props),Y.ref=Ys(O,L,B),Y.return=O,Y):(Y=Ya(B.type,B.key,B.props,null,O.mode,Y),Y.ref=Ys(O,L,B),Y.return=O,Y)}function D(O,L,B,Y){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=mh(B,O.mode,Y),L.return=O,L):(L=y(L,B.children||[]),L.return=O,L)}function $(O,L,B,Y,ae){return L===null||L.tag!==7?(L=Zi(B,O.mode,Y,ae),L.return=O,L):(L=y(L,B),L.return=O,L)}function q(O,L,B){if(typeof L=="string"&&L!==""||typeof L=="number")return L=ph(""+L,O.mode,B),L.return=O,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case P:return B=Ya(L.type,L.key,L.props,null,O.mode,B),B.ref=Ys(O,null,L),B.return=O,B;case E:return L=mh(L,O.mode,B),L.return=O,L;case we:var Y=L._init;return q(O,Y(L._payload),B)}if(tt(L)||Z(L))return L=Zi(L,O.mode,B,null),L.return=O,L;Aa(O,L)}return null}function H(O,L,B,Y){var ae=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ae!==null?null:T(O,L,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case P:return B.key===ae?z(O,L,B,Y):null;case E:return B.key===ae?D(O,L,B,Y):null;case we:return ae=B._init,H(O,L,ae(B._payload),Y)}if(tt(B)||Z(B))return ae!==null?null:$(O,L,B,Y,null);Aa(O,B)}return null}function ee(O,L,B,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return O=O.get(B)||null,T(L,O,""+Y,ae);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return O=O.get(Y.key===null?B:Y.key)||null,z(L,O,Y,ae);case E:return O=O.get(Y.key===null?B:Y.key)||null,D(L,O,Y,ae);case we:var ue=Y._init;return ee(O,L,B,ue(Y._payload),ae)}if(tt(Y)||Z(Y))return O=O.get(B)||null,$(L,O,Y,ae,null);Aa(L,Y)}return null}function re(O,L,B,Y){for(var ae=null,ue=null,ce=L,ge=L=0,dt=null;ce!==null&&ge<B.length;ge++){ce.index>ge?(dt=ce,ce=null):dt=ce.sibling;var Le=H(O,ce,B[ge],Y);if(Le===null){ce===null&&(ce=dt);break}r&&ce&&Le.alternate===null&&o(O,ce),L=w(Le,L,ge),ue===null?ae=Le:ue.sibling=Le,ue=Le,ce=dt}if(ge===B.length)return c(O,ce),Ge&&Hi(O,ge),ae;if(ce===null){for(;ge<B.length;ge++)ce=q(O,B[ge],Y),ce!==null&&(L=w(ce,L,ge),ue===null?ae=ce:ue.sibling=ce,ue=ce);return Ge&&Hi(O,ge),ae}for(ce=f(O,ce);ge<B.length;ge++)dt=ee(ce,O,ge,B[ge],Y),dt!==null&&(r&&dt.alternate!==null&&ce.delete(dt.key===null?ge:dt.key),L=w(dt,L,ge),ue===null?ae=dt:ue.sibling=dt,ue=dt);return r&&ce.forEach(function(Ci){return o(O,Ci)}),Ge&&Hi(O,ge),ae}function se(O,L,B,Y){var ae=Z(B);if(typeof ae!="function")throw Error(t(150));if(B=ae.call(B),B==null)throw Error(t(151));for(var ue=ae=null,ce=L,ge=L=0,dt=null,Le=B.next();ce!==null&&!Le.done;ge++,Le=B.next()){ce.index>ge?(dt=ce,ce=null):dt=ce.sibling;var Ci=H(O,ce,Le.value,Y);if(Ci===null){ce===null&&(ce=dt);break}r&&ce&&Ci.alternate===null&&o(O,ce),L=w(Ci,L,ge),ue===null?ae=Ci:ue.sibling=Ci,ue=Ci,ce=dt}if(Le.done)return c(O,ce),Ge&&Hi(O,ge),ae;if(ce===null){for(;!Le.done;ge++,Le=B.next())Le=q(O,Le.value,Y),Le!==null&&(L=w(Le,L,ge),ue===null?ae=Le:ue.sibling=Le,ue=Le);return Ge&&Hi(O,ge),ae}for(ce=f(O,ce);!Le.done;ge++,Le=B.next())Le=ee(ce,O,ge,Le.value,Y),Le!==null&&(r&&Le.alternate!==null&&ce.delete(Le.key===null?ge:Le.key),L=w(Le,L,ge),ue===null?ae=Le:ue.sibling=Le,ue=Le);return r&&ce.forEach(function(bv){return o(O,bv)}),Ge&&Hi(O,ge),ae}function it(O,L,B,Y){if(typeof B=="object"&&B!==null&&B.type===R&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case P:e:{for(var ae=B.key,ue=L;ue!==null;){if(ue.key===ae){if(ae=B.type,ae===R){if(ue.tag===7){c(O,ue.sibling),L=y(ue,B.props.children),L.return=O,O=L;break e}}else if(ue.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===we&&Op(ae)===ue.type){c(O,ue.sibling),L=y(ue,B.props),L.ref=Ys(O,ue,B),L.return=O,O=L;break e}c(O,ue);break}else o(O,ue);ue=ue.sibling}B.type===R?(L=Zi(B.props.children,O.mode,Y,B.key),L.return=O,O=L):(Y=Ya(B.type,B.key,B.props,null,O.mode,Y),Y.ref=Ys(O,L,B),Y.return=O,O=Y)}return M(O);case E:e:{for(ue=B.key;L!==null;){if(L.key===ue)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){c(O,L.sibling),L=y(L,B.children||[]),L.return=O,O=L;break e}else{c(O,L);break}else o(O,L);L=L.sibling}L=mh(B,O.mode,Y),L.return=O,O=L}return M(O);case we:return ue=B._init,it(O,L,ue(B._payload),Y)}if(tt(B))return re(O,L,B,Y);if(Z(B))return se(O,L,B,Y);Aa(O,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,L!==null&&L.tag===6?(c(O,L.sibling),L=y(L,B),L.return=O,O=L):(c(O,L),L=ph(B,O.mode,Y),L.return=O,O=L),M(O)):c(O,L)}return it}var Rr=Np(!0),Bp=Np(!1),ka=pi(null),Ta=null,Fr=null,_c=null;function Cc(){_c=Fr=Ta=null}function Ac(r){var o=ka.current;$e(ka),r._currentValue=o}function kc(r,o,c){for(;r!==null;){var f=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),r===c)break;r=r.return}}function Lr(r,o){Ta=r,_c=Fr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(Ft=!0),r.firstContext=null)}function nn(r){var o=r._currentValue;if(_c!==r)if(r={context:r,memoizedValue:o,next:null},Fr===null){if(Ta===null)throw Error(t(308));Fr=r,Ta.dependencies={lanes:0,firstContext:r}}else Fr=Fr.next=r;return o}var $i=null;function Tc(r){$i===null?$i=[r]:$i.push(r)}function Dp(r,o,c,f){var y=o.interleaved;return y===null?(c.next=c,Tc(o)):(c.next=y.next,y.next=c),o.interleaved=c,Vn(r,f)}function Vn(r,o){r.lanes|=o;var c=r.alternate;for(c!==null&&(c.lanes|=o),c=r,r=r.return;r!==null;)r.childLanes|=o,c=r.alternate,c!==null&&(c.childLanes|=o),c=r,r=r.return;return c.tag===3?c.stateNode:null}var yi=!1;function Ec(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Wn(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function xi(r,o,c){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,Re&2){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,Vn(r,c)}return y=f.interleaved,y===null?(o.next=o,Tc(f)):(o.next=y.next,y.next=o),f.interleaved=o,Vn(r,c)}function Ea(r,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Hu(r,c)}}function Vp(r,o){var c=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var M={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=M:w=w.next=M,c=c.next}while(c!==null);w===null?y=w=o:w=w.next=o}else y=w=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:f.shared,effects:f.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=o:r.next=o,c.lastBaseUpdate=o}function Ia(r,o,c,f){var y=r.updateQueue;yi=!1;var w=y.firstBaseUpdate,M=y.lastBaseUpdate,T=y.shared.pending;if(T!==null){y.shared.pending=null;var z=T,D=z.next;z.next=null,M===null?w=D:M.next=D,M=z;var $=r.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==M&&(T===null?$.firstBaseUpdate=D:T.next=D,$.lastBaseUpdate=z))}if(w!==null){var q=y.baseState;M=0,$=D=z=null,T=w;do{var H=T.lane,ee=T.eventTime;if((f&H)===H){$!==null&&($=$.next={eventTime:ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var re=r,se=T;switch(H=o,ee=c,se.tag){case 1:if(re=se.payload,typeof re=="function"){q=re.call(ee,q,H);break e}q=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=se.payload,H=typeof re=="function"?re.call(ee,q,H):re,H==null)break e;q=J({},q,H);break e;case 2:yi=!0}}T.callback!==null&&T.lane!==0&&(r.flags|=64,H=y.effects,H===null?y.effects=[T]:H.push(T))}else ee={eventTime:ee,lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(D=$=ee,z=q):$=$.next=ee,M|=H;if(T=T.next,T===null){if(T=y.shared.pending,T===null)break;H=T,T=H.next,H.next=null,y.lastBaseUpdate=H,y.shared.pending=null}}while(!0);if($===null&&(z=q),y.baseState=z,y.firstBaseUpdate=D,y.lastBaseUpdate=$,o=y.shared.interleaved,o!==null){y=o;do M|=y.lane,y=y.next;while(y!==o)}else w===null&&(y.shared.lanes=0);qi|=M,r.lanes=M,r.memoizedState=q}}function Wp(r,o,c){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var f=r[o],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var Zs={},Cn=pi(Zs),Qs=pi(Zs),Ks=pi(Zs);function ji(r){if(r===Zs)throw Error(t(174));return r}function Ic(r,o){switch(We(Ks,o),We(Qs,r),We(Cn,Zs),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:gr(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=gr(o,r)}$e(Cn),We(Cn,o)}function Or(){$e(Cn),$e(Qs),$e(Ks)}function Hp(r){ji(Ks.current);var o=ji(Cn.current),c=gr(o,r.type);o!==c&&(We(Qs,r),We(Cn,c))}function Pc(r){Qs.current===r&&($e(Cn),$e(Qs))}var Je=pi(0);function Pa(r){for(var o=r;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var zc=[];function Rc(){for(var r=0;r<zc.length;r++)zc[r]._workInProgressVersionPrimary=null;zc.length=0}var za=k.ReactCurrentDispatcher,Fc=k.ReactCurrentBatchConfig,Gi=0,Xe=null,at=null,ct=null,Ra=!1,eo=!1,to=0,$1=0;function xt(){throw Error(t(321))}function Lc(r,o){if(o===null)return!1;for(var c=0;c<o.length&&c<r.length;c++)if(!dn(r[c],o[c]))return!1;return!0}function Oc(r,o,c,f,y,w){if(Gi=w,Xe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,za.current=r===null||r.memoizedState===null?J1:X1,r=c(f,y),eo){w=0;do{if(eo=!1,to=0,25<=w)throw Error(t(301));w+=1,ct=at=null,o.updateQueue=null,za.current=Y1,r=c(f,y)}while(eo)}if(za.current=Oa,o=at!==null&&at.next!==null,Gi=0,ct=at=Xe=null,Ra=!1,o)throw Error(t(300));return r}function Nc(){var r=to!==0;return to=0,r}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Xe.memoizedState=ct=r:ct=ct.next=r,ct}function rn(){if(at===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=at.next;var o=ct===null?Xe.memoizedState:ct.next;if(o!==null)ct=o,at=r;else{if(r===null)throw Error(t(310));at=r,r={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Xe.memoizedState=ct=r:ct=ct.next=r}return ct}function no(r,o){return typeof o=="function"?o(r):o}function Bc(r){var o=rn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var f=at,y=f.baseQueue,w=c.pending;if(w!==null){if(y!==null){var M=y.next;y.next=w.next,w.next=M}f.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,f=f.baseState;var T=M=null,z=null,D=w;do{var $=D.lane;if((Gi&$)===$)z!==null&&(z=z.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),f=D.hasEagerState?D.eagerState:r(f,D.action);else{var q={lane:$,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};z===null?(T=z=q,M=f):z=z.next=q,Xe.lanes|=$,qi|=$}D=D.next}while(D!==null&&D!==w);z===null?M=f:z.next=T,dn(f,o.memoizedState)||(Ft=!0),o.memoizedState=f,o.baseState=M,o.baseQueue=z,c.lastRenderedState=f}if(r=c.interleaved,r!==null){y=r;do w=y.lane,Xe.lanes|=w,qi|=w,y=y.next;while(y!==r)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Dc(r){var o=rn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var f=c.dispatch,y=c.pending,w=o.memoizedState;if(y!==null){c.pending=null;var M=y=y.next;do w=r(w,M.action),M=M.next;while(M!==y);dn(w,o.memoizedState)||(Ft=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),c.lastRenderedState=w}return[w,f]}function $p(){}function jp(r,o){var c=Xe,f=rn(),y=o(),w=!dn(f.memoizedState,y);if(w&&(f.memoizedState=y,Ft=!0),f=f.queue,Uc(Jp.bind(null,c,f,r),[r]),f.getSnapshot!==o||w||ct!==null&&ct.memoizedState.tag&1){if(c.flags|=2048,io(9,qp.bind(null,c,f,y,o),void 0,null),ht===null)throw Error(t(349));Gi&30||Gp(c,o,y)}return y}function Gp(r,o,c){r.flags|=16384,r={getSnapshot:o,value:c},o=Xe.updateQueue,o===null?(o={lastEffect:null,stores:null},Xe.updateQueue=o,o.stores=[r]):(c=o.stores,c===null?o.stores=[r]:c.push(r))}function qp(r,o,c,f){o.value=c,o.getSnapshot=f,Xp(o)&&Yp(r)}function Jp(r,o,c){return c(function(){Xp(o)&&Yp(r)})}function Xp(r){var o=r.getSnapshot;r=r.value;try{var c=o();return!dn(r,c)}catch{return!0}}function Yp(r){var o=Vn(r,1);o!==null&&yn(o,r,1,-1)}function Zp(r){var o=An();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:no,lastRenderedState:r},o.queue=r,r=r.dispatch=q1.bind(null,Xe,r),[o.memoizedState,r]}function io(r,o,c,f){return r={tag:r,create:o,destroy:c,deps:f,next:null},o=Xe.updateQueue,o===null?(o={lastEffect:null,stores:null},Xe.updateQueue=o,o.lastEffect=r.next=r):(c=o.lastEffect,c===null?o.lastEffect=r.next=r:(f=c.next,c.next=r,r.next=f,o.lastEffect=r)),r}function Qp(){return rn().memoizedState}function Fa(r,o,c,f){var y=An();Xe.flags|=r,y.memoizedState=io(1|o,c,void 0,f===void 0?null:f)}function La(r,o,c,f){var y=rn();f=f===void 0?null:f;var w=void 0;if(at!==null){var M=at.memoizedState;if(w=M.destroy,f!==null&&Lc(f,M.deps)){y.memoizedState=io(o,c,w,f);return}}Xe.flags|=r,y.memoizedState=io(1|o,c,w,f)}function Kp(r,o){return Fa(8390656,8,r,o)}function Uc(r,o){return La(2048,8,r,o)}function em(r,o){return La(4,2,r,o)}function tm(r,o){return La(4,4,r,o)}function nm(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function im(r,o,c){return c=c!=null?c.concat([r]):null,La(4,4,nm.bind(null,o,r),c)}function Vc(){}function rm(r,o){var c=rn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Lc(o,f[1])?f[0]:(c.memoizedState=[r,o],r)}function sm(r,o){var c=rn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&Lc(o,f[1])?f[0]:(r=r(),c.memoizedState=[r,o],r)}function om(r,o,c){return Gi&21?(dn(c,o)||(c=Of(),Xe.lanes|=c,qi|=c,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,Ft=!0),r.memoizedState=c)}function j1(r,o){var c=De;De=c!==0&&4>c?c:4,r(!0);var f=Fc.transition;Fc.transition={};try{r(!1),o()}finally{De=c,Fc.transition=f}}function am(){return rn().memoizedState}function G1(r,o,c){var f=bi(r);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},lm(r))um(o,c);else if(c=Dp(r,o,c,f),c!==null){var y=At();yn(c,r,f,y),cm(c,o,f)}}function q1(r,o,c){var f=bi(r),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(lm(r))um(o,y);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var M=o.lastRenderedState,T=w(M,c);if(y.hasEagerState=!0,y.eagerState=T,dn(T,M)){var z=o.interleaved;z===null?(y.next=y,Tc(o)):(y.next=z.next,z.next=y),o.interleaved=y;return}}catch{}finally{}c=Dp(r,o,y,f),c!==null&&(y=At(),yn(c,r,f,y),cm(c,o,f))}}function lm(r){var o=r.alternate;return r===Xe||o!==null&&o===Xe}function um(r,o){eo=Ra=!0;var c=r.pending;c===null?o.next=o:(o.next=c.next,c.next=o),r.pending=o}function cm(r,o,c){if(c&4194240){var f=o.lanes;f&=r.pendingLanes,c|=f,o.lanes=c,Hu(r,c)}}var Oa={readContext:nn,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},J1={readContext:nn,useCallback:function(r,o){return An().memoizedState=[r,o===void 0?null:o],r},useContext:nn,useEffect:Kp,useImperativeHandle:function(r,o,c){return c=c!=null?c.concat([r]):null,Fa(4194308,4,nm.bind(null,o,r),c)},useLayoutEffect:function(r,o){return Fa(4194308,4,r,o)},useInsertionEffect:function(r,o){return Fa(4,2,r,o)},useMemo:function(r,o){var c=An();return o=o===void 0?null:o,r=r(),c.memoizedState=[r,o],r},useReducer:function(r,o,c){var f=An();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},f.queue=r,r=r.dispatch=G1.bind(null,Xe,r),[f.memoizedState,r]},useRef:function(r){var o=An();return r={current:r},o.memoizedState=r},useState:Zp,useDebugValue:Vc,useDeferredValue:function(r){return An().memoizedState=r},useTransition:function(){var r=Zp(!1),o=r[0];return r=j1.bind(null,r[1]),An().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,c){var f=Xe,y=An();if(Ge){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),ht===null)throw Error(t(349));Gi&30||Gp(f,o,c)}y.memoizedState=c;var w={value:c,getSnapshot:o};return y.queue=w,Kp(Jp.bind(null,f,w,r),[r]),f.flags|=2048,io(9,qp.bind(null,f,w,c,o),void 0,null),c},useId:function(){var r=An(),o=ht.identifierPrefix;if(Ge){var c=Un,f=Dn;c=(f&~(1<<32-hn(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=to++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=$1++,o=":"+o+"r"+c.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},X1={readContext:nn,useCallback:rm,useContext:nn,useEffect:Uc,useImperativeHandle:im,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:Bc,useRef:Qp,useState:function(){return Bc(no)},useDebugValue:Vc,useDeferredValue:function(r){var o=rn();return om(o,at.memoizedState,r)},useTransition:function(){var r=Bc(no)[0],o=rn().memoizedState;return[r,o]},useMutableSource:$p,useSyncExternalStore:jp,useId:am,unstable_isNewReconciler:!1},Y1={readContext:nn,useCallback:rm,useContext:nn,useEffect:Uc,useImperativeHandle:im,useInsertionEffect:em,useLayoutEffect:tm,useMemo:sm,useReducer:Dc,useRef:Qp,useState:function(){return Dc(no)},useDebugValue:Vc,useDeferredValue:function(r){var o=rn();return at===null?o.memoizedState=r:om(o,at.memoizedState,r)},useTransition:function(){var r=Dc(no)[0],o=rn().memoizedState;return[r,o]},useMutableSource:$p,useSyncExternalStore:jp,useId:am,unstable_isNewReconciler:!1};function pn(r,o){if(r&&r.defaultProps){o=J({},o),r=r.defaultProps;for(var c in r)o[c]===void 0&&(o[c]=r[c]);return o}return o}function Wc(r,o,c,f){o=r.memoizedState,c=c(f,o),c=c==null?o:J({},o,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Na={isMounted:function(r){return(r=r._reactInternals)?Di(r)===r:!1},enqueueSetState:function(r,o,c){r=r._reactInternals;var f=At(),y=bi(r),w=Wn(f,y);w.payload=o,c!=null&&(w.callback=c),o=xi(r,w,y),o!==null&&(yn(o,r,y,f),Ea(o,r,y))},enqueueReplaceState:function(r,o,c){r=r._reactInternals;var f=At(),y=bi(r),w=Wn(f,y);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=xi(r,w,y),o!==null&&(yn(o,r,y,f),Ea(o,r,y))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var c=At(),f=bi(r),y=Wn(c,f);y.tag=2,o!=null&&(y.callback=o),o=xi(r,y,f),o!==null&&(yn(o,r,f,c),Ea(o,r,f))}};function hm(r,o,c,f,y,w,M){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,w,M):o.prototype&&o.prototype.isPureReactComponent?!Hs(c,f)||!Hs(y,w):!0}function dm(r,o,c){var f=!1,y=mi,w=o.contextType;return typeof w=="object"&&w!==null?w=nn(w):(y=Rt(o)?Vi:yt.current,f=o.contextTypes,w=(f=f!=null)?Er(r,y):mi),o=new o(c,w),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Na,r.stateNode=o,o._reactInternals=r,f&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=w),o}function fm(r,o,c,f){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==r&&Na.enqueueReplaceState(o,o.state,null)}function Hc(r,o,c,f){var y=r.stateNode;y.props=c,y.state=r.memoizedState,y.refs={},Ec(r);var w=o.contextType;typeof w=="object"&&w!==null?y.context=nn(w):(w=Rt(o)?Vi:yt.current,y.context=Er(r,w)),y.state=r.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Wc(r,o,w,c),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Na.enqueueReplaceState(y,y.state,null),Ia(r,c,y,f),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function Nr(r,o){try{var c="",f=o;do c+=Te(f),f=f.return;while(f);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:o,stack:y,digest:null}}function $c(r,o,c){return{value:r,source:null,stack:c??null,digest:o??null}}function jc(r,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var Z1=typeof WeakMap=="function"?WeakMap:Map;function pm(r,o,c){c=Wn(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){$a||($a=!0,oh=f),jc(r,o)},c}function mm(r,o,c){c=Wn(-1,c),c.tag=3;var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var y=o.value;c.payload=function(){return f(y)},c.callback=function(){jc(r,o)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){jc(r,o),typeof f!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var M=o.stack;this.componentDidCatch(o.value,{componentStack:M!==null?M:""})}),c}function gm(r,o,c){var f=r.pingCache;if(f===null){f=r.pingCache=new Z1;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(y.add(c),r=hv.bind(null,r,o,c),o.then(r,r))}function ym(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function xm(r,o,c,f,y){return r.mode&1?(r.flags|=65536,r.lanes=y,r):(r===o?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Wn(-1,1),o.tag=2,xi(c,o,1))),c.lanes|=1),r)}var Q1=k.ReactCurrentOwner,Ft=!1;function Ct(r,o,c,f){o.child=r===null?Bp(o,null,c,f):Rr(o,r.child,c,f)}function vm(r,o,c,f,y){c=c.render;var w=o.ref;return Lr(o,y),f=Oc(r,o,c,f,w,y),c=Nc(),r!==null&&!Ft?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,Hn(r,o,y)):(Ge&&c&&vc(o),o.flags|=1,Ct(r,o,f,y),o.child)}function wm(r,o,c,f,y){if(r===null){var w=c.type;return typeof w=="function"&&!fh(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=w,Sm(r,o,w,f,y)):(r=Ya(c.type,null,f,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(w=r.child,!(r.lanes&y)){var M=w.memoizedProps;if(c=c.compare,c=c!==null?c:Hs,c(M,f)&&r.ref===o.ref)return Hn(r,o,y)}return o.flags|=1,r=_i(w,f),r.ref=o.ref,r.return=o,o.child=r}function Sm(r,o,c,f,y){if(r!==null){var w=r.memoizedProps;if(Hs(w,f)&&r.ref===o.ref)if(Ft=!1,o.pendingProps=f=w,(r.lanes&y)!==0)r.flags&131072&&(Ft=!0);else return o.lanes=r.lanes,Hn(r,o,y)}return Gc(r,o,c,f,y)}function bm(r,o,c){var f=o.pendingProps,y=f.children,w=r!==null?r.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Dr,jt),jt|=c;else{if(!(c&1073741824))return r=w!==null?w.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,We(Dr,jt),jt|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:c,We(Dr,jt),jt|=f}else w!==null?(f=w.baseLanes|c,o.memoizedState=null):f=c,We(Dr,jt),jt|=f;return Ct(r,o,y,c),o.child}function Mm(r,o){var c=o.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Gc(r,o,c,f,y){var w=Rt(c)?Vi:yt.current;return w=Er(o,w),Lr(o,y),c=Oc(r,o,c,f,w,y),f=Nc(),r!==null&&!Ft?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,Hn(r,o,y)):(Ge&&f&&vc(o),o.flags|=1,Ct(r,o,c,y),o.child)}function _m(r,o,c,f,y){if(Rt(c)){var w=!0;Sa(o)}else w=!1;if(Lr(o,y),o.stateNode===null)Da(r,o),dm(o,c,f),Hc(o,c,f,y),f=!0;else if(r===null){var M=o.stateNode,T=o.memoizedProps;M.props=T;var z=M.context,D=c.contextType;typeof D=="object"&&D!==null?D=nn(D):(D=Rt(c)?Vi:yt.current,D=Er(o,D));var $=c.getDerivedStateFromProps,q=typeof $=="function"||typeof M.getSnapshotBeforeUpdate=="function";q||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(T!==f||z!==D)&&fm(o,M,f,D),yi=!1;var H=o.memoizedState;M.state=H,Ia(o,f,M,y),z=o.memoizedState,T!==f||H!==z||zt.current||yi?(typeof $=="function"&&(Wc(o,c,$,f),z=o.memoizedState),(T=yi||hm(o,c,T,f,H,z,D))?(q||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(o.flags|=4194308)):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=z),M.props=f,M.state=z,M.context=D,f=T):(typeof M.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{M=o.stateNode,Up(r,o),T=o.memoizedProps,D=o.type===o.elementType?T:pn(o.type,T),M.props=D,q=o.pendingProps,H=M.context,z=c.contextType,typeof z=="object"&&z!==null?z=nn(z):(z=Rt(c)?Vi:yt.current,z=Er(o,z));var ee=c.getDerivedStateFromProps;($=typeof ee=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(T!==q||H!==z)&&fm(o,M,f,z),yi=!1,H=o.memoizedState,M.state=H,Ia(o,f,M,y);var re=o.memoizedState;T!==q||H!==re||zt.current||yi?(typeof ee=="function"&&(Wc(o,c,ee,f),re=o.memoizedState),(D=yi||hm(o,c,D,f,H,re,z)||!1)?($||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(f,re,z),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(f,re,z)),typeof M.componentDidUpdate=="function"&&(o.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof M.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=re),M.props=f,M.state=re,M.context=z,f=D):(typeof M.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(o.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(o.flags|=1024),f=!1)}return qc(r,o,c,f,w,y)}function qc(r,o,c,f,y,w){Mm(r,o);var M=(o.flags&128)!==0;if(!f&&!M)return y&&Ep(o,c,!1),Hn(r,o,w);f=o.stateNode,Q1.current=o;var T=M&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,r!==null&&M?(o.child=Rr(o,r.child,null,w),o.child=Rr(o,null,T,w)):Ct(r,o,T,w),o.memoizedState=f.state,y&&Ep(o,c,!0),o.child}function Cm(r){var o=r.stateNode;o.pendingContext?kp(r,o.pendingContext,o.pendingContext!==o.context):o.context&&kp(r,o.context,!1),Ic(r,o.containerInfo)}function Am(r,o,c,f,y){return zr(),Mc(y),o.flags|=256,Ct(r,o,c,f),o.child}var Jc={dehydrated:null,treeContext:null,retryLane:0};function Xc(r){return{baseLanes:r,cachePool:null,transitions:null}}function km(r,o,c){var f=o.pendingProps,y=Je.current,w=!1,M=(o.flags&128)!==0,T;if((T=M)||(T=r!==null&&r.memoizedState===null?!1:(y&2)!==0),T?(w=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),We(Je,y&1),r===null)return bc(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(M=f.children,r=f.fallback,w?(f=o.mode,w=o.child,M={mode:"hidden",children:M},!(f&1)&&w!==null?(w.childLanes=0,w.pendingProps=M):w=Za(M,f,0,null),r=Zi(r,f,c,null),w.return=o,r.return=o,w.sibling=r,o.child=w,o.child.memoizedState=Xc(c),o.memoizedState=Jc,r):Yc(o,M));if(y=r.memoizedState,y!==null&&(T=y.dehydrated,T!==null))return K1(r,o,M,f,T,y,c);if(w){w=f.fallback,M=o.mode,y=r.child,T=y.sibling;var z={mode:"hidden",children:f.children};return!(M&1)&&o.child!==y?(f=o.child,f.childLanes=0,f.pendingProps=z,o.deletions=null):(f=_i(y,z),f.subtreeFlags=y.subtreeFlags&14680064),T!==null?w=_i(T,w):(w=Zi(w,M,c,null),w.flags|=2),w.return=o,f.return=o,f.sibling=w,o.child=f,f=w,w=o.child,M=r.child.memoizedState,M=M===null?Xc(c):{baseLanes:M.baseLanes|c,cachePool:null,transitions:M.transitions},w.memoizedState=M,w.childLanes=r.childLanes&~c,o.memoizedState=Jc,f}return w=r.child,r=w.sibling,f=_i(w,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=c),f.return=o,f.sibling=null,r!==null&&(c=o.deletions,c===null?(o.deletions=[r],o.flags|=16):c.push(r)),o.child=f,o.memoizedState=null,f}function Yc(r,o){return o=Za({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Ba(r,o,c,f){return f!==null&&Mc(f),Rr(o,r.child,null,c),r=Yc(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function K1(r,o,c,f,y,w,M){if(c)return o.flags&256?(o.flags&=-257,f=$c(Error(t(422))),Ba(r,o,M,f)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(w=f.fallback,y=o.mode,f=Za({mode:"visible",children:f.children},y,0,null),w=Zi(w,y,M,null),w.flags|=2,f.return=o,w.return=o,f.sibling=w,o.child=f,o.mode&1&&Rr(o,r.child,null,M),o.child.memoizedState=Xc(M),o.memoizedState=Jc,w);if(!(o.mode&1))return Ba(r,o,M,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var T=f.dgst;return f=T,w=Error(t(419)),f=$c(w,f,void 0),Ba(r,o,M,f)}if(T=(M&r.childLanes)!==0,Ft||T){if(f=ht,f!==null){switch(M&-M){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(f.suspendedLanes|M)?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,Vn(r,y),yn(f,r,y,-1))}return dh(),f=$c(Error(t(421))),Ba(r,o,M,f)}return y.data==="$?"?(o.flags|=128,o.child=r.child,o=dv.bind(null,r),y._reactRetry=o,null):(r=w.treeContext,$t=fi(y.nextSibling),Ht=o,Ge=!0,fn=null,r!==null&&(en[tn++]=Dn,en[tn++]=Un,en[tn++]=Wi,Dn=r.id,Un=r.overflow,Wi=o),o=Yc(o,f.children),o.flags|=4096,o)}function Tm(r,o,c){r.lanes|=o;var f=r.alternate;f!==null&&(f.lanes|=o),kc(r.return,o,c)}function Zc(r,o,c,f,y){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(w.isBackwards=o,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=c,w.tailMode=y)}function Em(r,o,c){var f=o.pendingProps,y=f.revealOrder,w=f.tail;if(Ct(r,o,f.children,c),f=Je.current,f&2)f=f&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Tm(r,c,o);else if(r.tag===19)Tm(r,c,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}if(We(Je,f),!(o.mode&1))o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)r=c.alternate,r!==null&&Pa(r)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),Zc(o,!1,y,c,w);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&Pa(r)===null){o.child=y;break}r=y.sibling,y.sibling=c,c=y,y=r}Zc(o,!0,c,null,w);break;case"together":Zc(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Da(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Hn(r,o,c){if(r!==null&&(o.dependencies=r.dependencies),qi|=o.lanes,!(c&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,c=_i(r,r.pendingProps),o.child=c,c.return=o;r.sibling!==null;)r=r.sibling,c=c.sibling=_i(r,r.pendingProps),c.return=o;c.sibling=null}return o.child}function ev(r,o,c){switch(o.tag){case 3:Cm(o),zr();break;case 5:Hp(o);break;case 1:Rt(o.type)&&Sa(o);break;case 4:Ic(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,y=o.memoizedProps.value;We(ka,f._currentValue),f._currentValue=y;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(We(Je,Je.current&1),o.flags|=128,null):c&o.child.childLanes?km(r,o,c):(We(Je,Je.current&1),r=Hn(r,o,c),r!==null?r.sibling:null);We(Je,Je.current&1);break;case 19:if(f=(c&o.childLanes)!==0,r.flags&128){if(f)return Em(r,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),We(Je,Je.current),f)break;return null;case 22:case 23:return o.lanes=0,bm(r,o,c)}return Hn(r,o,c)}var Im,Qc,Pm,zm;Im=function(r,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Qc=function(){},Pm=function(r,o,c,f){var y=r.memoizedProps;if(y!==f){r=o.stateNode,ji(Cn.current);var w=null;switch(c){case"input":y=ne(r,y),f=ne(r,f),w=[];break;case"select":y=J({},y,{value:void 0}),f=J({},f,{value:void 0}),w=[];break;case"textarea":y=On(r,y),f=On(r,f),w=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(r.onclick=xa)}zu(c,f);var M;c=null;for(D in y)if(!f.hasOwnProperty(D)&&y.hasOwnProperty(D)&&y[D]!=null)if(D==="style"){var T=y[D];for(M in T)T.hasOwnProperty(M)&&(c||(c={}),c[M]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?w||(w=[]):(w=w||[]).push(D,null));for(D in f){var z=f[D];if(T=y!=null?y[D]:void 0,f.hasOwnProperty(D)&&z!==T&&(z!=null||T!=null))if(D==="style")if(T){for(M in T)!T.hasOwnProperty(M)||z&&z.hasOwnProperty(M)||(c||(c={}),c[M]="");for(M in z)z.hasOwnProperty(M)&&T[M]!==z[M]&&(c||(c={}),c[M]=z[M])}else c||(w||(w=[]),w.push(D,c)),c=z;else D==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,T=T?T.__html:void 0,z!=null&&T!==z&&(w=w||[]).push(D,z)):D==="children"?typeof z!="string"&&typeof z!="number"||(w=w||[]).push(D,""+z):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(i.hasOwnProperty(D)?(z!=null&&D==="onScroll"&&He("scroll",r),w||T===z||(w=[])):(w=w||[]).push(D,z))}c&&(w=w||[]).push("style",c);var D=w;(o.updateQueue=D)&&(o.flags|=4)}},zm=function(r,o,c,f){c!==f&&(o.flags|=4)};function ro(r,o){if(!Ge)switch(r.tailMode){case"hidden":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function vt(r){var o=r.alternate!==null&&r.alternate.child===r.child,c=0,f=0;if(o)for(var y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=f,r.childLanes=c,o}function tv(r,o,c){var f=o.pendingProps;switch(wc(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(o),null;case 1:return Rt(o.type)&&wa(),vt(o),null;case 3:return f=o.stateNode,Or(),$e(zt),$e(yt),Rc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(Ca(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,fn!==null&&(uh(fn),fn=null))),Qc(r,o),vt(o),null;case 5:Pc(o);var y=ji(Ks.current);if(c=o.type,r!==null&&o.stateNode!=null)Pm(r,o,c,f,y),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return vt(o),null}if(r=ji(Cn.current),Ca(o)){f=o.stateNode,c=o.type;var w=o.memoizedProps;switch(f[_n]=o,f[Js]=w,r=(o.mode&1)!==0,c){case"dialog":He("cancel",f),He("close",f);break;case"iframe":case"object":case"embed":He("load",f);break;case"video":case"audio":for(y=0;y<js.length;y++)He(js[y],f);break;case"source":He("error",f);break;case"img":case"image":case"link":He("error",f),He("load",f);break;case"details":He("toggle",f);break;case"input":me(f,w),He("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},He("invalid",f);break;case"textarea":mr(f,w),He("invalid",f)}zu(c,w),y=null;for(var M in w)if(w.hasOwnProperty(M)){var T=w[M];M==="children"?typeof T=="string"?f.textContent!==T&&(w.suppressHydrationWarning!==!0&&ya(f.textContent,T,r),y=["children",T]):typeof T=="number"&&f.textContent!==""+T&&(w.suppressHydrationWarning!==!0&&ya(f.textContent,T,r),y=["children",""+T]):i.hasOwnProperty(M)&&T!=null&&M==="onScroll"&&He("scroll",f)}switch(c){case"input":Pt(f),Fe(f,w,!0);break;case"textarea":Pt(f),As(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=xa)}f=y,o.updateQueue=f,f!==null&&(o.flags|=4)}else{M=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ks(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=M.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof f.is=="string"?r=M.createElement(c,{is:f.is}):(r=M.createElement(c),c==="select"&&(M=r,f.multiple?M.multiple=!0:f.size&&(M.size=f.size))):r=M.createElementNS(r,c),r[_n]=o,r[Js]=f,Im(r,o,!1,!1),o.stateNode=r;e:{switch(M=Ru(c,f),c){case"dialog":He("cancel",r),He("close",r),y=f;break;case"iframe":case"object":case"embed":He("load",r),y=f;break;case"video":case"audio":for(y=0;y<js.length;y++)He(js[y],r);y=f;break;case"source":He("error",r),y=f;break;case"img":case"image":case"link":He("error",r),He("load",r),y=f;break;case"details":He("toggle",r),y=f;break;case"input":me(r,f),y=ne(r,f),He("invalid",r);break;case"option":y=f;break;case"select":r._wrapperState={wasMultiple:!!f.multiple},y=J({},f,{value:void 0}),He("invalid",r);break;case"textarea":mr(r,f),y=On(r,f),He("invalid",r);break;default:y=f}zu(c,y),T=y;for(w in T)if(T.hasOwnProperty(w)){var z=T[w];w==="style"?Sf(r,z):w==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&Yo(r,z)):w==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&si(r,z):typeof z=="number"&&si(r,""+z):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?z!=null&&w==="onScroll"&&He("scroll",r):z!=null&&A(r,w,z,M))}switch(c){case"input":Pt(r),Fe(r,f,!1);break;case"textarea":Pt(r),As(r);break;case"option":f.value!=null&&r.setAttribute("value",""+Pe(f.value));break;case"select":r.multiple=!!f.multiple,w=f.value,w!=null?je(r,!!f.multiple,w,!1):f.defaultValue!=null&&je(r,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=xa)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vt(o),null;case 6:if(r&&o.stateNode!=null)zm(r,o,r.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(c=ji(Ks.current),ji(Cn.current),Ca(o)){if(f=o.stateNode,c=o.memoizedProps,f[_n]=o,(w=f.nodeValue!==c)&&(r=Ht,r!==null))switch(r.tag){case 3:ya(f.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ya(f.nodeValue,c,(r.mode&1)!==0)}w&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[_n]=o,o.stateNode=f}return vt(o),null;case 13:if($e(Je),f=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ge&&$t!==null&&o.mode&1&&!(o.flags&128))Lp(),zr(),o.flags|=98560,w=!1;else if(w=Ca(o),f!==null&&f.dehydrated!==null){if(r===null){if(!w)throw Error(t(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[_n]=o}else zr(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;vt(o),w=!1}else fn!==null&&(uh(fn),fn=null),w=!0;if(!w)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(f=f!==null,f!==(r!==null&&r.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(r===null||Je.current&1?lt===0&&(lt=3):dh())),o.updateQueue!==null&&(o.flags|=4),vt(o),null);case 4:return Or(),Qc(r,o),r===null&&Gs(o.stateNode.containerInfo),vt(o),null;case 10:return Ac(o.type._context),vt(o),null;case 17:return Rt(o.type)&&wa(),vt(o),null;case 19:if($e(Je),w=o.memoizedState,w===null)return vt(o),null;if(f=(o.flags&128)!==0,M=w.rendering,M===null)if(f)ro(w,!1);else{if(lt!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(M=Pa(r),M!==null){for(o.flags|=128,ro(w,!1),f=M.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)w=c,r=f,w.flags&=14680066,M=w.alternate,M===null?(w.childLanes=0,w.lanes=r,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=M.childLanes,w.lanes=M.lanes,w.child=M.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=M.memoizedProps,w.memoizedState=M.memoizedState,w.updateQueue=M.updateQueue,w.type=M.type,r=M.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return We(Je,Je.current&1|2),o.child}r=r.sibling}w.tail!==null&&nt()>Ur&&(o.flags|=128,f=!0,ro(w,!1),o.lanes=4194304)}else{if(!f)if(r=Pa(M),r!==null){if(o.flags|=128,f=!0,c=r.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),ro(w,!0),w.tail===null&&w.tailMode==="hidden"&&!M.alternate&&!Ge)return vt(o),null}else 2*nt()-w.renderingStartTime>Ur&&c!==1073741824&&(o.flags|=128,f=!0,ro(w,!1),o.lanes=4194304);w.isBackwards?(M.sibling=o.child,o.child=M):(c=w.last,c!==null?c.sibling=M:o.child=M,w.last=M)}return w.tail!==null?(o=w.tail,w.rendering=o,w.tail=o.sibling,w.renderingStartTime=nt(),o.sibling=null,c=Je.current,We(Je,f?c&1|2:c&1),o):(vt(o),null);case 22:case 23:return hh(),f=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?jt&1073741824&&(vt(o),o.subtreeFlags&6&&(o.flags|=8192)):vt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function nv(r,o){switch(wc(o),o.tag){case 1:return Rt(o.type)&&wa(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Or(),$e(zt),$e(yt),Rc(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return Pc(o),null;case 13:if($e(Je),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));zr()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return $e(Je),null;case 4:return Or(),null;case 10:return Ac(o.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var Ua=!1,wt=!1,iv=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Br(r,o){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Ke(r,o,f)}else c.current=null}function Kc(r,o,c){try{c()}catch(f){Ke(r,o,f)}}var Rm=!1;function rv(r,o){if(hc=oa,r=hp(),ic(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var M=0,T=-1,z=-1,D=0,$=0,q=r,H=null;t:for(;;){for(var ee;q!==c||y!==0&&q.nodeType!==3||(T=M+y),q!==w||f!==0&&q.nodeType!==3||(z=M+f),q.nodeType===3&&(M+=q.nodeValue.length),(ee=q.firstChild)!==null;)H=q,q=ee;for(;;){if(q===r)break t;if(H===c&&++D===y&&(T=M),H===w&&++$===f&&(z=M),(ee=q.nextSibling)!==null)break;q=H,H=q.parentNode}q=ee}c=T===-1||z===-1?null:{start:T,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(dc={focusedElem:r,selectionRange:c},oa=!1,ie=o;ie!==null;)if(o=ie,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,ie=r;else for(;ie!==null;){o=ie;try{var re=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var se=re.memoizedProps,it=re.memoizedState,O=o.stateNode,L=O.getSnapshotBeforeUpdate(o.elementType===o.type?se:pn(o.type,se),it);O.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var B=o.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Y){Ke(o,o.return,Y)}if(r=o.sibling,r!==null){r.return=o.return,ie=r;break}ie=o.return}return re=Rm,Rm=!1,re}function so(r,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&r)===r){var w=y.destroy;y.destroy=void 0,w!==void 0&&Kc(o,c,w)}y=y.next}while(y!==f)}}function Va(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&r)===r){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function eh(r){var o=r.ref;if(o!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof o=="function"?o(r):o.current=r}}function Fm(r){var o=r.alternate;o!==null&&(r.alternate=null,Fm(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[_n],delete o[Js],delete o[gc],delete o[U1],delete o[V1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Lm(r){return r.tag===5||r.tag===3||r.tag===4}function Om(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Lm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function th(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(r,o):c.insertBefore(r,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(r,c)):(o=c,o.appendChild(r)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=xa));else if(f!==4&&(r=r.child,r!==null))for(th(r,o,c),r=r.sibling;r!==null;)th(r,o,c),r=r.sibling}function nh(r,o,c){var f=r.tag;if(f===5||f===6)r=r.stateNode,o?c.insertBefore(r,o):c.appendChild(r);else if(f!==4&&(r=r.child,r!==null))for(nh(r,o,c),r=r.sibling;r!==null;)nh(r,o,c),r=r.sibling}var mt=null,mn=!1;function vi(r,o,c){for(c=c.child;c!==null;)Nm(r,o,c),c=c.sibling}function Nm(r,o,c){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(ea,c)}catch{}switch(c.tag){case 5:wt||Br(c,o);case 6:var f=mt,y=mn;mt=null,vi(r,o,c),mt=f,mn=y,mt!==null&&(mn?(r=mt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):mt.removeChild(c.stateNode));break;case 18:mt!==null&&(mn?(r=mt,c=c.stateNode,r.nodeType===8?mc(r.parentNode,c):r.nodeType===1&&mc(r,c),Ns(r)):mc(mt,c.stateNode));break;case 4:f=mt,y=mn,mt=c.stateNode.containerInfo,mn=!0,vi(r,o,c),mt=f,mn=y;break;case 0:case 11:case 14:case 15:if(!wt&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var w=y,M=w.destroy;w=w.tag,M!==void 0&&(w&2||w&4)&&Kc(c,o,M),y=y.next}while(y!==f)}vi(r,o,c);break;case 1:if(!wt&&(Br(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(T){Ke(c,o,T)}vi(r,o,c);break;case 21:vi(r,o,c);break;case 22:c.mode&1?(wt=(f=wt)||c.memoizedState!==null,vi(r,o,c),wt=f):vi(r,o,c);break;default:vi(r,o,c)}}function Bm(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new iv),o.forEach(function(f){var y=fv.bind(null,r,f);c.has(f)||(c.add(f),f.then(y,y))})}}function gn(r,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var w=r,M=o,T=M;e:for(;T!==null;){switch(T.tag){case 5:mt=T.stateNode,mn=!1;break e;case 3:mt=T.stateNode.containerInfo,mn=!0;break e;case 4:mt=T.stateNode.containerInfo,mn=!0;break e}T=T.return}if(mt===null)throw Error(t(160));Nm(w,M,y),mt=null,mn=!1;var z=y.alternate;z!==null&&(z.return=null),y.return=null}catch(D){Ke(y,o,D)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Dm(o,r),o=o.sibling}function Dm(r,o){var c=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(gn(o,r),kn(r),f&4){try{so(3,r,r.return),Va(3,r)}catch(se){Ke(r,r.return,se)}try{so(5,r,r.return)}catch(se){Ke(r,r.return,se)}}break;case 1:gn(o,r),kn(r),f&512&&c!==null&&Br(c,c.return);break;case 5:if(gn(o,r),kn(r),f&512&&c!==null&&Br(c,c.return),r.flags&32){var y=r.stateNode;try{si(y,"")}catch(se){Ke(r,r.return,se)}}if(f&4&&(y=r.stateNode,y!=null)){var w=r.memoizedProps,M=c!==null?c.memoizedProps:w,T=r.type,z=r.updateQueue;if(r.updateQueue=null,z!==null)try{T==="input"&&w.type==="radio"&&w.name!=null&&oe(y,w),Ru(T,M);var D=Ru(T,w);for(M=0;M<z.length;M+=2){var $=z[M],q=z[M+1];$==="style"?Sf(y,q):$==="dangerouslySetInnerHTML"?Yo(y,q):$==="children"?si(y,q):A(y,$,q,D)}switch(T){case"input":ze(y,w);break;case"textarea":Kt(y,w);break;case"select":var H=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var ee=w.value;ee!=null?je(y,!!w.multiple,ee,!1):H!==!!w.multiple&&(w.defaultValue!=null?je(y,!!w.multiple,w.defaultValue,!0):je(y,!!w.multiple,w.multiple?[]:"",!1))}y[Js]=w}catch(se){Ke(r,r.return,se)}}break;case 6:if(gn(o,r),kn(r),f&4){if(r.stateNode===null)throw Error(t(162));y=r.stateNode,w=r.memoizedProps;try{y.nodeValue=w}catch(se){Ke(r,r.return,se)}}break;case 3:if(gn(o,r),kn(r),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ns(o.containerInfo)}catch(se){Ke(r,r.return,se)}break;case 4:gn(o,r),kn(r);break;case 13:gn(o,r),kn(r),y=r.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(sh=nt())),f&4&&Bm(r);break;case 22:if($=c!==null&&c.memoizedState!==null,r.mode&1?(wt=(D=wt)||$,gn(o,r),wt=D):gn(o,r),kn(r),f&8192){if(D=r.memoizedState!==null,(r.stateNode.isHidden=D)&&!$&&r.mode&1)for(ie=r,$=r.child;$!==null;){for(q=ie=$;ie!==null;){switch(H=ie,ee=H.child,H.tag){case 0:case 11:case 14:case 15:so(4,H,H.return);break;case 1:Br(H,H.return);var re=H.stateNode;if(typeof re.componentWillUnmount=="function"){f=H,c=H.return;try{o=f,re.props=o.memoizedProps,re.state=o.memoizedState,re.componentWillUnmount()}catch(se){Ke(f,c,se)}}break;case 5:Br(H,H.return);break;case 22:if(H.memoizedState!==null){Wm(q);continue}}ee!==null?(ee.return=H,ie=ee):Wm(q)}$=$.sibling}e:for($=null,q=r;;){if(q.tag===5){if($===null){$=q;try{y=q.stateNode,D?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(T=q.stateNode,z=q.memoizedProps.style,M=z!=null&&z.hasOwnProperty("display")?z.display:null,T.style.display=wf("display",M))}catch(se){Ke(r,r.return,se)}}}else if(q.tag===6){if($===null)try{q.stateNode.nodeValue=D?"":q.memoizedProps}catch(se){Ke(r,r.return,se)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===r)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===r)break e;for(;q.sibling===null;){if(q.return===null||q.return===r)break e;$===q&&($=null),q=q.return}$===q&&($=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:gn(o,r),kn(r),f&4&&Bm(r);break;case 21:break;default:gn(o,r),kn(r)}}function kn(r){var o=r.flags;if(o&2){try{e:{for(var c=r.return;c!==null;){if(Lm(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(si(y,""),f.flags&=-33);var w=Om(r);nh(r,w,y);break;case 3:case 4:var M=f.stateNode.containerInfo,T=Om(r);th(r,T,M);break;default:throw Error(t(161))}}catch(z){Ke(r,r.return,z)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function sv(r,o,c){ie=r,Um(r)}function Um(r,o,c){for(var f=(r.mode&1)!==0;ie!==null;){var y=ie,w=y.child;if(y.tag===22&&f){var M=y.memoizedState!==null||Ua;if(!M){var T=y.alternate,z=T!==null&&T.memoizedState!==null||wt;T=Ua;var D=wt;if(Ua=M,(wt=z)&&!D)for(ie=y;ie!==null;)M=ie,z=M.child,M.tag===22&&M.memoizedState!==null?Hm(y):z!==null?(z.return=M,ie=z):Hm(y);for(;w!==null;)ie=w,Um(w),w=w.sibling;ie=y,Ua=T,wt=D}Vm(r)}else y.subtreeFlags&8772&&w!==null?(w.return=y,ie=w):Vm(r)}}function Vm(r){for(;ie!==null;){var o=ie;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:wt||Va(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!wt)if(c===null)f.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:pn(o.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=o.updateQueue;w!==null&&Wp(o,w,f);break;case 3:var M=o.updateQueue;if(M!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Wp(o,M,c)}break;case 5:var T=o.stateNode;if(c===null&&o.flags&4){c=T;var z=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var D=o.alternate;if(D!==null){var $=D.memoizedState;if($!==null){var q=$.dehydrated;q!==null&&Ns(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}wt||o.flags&512&&eh(o)}catch(H){Ke(o,o.return,H)}}if(o===r){ie=null;break}if(c=o.sibling,c!==null){c.return=o.return,ie=c;break}ie=o.return}}function Wm(r){for(;ie!==null;){var o=ie;if(o===r){ie=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ie=c;break}ie=o.return}}function Hm(r){for(;ie!==null;){var o=ie;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Va(4,o)}catch(z){Ke(o,c,z)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var y=o.return;try{f.componentDidMount()}catch(z){Ke(o,y,z)}}var w=o.return;try{eh(o)}catch(z){Ke(o,w,z)}break;case 5:var M=o.return;try{eh(o)}catch(z){Ke(o,M,z)}}}catch(z){Ke(o,o.return,z)}if(o===r){ie=null;break}var T=o.sibling;if(T!==null){T.return=o.return,ie=T;break}ie=o.return}}var ov=Math.ceil,Wa=k.ReactCurrentDispatcher,ih=k.ReactCurrentOwner,sn=k.ReactCurrentBatchConfig,Re=0,ht=null,st=null,gt=0,jt=0,Dr=pi(0),lt=0,oo=null,qi=0,Ha=0,rh=0,ao=null,Lt=null,sh=0,Ur=1/0,$n=null,$a=!1,oh=null,wi=null,ja=!1,Si=null,Ga=0,lo=0,ah=null,qa=-1,Ja=0;function At(){return Re&6?nt():qa!==-1?qa:qa=nt()}function bi(r){return r.mode&1?Re&2&&gt!==0?gt&-gt:H1.transition!==null?(Ja===0&&(Ja=Of()),Ja):(r=De,r!==0||(r=window.event,r=r===void 0?16:jf(r.type)),r):1}function yn(r,o,c,f){if(50<lo)throw lo=0,ah=null,Error(t(185));zs(r,c,f),(!(Re&2)||r!==ht)&&(r===ht&&(!(Re&2)&&(Ha|=c),lt===4&&Mi(r,gt)),Ot(r,f),c===1&&Re===0&&!(o.mode&1)&&(Ur=nt()+500,ba&&gi()))}function Ot(r,o){var c=r.callbackNode;Hx(r,o);var f=ia(r,r===ht?gt:0);if(f===0)c!==null&&Rf(c),r.callbackNode=null,r.callbackPriority=0;else if(o=f&-f,r.callbackPriority!==o){if(c!=null&&Rf(c),o===1)r.tag===0?W1(jm.bind(null,r)):Ip(jm.bind(null,r)),B1(function(){!(Re&6)&&gi()}),c=null;else{switch(Nf(f)){case 1:c=Uu;break;case 4:c=Ff;break;case 16:c=Ko;break;case 536870912:c=Lf;break;default:c=Ko}c=Km(c,$m.bind(null,r))}r.callbackPriority=o,r.callbackNode=c}}function $m(r,o){if(qa=-1,Ja=0,Re&6)throw Error(t(327));var c=r.callbackNode;if(Vr()&&r.callbackNode!==c)return null;var f=ia(r,r===ht?gt:0);if(f===0)return null;if(f&30||f&r.expiredLanes||o)o=Xa(r,f);else{o=f;var y=Re;Re|=2;var w=qm();(ht!==r||gt!==o)&&($n=null,Ur=nt()+500,Xi(r,o));do try{uv();break}catch(T){Gm(r,T)}while(!0);Cc(),Wa.current=w,Re=y,st!==null?o=0:(ht=null,gt=0,o=lt)}if(o!==0){if(o===2&&(y=Vu(r),y!==0&&(f=y,o=lh(r,y))),o===1)throw c=oo,Xi(r,0),Mi(r,f),Ot(r,nt()),c;if(o===6)Mi(r,f);else{if(y=r.current.alternate,!(f&30)&&!av(y)&&(o=Xa(r,f),o===2&&(w=Vu(r),w!==0&&(f=w,o=lh(r,w))),o===1))throw c=oo,Xi(r,0),Mi(r,f),Ot(r,nt()),c;switch(r.finishedWork=y,r.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:Yi(r,Lt,$n);break;case 3:if(Mi(r,f),(f&130023424)===f&&(o=sh+500-nt(),10<o)){if(ia(r,0)!==0)break;if(y=r.suspendedLanes,(y&f)!==f){At(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=pc(Yi.bind(null,r,Lt,$n),o);break}Yi(r,Lt,$n);break;case 4:if(Mi(r,f),(f&4194240)===f)break;for(o=r.eventTimes,y=-1;0<f;){var M=31-hn(f);w=1<<M,M=o[M],M>y&&(y=M),f&=~w}if(f=y,f=nt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*ov(f/1960))-f,10<f){r.timeoutHandle=pc(Yi.bind(null,r,Lt,$n),f);break}Yi(r,Lt,$n);break;case 5:Yi(r,Lt,$n);break;default:throw Error(t(329))}}}return Ot(r,nt()),r.callbackNode===c?$m.bind(null,r):null}function lh(r,o){var c=ao;return r.current.memoizedState.isDehydrated&&(Xi(r,o).flags|=256),r=Xa(r,o),r!==2&&(o=Lt,Lt=c,o!==null&&uh(o)),r}function uh(r){Lt===null?Lt=r:Lt.push.apply(Lt,r)}function av(r){for(var o=r;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],w=y.getSnapshot;y=y.value;try{if(!dn(w(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Mi(r,o){for(o&=~rh,o&=~Ha,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var c=31-hn(o),f=1<<c;r[c]=-1,o&=~f}}function jm(r){if(Re&6)throw Error(t(327));Vr();var o=ia(r,0);if(!(o&1))return Ot(r,nt()),null;var c=Xa(r,o);if(r.tag!==0&&c===2){var f=Vu(r);f!==0&&(o=f,c=lh(r,f))}if(c===1)throw c=oo,Xi(r,0),Mi(r,o),Ot(r,nt()),c;if(c===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Yi(r,Lt,$n),Ot(r,nt()),null}function ch(r,o){var c=Re;Re|=1;try{return r(o)}finally{Re=c,Re===0&&(Ur=nt()+500,ba&&gi())}}function Ji(r){Si!==null&&Si.tag===0&&!(Re&6)&&Vr();var o=Re;Re|=1;var c=sn.transition,f=De;try{if(sn.transition=null,De=1,r)return r()}finally{De=f,sn.transition=c,Re=o,!(Re&6)&&gi()}}function hh(){jt=Dr.current,$e(Dr)}function Xi(r,o){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,N1(c)),st!==null)for(c=st.return;c!==null;){var f=c;switch(wc(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&wa();break;case 3:Or(),$e(zt),$e(yt),Rc();break;case 5:Pc(f);break;case 4:Or();break;case 13:$e(Je);break;case 19:$e(Je);break;case 10:Ac(f.type._context);break;case 22:case 23:hh()}c=c.return}if(ht=r,st=r=_i(r.current,null),gt=jt=o,lt=0,oo=null,rh=Ha=qi=0,Lt=ao=null,$i!==null){for(o=0;o<$i.length;o++)if(c=$i[o],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,w=c.pending;if(w!==null){var M=w.next;w.next=y,f.next=M}c.pending=f}$i=null}return r}function Gm(r,o){do{var c=st;try{if(Cc(),za.current=Oa,Ra){for(var f=Xe.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}Ra=!1}if(Gi=0,ct=at=Xe=null,eo=!1,to=0,ih.current=null,c===null||c.return===null){lt=1,oo=o,st=null;break}e:{var w=r,M=c.return,T=c,z=o;if(o=gt,T.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var D=z,$=T,q=$.tag;if(!($.mode&1)&&(q===0||q===11||q===15)){var H=$.alternate;H?($.updateQueue=H.updateQueue,$.memoizedState=H.memoizedState,$.lanes=H.lanes):($.updateQueue=null,$.memoizedState=null)}var ee=ym(M);if(ee!==null){ee.flags&=-257,xm(ee,M,T,w,o),ee.mode&1&&gm(w,D,o),o=ee,z=D;var re=o.updateQueue;if(re===null){var se=new Set;se.add(z),o.updateQueue=se}else re.add(z);break e}else{if(!(o&1)){gm(w,D,o),dh();break e}z=Error(t(426))}}else if(Ge&&T.mode&1){var it=ym(M);if(it!==null){!(it.flags&65536)&&(it.flags|=256),xm(it,M,T,w,o),Mc(Nr(z,T));break e}}w=z=Nr(z,T),lt!==4&&(lt=2),ao===null?ao=[w]:ao.push(w),w=M;do{switch(w.tag){case 3:w.flags|=65536,o&=-o,w.lanes|=o;var O=pm(w,z,o);Vp(w,O);break e;case 1:T=z;var L=w.type,B=w.stateNode;if(!(w.flags&128)&&(typeof L.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(wi===null||!wi.has(B)))){w.flags|=65536,o&=-o,w.lanes|=o;var Y=mm(w,T,o);Vp(w,Y);break e}}w=w.return}while(w!==null)}Xm(c)}catch(ae){o=ae,st===c&&c!==null&&(st=c=c.return);continue}break}while(!0)}function qm(){var r=Wa.current;return Wa.current=Oa,r===null?Oa:r}function dh(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||!(qi&268435455)&&!(Ha&268435455)||Mi(ht,gt)}function Xa(r,o){var c=Re;Re|=2;var f=qm();(ht!==r||gt!==o)&&($n=null,Xi(r,o));do try{lv();break}catch(y){Gm(r,y)}while(!0);if(Cc(),Re=c,Wa.current=f,st!==null)throw Error(t(261));return ht=null,gt=0,lt}function lv(){for(;st!==null;)Jm(st)}function uv(){for(;st!==null&&!Fx();)Jm(st)}function Jm(r){var o=Qm(r.alternate,r,jt);r.memoizedProps=r.pendingProps,o===null?Xm(r):st=o,ih.current=null}function Xm(r){var o=r;do{var c=o.alternate;if(r=o.return,o.flags&32768){if(c=nv(c,o),c!==null){c.flags&=32767,st=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{lt=6,st=null;return}}else if(c=tv(c,o,jt),c!==null){st=c;return}if(o=o.sibling,o!==null){st=o;return}st=o=r}while(o!==null);lt===0&&(lt=5)}function Yi(r,o,c){var f=De,y=sn.transition;try{sn.transition=null,De=1,cv(r,o,c,f)}finally{sn.transition=y,De=f}return null}function cv(r,o,c,f){do Vr();while(Si!==null);if(Re&6)throw Error(t(327));c=r.finishedWork;var y=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var w=c.lanes|c.childLanes;if($x(r,w),r===ht&&(st=ht=null,gt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||ja||(ja=!0,Km(Ko,function(){return Vr(),null})),w=(c.flags&15990)!==0,c.subtreeFlags&15990||w){w=sn.transition,sn.transition=null;var M=De;De=1;var T=Re;Re|=4,ih.current=null,rv(r,c),Dm(c,r),I1(dc),oa=!!hc,dc=hc=null,r.current=c,sv(c),Lx(),Re=T,De=M,sn.transition=w}else r.current=c;if(ja&&(ja=!1,Si=r,Ga=y),w=r.pendingLanes,w===0&&(wi=null),Bx(c.stateNode),Ot(r,nt()),o!==null)for(f=r.onRecoverableError,c=0;c<o.length;c++)y=o[c],f(y.value,{componentStack:y.stack,digest:y.digest});if($a)throw $a=!1,r=oh,oh=null,r;return Ga&1&&r.tag!==0&&Vr(),w=r.pendingLanes,w&1?r===ah?lo++:(lo=0,ah=r):lo=0,gi(),null}function Vr(){if(Si!==null){var r=Nf(Ga),o=sn.transition,c=De;try{if(sn.transition=null,De=16>r?16:r,Si===null)var f=!1;else{if(r=Si,Si=null,Ga=0,Re&6)throw Error(t(331));var y=Re;for(Re|=4,ie=r.current;ie!==null;){var w=ie,M=w.child;if(ie.flags&16){var T=w.deletions;if(T!==null){for(var z=0;z<T.length;z++){var D=T[z];for(ie=D;ie!==null;){var $=ie;switch($.tag){case 0:case 11:case 15:so(8,$,w)}var q=$.child;if(q!==null)q.return=$,ie=q;else for(;ie!==null;){$=ie;var H=$.sibling,ee=$.return;if(Fm($),$===D){ie=null;break}if(H!==null){H.return=ee,ie=H;break}ie=ee}}}var re=w.alternate;if(re!==null){var se=re.child;if(se!==null){re.child=null;do{var it=se.sibling;se.sibling=null,se=it}while(se!==null)}}ie=w}}if(w.subtreeFlags&2064&&M!==null)M.return=w,ie=M;else e:for(;ie!==null;){if(w=ie,w.flags&2048)switch(w.tag){case 0:case 11:case 15:so(9,w,w.return)}var O=w.sibling;if(O!==null){O.return=w.return,ie=O;break e}ie=w.return}}var L=r.current;for(ie=L;ie!==null;){M=ie;var B=M.child;if(M.subtreeFlags&2064&&B!==null)B.return=M,ie=B;else e:for(M=L;ie!==null;){if(T=ie,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:Va(9,T)}}catch(ae){Ke(T,T.return,ae)}if(T===M){ie=null;break e}var Y=T.sibling;if(Y!==null){Y.return=T.return,ie=Y;break e}ie=T.return}}if(Re=y,gi(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(ea,r)}catch{}f=!0}return f}finally{De=c,sn.transition=o}}return!1}function Ym(r,o,c){o=Nr(c,o),o=pm(r,o,1),r=xi(r,o,1),o=At(),r!==null&&(zs(r,1,o),Ot(r,o))}function Ke(r,o,c){if(r.tag===3)Ym(r,r,c);else for(;o!==null;){if(o.tag===3){Ym(o,r,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(wi===null||!wi.has(f))){r=Nr(c,r),r=mm(o,r,1),o=xi(o,r,1),r=At(),o!==null&&(zs(o,1,r),Ot(o,r));break}}o=o.return}}function hv(r,o,c){var f=r.pingCache;f!==null&&f.delete(o),o=At(),r.pingedLanes|=r.suspendedLanes&c,ht===r&&(gt&c)===c&&(lt===4||lt===3&&(gt&130023424)===gt&&500>nt()-sh?Xi(r,0):rh|=c),Ot(r,o)}function Zm(r,o){o===0&&(r.mode&1?(o=na,na<<=1,!(na&130023424)&&(na=4194304)):o=1);var c=At();r=Vn(r,o),r!==null&&(zs(r,o,c),Ot(r,c))}function dv(r){var o=r.memoizedState,c=0;o!==null&&(c=o.retryLane),Zm(r,c)}function fv(r,o){var c=0;switch(r.tag){case 13:var f=r.stateNode,y=r.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=r.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),Zm(r,c)}var Qm;Qm=function(r,o,c){if(r!==null)if(r.memoizedProps!==o.pendingProps||zt.current)Ft=!0;else{if(!(r.lanes&c)&&!(o.flags&128))return Ft=!1,ev(r,o,c);Ft=!!(r.flags&131072)}else Ft=!1,Ge&&o.flags&1048576&&Pp(o,_a,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Da(r,o),r=o.pendingProps;var y=Er(o,yt.current);Lr(o,c),y=Oc(null,o,f,r,y,c);var w=Nc();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Rt(f)?(w=!0,Sa(o)):w=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Ec(o),y.updater=Na,o.stateNode=y,y._reactInternals=o,Hc(o,f,r,c),o=qc(null,o,f,!0,w,c)):(o.tag=0,Ge&&w&&vc(o),Ct(null,o,y,c),o=o.child),o;case 16:f=o.elementType;e:{switch(Da(r,o),r=o.pendingProps,y=f._init,f=y(f._payload),o.type=f,y=o.tag=mv(f),r=pn(f,r),y){case 0:o=Gc(null,o,f,r,c);break e;case 1:o=_m(null,o,f,r,c);break e;case 11:o=vm(null,o,f,r,c);break e;case 14:o=wm(null,o,f,pn(f.type,r),c);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:pn(f,y),Gc(r,o,f,y,c);case 1:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:pn(f,y),_m(r,o,f,y,c);case 3:e:{if(Cm(o),r===null)throw Error(t(387));f=o.pendingProps,w=o.memoizedState,y=w.element,Up(r,o),Ia(o,f,null,c);var M=o.memoizedState;if(f=M.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){y=Nr(Error(t(423)),o),o=Am(r,o,f,c,y);break e}else if(f!==y){y=Nr(Error(t(424)),o),o=Am(r,o,f,c,y);break e}else for($t=fi(o.stateNode.containerInfo.firstChild),Ht=o,Ge=!0,fn=null,c=Bp(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(zr(),f===y){o=Hn(r,o,c);break e}Ct(r,o,f,c)}o=o.child}return o;case 5:return Hp(o),r===null&&bc(o),f=o.type,y=o.pendingProps,w=r!==null?r.memoizedProps:null,M=y.children,fc(f,y)?M=null:w!==null&&fc(f,w)&&(o.flags|=32),Mm(r,o),Ct(r,o,M,c),o.child;case 6:return r===null&&bc(o),null;case 13:return km(r,o,c);case 4:return Ic(o,o.stateNode.containerInfo),f=o.pendingProps,r===null?o.child=Rr(o,null,f,c):Ct(r,o,f,c),o.child;case 11:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:pn(f,y),vm(r,o,f,y,c);case 7:return Ct(r,o,o.pendingProps,c),o.child;case 8:return Ct(r,o,o.pendingProps.children,c),o.child;case 12:return Ct(r,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,y=o.pendingProps,w=o.memoizedProps,M=y.value,We(ka,f._currentValue),f._currentValue=M,w!==null)if(dn(w.value,M)){if(w.children===y.children&&!zt.current){o=Hn(r,o,c);break e}}else for(w=o.child,w!==null&&(w.return=o);w!==null;){var T=w.dependencies;if(T!==null){M=w.child;for(var z=T.firstContext;z!==null;){if(z.context===f){if(w.tag===1){z=Wn(-1,c&-c),z.tag=2;var D=w.updateQueue;if(D!==null){D=D.shared;var $=D.pending;$===null?z.next=z:(z.next=$.next,$.next=z),D.pending=z}}w.lanes|=c,z=w.alternate,z!==null&&(z.lanes|=c),kc(w.return,c,o),T.lanes|=c;break}z=z.next}}else if(w.tag===10)M=w.type===o.type?null:w.child;else if(w.tag===18){if(M=w.return,M===null)throw Error(t(341));M.lanes|=c,T=M.alternate,T!==null&&(T.lanes|=c),kc(M,c,o),M=w.sibling}else M=w.child;if(M!==null)M.return=w;else for(M=w;M!==null;){if(M===o){M=null;break}if(w=M.sibling,w!==null){w.return=M.return,M=w;break}M=M.return}w=M}Ct(r,o,y.children,c),o=o.child}return o;case 9:return y=o.type,f=o.pendingProps.children,Lr(o,c),y=nn(y),f=f(y),o.flags|=1,Ct(r,o,f,c),o.child;case 14:return f=o.type,y=pn(f,o.pendingProps),y=pn(f.type,y),wm(r,o,f,y,c);case 15:return Sm(r,o,o.type,o.pendingProps,c);case 17:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:pn(f,y),Da(r,o),o.tag=1,Rt(f)?(r=!0,Sa(o)):r=!1,Lr(o,c),dm(o,f,y),Hc(o,f,y,c),qc(null,o,f,!0,r,c);case 19:return Em(r,o,c);case 22:return bm(r,o,c)}throw Error(t(156,o.tag))};function Km(r,o){return zf(r,o)}function pv(r,o,c,f){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(r,o,c,f){return new pv(r,o,c,f)}function fh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mv(r){if(typeof r=="function")return fh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===he)return 11;if(r===_e)return 14}return 2}function _i(r,o){var c=r.alternate;return c===null?(c=on(r.tag,o,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=o,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,o=r.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Ya(r,o,c,f,y,w){var M=2;if(f=r,typeof r=="function")fh(r)&&(M=1);else if(typeof r=="string")M=5;else e:switch(r){case R:return Zi(c.children,y,w,o);case N:M=8,y|=8;break;case W:return r=on(12,c,o,y|2),r.elementType=W,r.lanes=w,r;case de:return r=on(13,c,o,y),r.elementType=de,r.lanes=w,r;case fe:return r=on(19,c,o,y),r.elementType=fe,r.lanes=w,r;case Ce:return Za(c,y,w,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:M=10;break e;case K:M=9;break e;case he:M=11;break e;case _e:M=14;break e;case we:M=16,f=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=on(M,c,o,y),o.elementType=r,o.type=f,o.lanes=w,o}function Zi(r,o,c,f){return r=on(7,r,f,o),r.lanes=c,r}function Za(r,o,c,f){return r=on(22,r,f,o),r.elementType=Ce,r.lanes=c,r.stateNode={isHidden:!1},r}function ph(r,o,c){return r=on(6,r,null,o),r.lanes=c,r}function mh(r,o,c){return o=on(4,r.children!==null?r.children:[],r.key,o),o.lanes=c,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function gv(r,o,c,f,y){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wu(0),this.expirationTimes=Wu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wu(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function gh(r,o,c,f,y,w,M,T,z){return r=new gv(r,o,c,T,z),o===1?(o=1,w===!0&&(o|=8)):o=0,w=on(3,null,null,o),r.current=w,w.stateNode=r,w.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(w),r}function yv(r,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:f==null?null:""+f,children:r,containerInfo:o,implementation:c}}function eg(r){if(!r)return mi;r=r._reactInternals;e:{if(Di(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Rt(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var c=r.type;if(Rt(c))return Tp(r,c,o)}return o}function tg(r,o,c,f,y,w,M,T,z){return r=gh(c,f,!0,r,y,w,M,T,z),r.context=eg(null),c=r.current,f=At(),y=bi(c),w=Wn(f,y),w.callback=o??null,xi(c,w,y),r.current.lanes=y,zs(r,y,f),Ot(r,f),r}function Qa(r,o,c,f){var y=o.current,w=At(),M=bi(y);return c=eg(c),o.context===null?o.context=c:o.pendingContext=c,o=Wn(w,M),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=xi(y,o,M),r!==null&&(yn(r,y,M,w),Ea(r,y,M)),M}function Ka(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ng(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<o?c:o}}function yh(r,o){ng(r,o),(r=r.alternate)&&ng(r,o)}function xv(){return null}var ig=typeof reportError=="function"?reportError:function(r){console.error(r)};function xh(r){this._internalRoot=r}el.prototype.render=xh.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));Qa(r,o,null,null)},el.prototype.unmount=xh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ji(function(){Qa(null,r,null,null)}),o[Nn]=null}};function el(r){this._internalRoot=r}el.prototype.unstable_scheduleHydration=function(r){if(r){var o=Uf();r={blockedOn:null,target:r,priority:o};for(var c=0;c<ci.length&&o!==0&&o<ci[c].priority;c++);ci.splice(c,0,r),c===0&&Hf(r)}};function vh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function tl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function rg(){}function vv(r,o,c,f,y){if(y){if(typeof f=="function"){var w=f;f=function(){var D=Ka(M);w.call(D)}}var M=tg(o,f,r,0,null,!1,!1,"",rg);return r._reactRootContainer=M,r[Nn]=M.current,Gs(r.nodeType===8?r.parentNode:r),Ji(),M}for(;y=r.lastChild;)r.removeChild(y);if(typeof f=="function"){var T=f;f=function(){var D=Ka(z);T.call(D)}}var z=gh(r,0,!1,null,null,!1,!1,"",rg);return r._reactRootContainer=z,r[Nn]=z.current,Gs(r.nodeType===8?r.parentNode:r),Ji(function(){Qa(o,z,c,f)}),z}function nl(r,o,c,f,y){var w=c._reactRootContainer;if(w){var M=w;if(typeof y=="function"){var T=y;y=function(){var z=Ka(M);T.call(z)}}Qa(o,M,r,y)}else M=vv(c,o,r,y,f);return Ka(M)}Bf=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ps(o.pendingLanes);c!==0&&(Hu(o,c|1),Ot(o,nt()),!(Re&6)&&(Ur=nt()+500,gi()))}break;case 13:Ji(function(){var f=Vn(r,1);if(f!==null){var y=At();yn(f,r,1,y)}}),yh(r,1)}},$u=function(r){if(r.tag===13){var o=Vn(r,134217728);if(o!==null){var c=At();yn(o,r,134217728,c)}yh(r,134217728)}},Df=function(r){if(r.tag===13){var o=bi(r),c=Vn(r,o);if(c!==null){var f=At();yn(c,r,o,f)}yh(r,o)}},Uf=function(){return De},Vf=function(r,o){var c=De;try{return De=r,o()}finally{De=c}},Ou=function(r,o,c){switch(o){case"input":if(ze(r,c),o=c.name,c.type==="radio"&&o!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==r&&f.form===r.form){var y=va(f);if(!y)throw Error(t(90));Q(f),ze(f,y)}}}break;case"textarea":Kt(r,c);break;case"select":o=c.value,o!=null&&je(r,!!c.multiple,o,!1)}},Cf=ch,Af=Ji;var wv={usingClientEntryPoint:!1,Events:[Xs,kr,va,Mf,_f,ch]},uo={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sv={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=If(r),r===null?null:r.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||xv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{ea=il.inject(Sv),Mn=il}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wv,Nt.createPortal=function(r,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(o))throw Error(t(200));return yv(r,o,null,c)},Nt.createRoot=function(r,o){if(!vh(r))throw Error(t(299));var c=!1,f="",y=ig;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=gh(r,1,!1,null,null,c,!1,f,y),r[Nn]=o.current,Gs(r.nodeType===8?r.parentNode:r),new xh(o)},Nt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=If(o),r=r===null?null:r.stateNode,r},Nt.flushSync=function(r){return Ji(r)},Nt.hydrate=function(r,o,c){if(!tl(o))throw Error(t(200));return nl(null,r,o,!0,c)},Nt.hydrateRoot=function(r,o,c){if(!vh(r))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,y=!1,w="",M=ig;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(M=c.onRecoverableError)),o=tg(o,null,r,1,c??null,y,!1,w,M),r[Nn]=o.current,Gs(r),f)for(r=0;r<f.length;r++)c=f[r],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new el(o)},Nt.render=function(r,o,c){if(!tl(o))throw Error(t(200));return nl(null,r,o,!1,c)},Nt.unmountComponentAtNode=function(r){if(!tl(r))throw Error(t(40));return r._reactRootContainer?(Ji(function(){nl(null,null,r,!1,function(){r._reactRootContainer=null,r[Nn]=null})}),!0):!1},Nt.unstable_batchedUpdates=ch,Nt.unstable_renderSubtreeIntoContainer=function(r,o,c,f){if(!tl(c))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return nl(r,o,c,!1,f)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var dg;function Pv(){if(dg)return bh.exports;dg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(e){console.error(e)}}return l(),bh.exports=Iv(),bh.exports}var fg;function zv(){if(fg)return rl;fg=1;var l=Pv();return rl.createRoot=l.createRoot,rl.hydrateRoot=l.hydrateRoot,rl}var Rv=zv(),U=vs();const xd=w0(U);var ho={},pg;function Fv(){if(pg)return ho;pg=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.parse=a,ho.serialize=d;const l=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function a(m,x){const v=new s,S=m.length;if(S<2)return v;const b=(x==null?void 0:x.decode)||p;let _=0;do{const C=m.indexOf("=",_);if(C===-1)break;const A=m.indexOf(";",_),k=A===-1?S:A;if(C>k){_=m.lastIndexOf(";",C-1)+1;continue}const P=u(m,_,C),E=h(m,C,P),R=m.slice(P,E);if(v[R]===void 0){let N=u(m,C+1,k),W=h(m,k,N);const G=b(m.slice(N,W));v[R]=G}_=k+1}while(_<S);return v}function u(m,x,v){do{const S=m.charCodeAt(x);if(S!==32&&S!==9)return x}while(++x<v);return v}function h(m,x,v){for(;x>v;){const S=m.charCodeAt(--x);if(S!==32&&S!==9)return x+1}return v}function d(m,x,v){const S=(v==null?void 0:v.encode)||encodeURIComponent;if(!l.test(m))throw new TypeError(`argument name is invalid: ${m}`);const b=S(x);if(!e.test(b))throw new TypeError(`argument val is invalid: ${x}`);let _=m+"="+b;if(!v)return _;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);_+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);_+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);_+="; Path="+v.path}if(v.expires){if(!g(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);_+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(_+="; HttpOnly"),v.secure&&(_+="; Secure"),v.partitioned&&(_+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return _}function p(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function g(m){return i.call(m)==="[object Date]"}return ho}Fv();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mg="popstate";function Lv(l={}){function e(n,i){let{pathname:s,search:a,hash:u}=n.location;return vd("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Oo(i)}return Nv(e,t,null,l)}function Ze(l,e){if(l===!1||l===null||typeof l>"u")throw new Error(e)}function In(l,e){if(!l){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ov(){return Math.random().toString(36).substring(2,10)}function gg(l,e){return{usr:l.state,key:l.key,idx:e}}function vd(l,e,t=null,n){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof e=="string"?ws(e):e,state:t,key:e&&e.key||n||Ov()}}function Oo({pathname:l="/",search:e="",hash:t=""}){return e&&e!=="?"&&(l+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(l+=t.charAt(0)==="#"?t:"#"+t),l}function ws(l){let e={};if(l){let t=l.indexOf("#");t>=0&&(e.hash=l.substring(t),l=l.substring(0,t));let n=l.indexOf("?");n>=0&&(e.search=l.substring(n),l=l.substring(0,n)),l&&(e.pathname=l)}return e}function Nv(l,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,u="POP",h=null,d=p();d==null&&(d=0,a.replaceState({...a.state,idx:d},""));function p(){return(a.state||{idx:null}).idx}function g(){u="POP";let b=p(),_=b==null?null:b-d;d=b,h&&h({action:u,location:S.location,delta:_})}function m(b,_){u="PUSH";let C=vd(S.location,b,_);d=p()+1;let A=gg(C,d),k=S.createHref(C);try{a.pushState(A,"",k)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(k)}s&&h&&h({action:u,location:S.location,delta:1})}function x(b,_){u="REPLACE";let C=vd(S.location,b,_);d=p();let A=gg(C,d),k=S.createHref(C);a.replaceState(A,"",k),s&&h&&h({action:u,location:S.location,delta:0})}function v(b){let _=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof b=="string"?b:Oo(b);return C=C.replace(/ $/,"%20"),Ze(_,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,_)}let S={get action(){return u},get location(){return l(i,a)},listen(b){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(mg,g),h=b,()=>{i.removeEventListener(mg,g),h=null}},createHref(b){return e(i,b)},createURL:v,encodeLocation(b){let _=v(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:x,go(b){return a.go(b)}};return S}function S0(l,e,t="/"){return Bv(l,e,t,!1)}function Bv(l,e,t,n){let i=typeof e=="string"?ws(e):e,s=Li(i.pathname||"/",t);if(s==null)return null;let a=b0(l);Dv(a);let u=null;for(let h=0;u==null&&h<a.length;++h){let d=Yv(s);u=Jv(a[h],d,n)}return u}function b0(l,e=[],t=[],n=""){let i=(s,a,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};h.relativePath.startsWith("/")&&(Ze(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=Kn([n,h.relativePath]),p=t.concat(h);s.children&&s.children.length>0&&(Ze(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),b0(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:Gv(d,s.index),routesMeta:p})};return l.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let h of M0(s.path))i(s,a,h)}),e}function M0(l){let e=l.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=M0(n.join("/")),u=[];return u.push(...a.map(h=>h===""?s:[s,h].join("/"))),i&&u.push(...a),u.map(h=>l.startsWith("/")&&h===""?"/":h)}function Dv(l){l.sort((e,t)=>e.score!==t.score?t.score-e.score:qv(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var Uv=/^:[\w-]+$/,Vv=3,Wv=2,Hv=1,$v=10,jv=-2,yg=l=>l==="*";function Gv(l,e){let t=l.split("/"),n=t.length;return t.some(yg)&&(n+=jv),e&&(n+=Wv),t.filter(i=>!yg(i)).reduce((i,s)=>i+(Uv.test(s)?Vv:s===""?Hv:$v),n)}function qv(l,e){return l.length===e.length&&l.slice(0,-1).every((n,i)=>n===e[i])?l[l.length-1]-e[e.length-1]:0}function Jv(l,e,t=!1){let{routesMeta:n}=l,i={},s="/",a=[];for(let u=0;u<n.length;++u){let h=n[u],d=u===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",g=tu({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),m=h.route;if(!g&&d&&t&&!n[n.length-1].route.index&&(g=tu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),a.push({params:i,pathname:Kn([s,g.pathname]),pathnameBase:ew(Kn([s,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(s=Kn([s,g.pathnameBase]))}return a}function tu(l,e){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[t,n]=Xv(l.path,l.caseSensitive,l.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:g},m)=>{if(p==="*"){let v=u[m]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const x=u[m];return g&&!x?d[p]=void 0:d[p]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:l}}function Xv(l,e=!1,t=!0){In(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let n=[],i="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(n.push({paramName:"*"}),i+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":l!==""&&l!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Yv(l){try{return l.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${l}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),l}}function Li(l,e){if(e==="/")return l;if(!l.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=l.charAt(t);return n&&n!=="/"?null:l.slice(t)||"/"}function Zv(l,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof l=="string"?ws(l):l;return{pathname:t?t.startsWith("/")?t:Qv(t,e):e,search:tw(n),hash:nw(i)}}function Qv(l,e){let t=e.replace(/\/+$/,"").split("/");return l.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Ch(l,e,t,n){return`Cannot include a '${l}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Kv(l){return l.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function _0(l){let e=Kv(l);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function C0(l,e,t,n=!1){let i;typeof l=="string"?i=ws(l):(i={...l},Ze(!i.pathname||!i.pathname.includes("?"),Ch("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Ch("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Ch("#","search","hash",i)));let s=l===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let g=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}u=g>=0?e[g]:"/"}let h=Zv(i,u),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Kn=l=>l.join("/").replace(/\/\/+/g,"/"),ew=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,nw=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function iw(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var A0=["POST","PUT","PATCH","DELETE"];new Set(A0);var rw=["GET",...A0];new Set(rw);var Ss=U.createContext(null);Ss.displayName="DataRouter";var vu=U.createContext(null);vu.displayName="DataRouterState";var k0=U.createContext({isTransitioning:!1});k0.displayName="ViewTransition";var sw=U.createContext(new Map);sw.displayName="Fetchers";var ow=U.createContext(null);ow.displayName="Await";var zn=U.createContext(null);zn.displayName="Navigation";var jo=U.createContext(null);jo.displayName="Location";var ii=U.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Fd=U.createContext(null);Fd.displayName="RouteError";function aw(l,{relative:e}={}){Ze(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=U.useContext(zn),{hash:i,pathname:s,search:a}=qo(l,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Kn([t,s])),n.createHref({pathname:u,search:a,hash:i})}function Go(){return U.useContext(jo)!=null}function Ni(){return Ze(Go(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(jo).location}var T0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(l){U.useContext(zn).static||U.useLayoutEffect(l)}function lw(){let{isDataRoute:l}=U.useContext(ii);return l?Sw():uw()}function uw(){Ze(Go(),"useNavigate() may be used only in the context of a <Router> component.");let l=U.useContext(Ss),{basename:e,navigator:t}=U.useContext(zn),{matches:n}=U.useContext(ii),{pathname:i}=Ni(),s=JSON.stringify(_0(n)),a=U.useRef(!1);return E0(()=>{a.current=!0}),U.useCallback((h,d={})=>{if(In(a.current,T0),!a.current)return;if(typeof h=="number"){t.go(h);return}let p=C0(h,JSON.parse(s),i,d.relative==="path");l==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Kn([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,s,i,l])}U.createContext(null);function qo(l,{relative:e}={}){let{matches:t}=U.useContext(ii),{pathname:n}=Ni(),i=JSON.stringify(_0(t));return U.useMemo(()=>C0(l,JSON.parse(i),n,e==="path"),[l,i,n,e])}function cw(l,e){return I0(l,e)}function I0(l,e,t,n){var _;Ze(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=U.useContext(zn),{matches:s}=U.useContext(ii),a=s[s.length-1],u=a?a.params:{},h=a?a.pathname:"/",d=a?a.pathnameBase:"/",p=a&&a.route;{let C=p&&p.path||"";P0(h,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=Ni(),m;if(e){let C=typeof e=="string"?ws(e):e;Ze(d==="/"||((_=C.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),m=C}else m=g;let x=m.pathname||"/",v=x;if(d!=="/"){let C=d.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=S0(l,{pathname:v});In(p||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),In(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=mw(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Kn([d,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Kn([d,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,t,n);return e&&b?U.createElement(jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function hw(){let l=ww(),e=iw(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),t=l instanceof Error?l.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",l),a=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:s},"ErrorBoundary")," or"," ",U.createElement("code",{style:s},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:i},t):null,a)}var dw=U.createElement(hw,null),fw=class extends U.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,e){return e.location!==l.location||e.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:e.error,location:e.location,revalidation:l.revalidation||e.revalidation}}componentDidCatch(l,e){console.error("React Router caught the following error during render",l,e)}render(){return this.state.error!==void 0?U.createElement(ii.Provider,{value:this.props.routeContext},U.createElement(Fd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function pw({routeContext:l,match:e,children:t}){let n=U.useContext(Ss);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ii.Provider,{value:l},t)}function mw(l,e=[],t=null,n=null){if(l==null){if(!t)return null;if(t.errors)l=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)l=t.matches;else return null}let i=l,s=t==null?void 0:t.errors;if(s!=null){let h=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);Ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let a=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let d=i[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:p,errors:g}=t,m=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,d,p)=>{let g,m=!1,x=null,v=null;t&&(g=s&&d.route.id?s[d.route.id]:void 0,x=d.route.errorElement||dw,a&&(u<0&&p===0?(P0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,v=null):u===p&&(m=!0,v=d.route.hydrateFallbackElement||null)));let S=e.concat(i.slice(0,p+1)),b=()=>{let _;return g?_=x:m?_=v:d.route.Component?_=U.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=h,U.createElement(pw,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:_})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?U.createElement(fw,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:b(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):b()},null)}function Ld(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gw(l){let e=U.useContext(Ss);return Ze(e,Ld(l)),e}function yw(l){let e=U.useContext(vu);return Ze(e,Ld(l)),e}function xw(l){let e=U.useContext(ii);return Ze(e,Ld(l)),e}function Od(l){let e=xw(l),t=e.matches[e.matches.length-1];return Ze(t.route.id,`${l} can only be used on routes that contain a unique "id"`),t.route.id}function vw(){return Od("useRouteId")}function ww(){var n;let l=U.useContext(Fd),e=yw("useRouteError"),t=Od("useRouteError");return l!==void 0?l:(n=e.errors)==null?void 0:n[t]}function Sw(){let{router:l}=gw("useNavigate"),e=Od("useNavigate"),t=U.useRef(!1);return E0(()=>{t.current=!0}),U.useCallback(async(i,s={})=>{In(t.current,T0),t.current&&(typeof i=="number"?l.navigate(i):await l.navigate(i,{fromRouteId:e,...s}))},[l,e])}var xg={};function P0(l,e,t){!e&&!xg[l]&&(xg[l]=!0,In(!1,t))}U.memo(bw);function bw({routes:l,future:e,state:t}){return I0(l,void 0,t,e)}function z0(l){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mw({basename:l="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1}){Ze(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=l.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=ws(t));let{pathname:h="/",search:d="",hash:p="",state:g=null,key:m="default"}=t,x=U.useMemo(()=>{let v=Li(h,a);return v==null?null:{location:{pathname:v,search:d,hash:p,state:g,key:m},navigationType:n}},[a,h,d,p,g,m,n]);return In(x!=null,`<Router basename="${a}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:U.createElement(zn.Provider,{value:u},U.createElement(jo.Provider,{children:e,value:x}))}function _w({children:l,location:e}){return cw(wd(l),e)}function wd(l,e=[]){let t=[];return U.Children.forEach(l,(n,i)=>{if(!U.isValidElement(n))return;let s=[...e,i];if(n.type===U.Fragment){t.push.apply(t,wd(n.props.children,s));return}Ze(n.type===z0,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=wd(n.props.children,s)),t.push(a)}),t}var Kl="get",eu="application/x-www-form-urlencoded";function wu(l){return l!=null&&typeof l.tagName=="string"}function Cw(l){return wu(l)&&l.tagName.toLowerCase()==="button"}function Aw(l){return wu(l)&&l.tagName.toLowerCase()==="form"}function kw(l){return wu(l)&&l.tagName.toLowerCase()==="input"}function Tw(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Ew(l,e){return l.button===0&&(!e||e==="_self")&&!Tw(l)}var sl=null;function Iw(){if(sl===null)try{new FormData(document.createElement("form"),0),sl=!1}catch{sl=!0}return sl}var Pw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ah(l){return l!=null&&!Pw.has(l)?(In(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):l}function zw(l,e){let t,n,i,s,a;if(Aw(l)){let u=l.getAttribute("action");n=u?Li(u,e):null,t=l.getAttribute("method")||Kl,i=Ah(l.getAttribute("enctype"))||eu,s=new FormData(l)}else if(Cw(l)||kw(l)&&(l.type==="submit"||l.type==="image")){let u=l.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=l.getAttribute("formaction")||u.getAttribute("action");if(n=h?Li(h,e):null,t=l.getAttribute("formmethod")||u.getAttribute("method")||Kl,i=Ah(l.getAttribute("formenctype"))||Ah(u.getAttribute("enctype"))||eu,s=new FormData(u,l),!Iw()){let{name:d,type:p,value:g}=l;if(p==="image"){let m=d?`${d}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else d&&s.append(d,g)}}else{if(wu(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Kl,n=null,i=eu,a=l}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:a}}function Nd(l,e){if(l===!1||l===null||typeof l>"u")throw new Error(e)}async function Rw(l,e){if(l.id in e)return e[l.id];try{let t=await import(l.module);return e[l.id]=t,t}catch(t){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fw(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Lw(l,e,t){let n=await Promise.all(l.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await Rw(s,t);return a.links?a.links():[]}return[]}));return Dw(n.flat(1).filter(Fw).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function vg(l,e,t,n,i,s){let a=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,u=(h,d)=>{var p;return t[d].pathname!==h.pathname||((p=t[d].route.path)==null?void 0:p.endsWith("*"))&&t[d].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,d)=>a(h,d)||u(h,d)):s==="data"?e.filter((h,d)=>{var g;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(a(h,d)||u(h,d))return!0;if(h.route.shouldRevalidate){let m=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(l,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Ow(l,e){return Nw(l.map(t=>{let n=e.routes[t.route.id];if(!n)return[];let i=[n.module];return n.imports&&(i=i.concat(n.imports)),i}).flat(1))}function Nw(l){return[...new Set(l)]}function Bw(l){let e={},t=Object.keys(l).sort();for(let n of t)e[n]=l[n];return e}function Dw(l,e){let t=new Set;return new Set(e),l.reduce((n,i)=>{let s=JSON.stringify(Bw(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}function Uw(l){let e=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Vw(){let l=U.useContext(Ss);return Nd(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function Ww(){let l=U.useContext(vu);return Nd(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Bd=U.createContext(void 0);Bd.displayName="FrameworkContext";function R0(){let l=U.useContext(Bd);return Nd(l,"You must render this element inside a <HydratedRouter> element"),l}function Hw(l,e){let t=U.useContext(Bd),[n,i]=U.useState(!1),[s,a]=U.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:g}=e,m=U.useRef(null);U.useEffect(()=>{if(l==="render"&&a(!0),l==="viewport"){let S=_=>{_.forEach(C=>{a(C.isIntersecting)})},b=new IntersectionObserver(S,{threshold:.5});return m.current&&b.observe(m.current),()=>{b.disconnect()}}},[l]),U.useEffect(()=>{if(n){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[n]);let x=()=>{i(!0)},v=()=>{i(!1),a(!1)};return t?l!=="intent"?[s,m,{}]:[s,m,{onFocus:fo(u,x),onBlur:fo(h,v),onMouseEnter:fo(d,x),onMouseLeave:fo(p,v),onTouchStart:fo(g,x)}]:[!1,m,{}]}function fo(l,e){return t=>{l&&l(t),t.defaultPrevented||e(t)}}function $w({page:l,...e}){let{router:t}=Vw(),n=U.useMemo(()=>S0(t.routes,l,t.basename),[t.routes,l,t.basename]);return n?U.createElement(Gw,{page:l,matches:n,...e}):(console.warn(`Tried to prefetch ${l} but no routes matched.`),null)}function jw(l){let{manifest:e,routeModules:t}=R0(),[n,i]=U.useState([]);return U.useEffect(()=>{let s=!1;return Lw(l,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[l,e,t]),n}function Gw({page:l,matches:e,...t}){let n=Ni(),{manifest:i,routeModules:s}=R0(),{loaderData:a,matches:u}=Ww(),h=U.useMemo(()=>vg(l,e,u,i,n,"data"),[l,e,u,i,n]),d=U.useMemo(()=>vg(l,e,u,i,n,"assets"),[l,e,u,i,n]),p=U.useMemo(()=>{if(l===n.pathname+n.search+n.hash)return[];let x=new Set,v=!1;if(e.forEach(b=>{var C;let _=i.routes[b.route.id];!_||!_.hasLoader||(!h.some(A=>A.route.id===b.route.id)&&b.route.id in a&&((C=s[b.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?v=!0:x.add(b.route.id))}),x.size===0)return[];let S=Uw(l);return v&&x.size>0&&S.searchParams.set("_routes",e.filter(b=>x.has(b.route.id)).map(b=>b.route.id).join(",")),[S.pathname+S.search]},[a,n,i,h,e,l,s]),g=U.useMemo(()=>Ow(d,i),[d,i]),m=jw(d);return U.createElement(U.Fragment,null,p.map(x=>U.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),g.map(x=>U.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),m.map(({key:x,link:v})=>U.createElement("link",{key:x,...v})))}function qw(...l){return e=>{l.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F0&&(window.__reactRouterVersion="7.0.2")}catch{}function Jw({basename:l,children:e,window:t}){let n=U.useRef();n.current==null&&(n.current=Lv({window:t,v5Compat:!0}));let i=n.current,[s,a]=U.useState({action:i.action,location:i.location}),u=U.useCallback(h=>{U.startTransition(()=>a(h))},[a]);return U.useLayoutEffect(()=>i.listen(u),[i,u]),U.createElement(Mw,{basename:l,children:e,location:s.location,navigationType:s.action,navigator:i})}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O0=U.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:u,target:h,to:d,preventScrollReset:p,viewTransition:g,...m},x){let{basename:v}=U.useContext(zn),S=typeof d=="string"&&L0.test(d),b,_=!1;if(typeof d=="string"&&S&&(b=d,F0))try{let W=new URL(window.location.href),G=d.startsWith("//")?new URL(W.protocol+d):new URL(d),K=Li(G.pathname,v);G.origin===W.origin&&K!=null?d=K+G.search+G.hash:_=!0}catch{In(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=aw(d,{relative:i}),[A,k,P]=Hw(n,m),E=Qw(d,{replace:a,state:u,target:h,preventScrollReset:p,relative:i,viewTransition:g});function R(W){e&&e(W),W.defaultPrevented||E(W)}let N=U.createElement("a",{...m,...P,href:b||C,onClick:_||s?e:R,ref:qw(x,k),target:h,"data-discover":!S&&t==="render"?"true":void 0});return A&&!S?U.createElement(U.Fragment,null,N,U.createElement($w,{page:C})):N});O0.displayName="Link";var Xw=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:u,children:h,...d},p){let g=qo(a,{relative:d.relative}),m=Ni(),x=U.useContext(vu),{navigator:v,basename:S}=U.useContext(zn),b=x!=null&&iS(g)&&u===!0,_=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,C=m.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(C=C.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&S&&(A=Li(A,S)||A);const k=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=C===_||!i&&C.startsWith(_)&&C.charAt(k)==="/",E=A!=null&&(A===_||!i&&A.startsWith(_)&&A.charAt(_.length)==="/"),R={isActive:P,isPending:E,isTransitioning:b},N=P?e:void 0,W;typeof n=="function"?W=n(R):W=[n,P?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(R):s;return U.createElement(O0,{...d,"aria-current":N,className:W,ref:p,style:G,to:a,viewTransition:u},typeof h=="function"?h(R):h)});Xw.displayName="NavLink";var Yw=U.forwardRef(({discover:l="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:a=Kl,action:u,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:g,...m},x)=>{let v=tS(),S=nS(u,{relative:d}),b=a.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&L0.test(u),C=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,P=(k==null?void 0:k.getAttribute("formmethod"))||a;v(k||A.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:g})};return U.createElement("form",{ref:x,method:b,action:S,onSubmit:n?h:C,...m,"data-discover":!_&&l==="render"?"true":void 0})});Yw.displayName="Form";function Zw(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N0(l){let e=U.useContext(Ss);return Ze(e,Zw(l)),e}function Qw(l,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let u=lw(),h=Ni(),d=qo(l,{relative:s});return U.useCallback(p=>{if(Ew(p,e)){p.preventDefault();let g=t!==void 0?t:Oo(h)===Oo(d);u(l,{replace:g,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[h,u,d,t,n,e,l,i,s,a])}var Kw=0,eS=()=>`__${String(++Kw)}__`;function tS(){let{router:l}=N0("useSubmit"),{basename:e}=U.useContext(zn),t=vw();return U.useCallback(async(n,i={})=>{let{action:s,method:a,encType:u,formData:h,body:d}=zw(n,e);if(i.navigate===!1){let p=i.fetcherKey||eS();await l.fetch(p,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||a,formEncType:i.encType||u,flushSync:i.flushSync})}else await l.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:d,formMethod:i.method||a,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[l,e,t])}function nS(l,{relative:e}={}){let{basename:t}=U.useContext(zn),n=U.useContext(ii);Ze(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...qo(l||".",{relative:e})},a=Ni();if(l==null){s.search=a.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();s.search=p?`?${p}`:""}}return(!l||l===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Kn([t,s.pathname])),Oo(s)}function iS(l,e={}){let t=U.useContext(k0);Ze(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=N0("useViewTransitionState"),i=qo(l,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Li(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=Li(t.nextLocation.pathname,n)||t.nextLocation.pathname;return tu(i.pathname,a)!=null||tu(i.pathname,s)!=null}new TextEncoder;const rS="modulepreload",sS=function(l){return"/"+l},wg={},oS=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(h=>{if(h=sS(h),h in wg)return;wg[h]=!0;const d=h.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":rS,d||(g.as="script"),g.crossOrigin="",g.href=h,u&&g.setAttribute("nonce",u),document.head.appendChild(g),d)return new Promise((m,x)=>{g.addEventListener("load",m),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})},aS="Dark",lS={"--dark-mode":"1","--background-color":"#0a0a0a","--sky-color":"#000000","--model-bg-fallback":"#151515","--model-bg":"linear-gradient(180deg, #151515 0%, #000000 92%)","--background-color-alt":"#FFFFFF","--background-emphasis":"#101010","--text-color":"#FFFFFF","--text-color-alt":"#000000","--emphasis-text":"#FFFFFF","--accent-color":"#FF00FF","--accent-color-alt":"#00FFFF","--emphasis-shadow":"#FF00FF","--footer-profile-silhouette":100},uS={themeName:aS,themeStyles:lS},cS="Light",hS={"--dark-mode":"0","--background-color":"#FFEEEE","--model-bg-fallback":"rgb(255,238,238)","--model-bg":"linear-gradient(180deg, rgba(255,238,238,1) 0%, rgba(158,237,255,1) 92%)","--background-color-alt":"#151515","--background-emphasis":"#ffe3e3","--text-color":"#000000","--text-color-alt":"#FFEEEE","--emphasis-text":"#FF9999","--accent-color":"#FF00FF","--accent-color-alt":"#00FFFF","--emphasis-shadow":"#000000","--footer-profile-silhouette":0},dS={themeName:cS,themeStyles:hS},Sg=l=>{let e;const t=new Set,n=(d,p)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const m=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(x=>x(e,m))}},i=()=>e,u={setState:n,getState:i,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d))},h=e=l(n,i,u);return u},fS=l=>l?Sg(l):Sg,pS=l=>l;function mS(l,e=pS){const t=xd.useSyncExternalStore(l.subscribe,()=>e(l.getState()),()=>e(l.getInitialState()));return xd.useDebugValue(t),t}const bg=l=>{const e=fS(l),t=n=>mS(e,n);return Object.assign(t,e),t},B0=l=>l?bg(l):bg,gS=l=>(e,t,n)=>{const i=n.subscribe;return n.subscribe=(a,u,h)=>{let d=a;if(u){const p=(h==null?void 0:h.equalityFn)||Object.is;let g=a(n.getState());d=m=>{const x=a(m);if(!p(g,x)){const v=g;u(g=x,v)}},h!=null&&h.fireImmediately&&u(g,g)}return i(d)},l(e,t,n)},oA=gS;function yS(l,e){let t;try{t=l()}catch{return}return{getItem:i=>{var s;const a=h=>h===null?null:JSON.parse(h,void 0),u=(s=t.getItem(i))!=null?s:null;return u instanceof Promise?u.then(a):a(u)},setItem:(i,s)=>t.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>t.removeItem(i)}}const Sd=l=>e=>{try{const t=l(e);return t instanceof Promise?t:{then(n){return Sd(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return Sd(n)(t)}}}},xS=(l,e)=>(t,n,i)=>{let s={storage:yS(()=>localStorage),partialize:S=>S,version:0,merge:(S,b)=>({...b,...S}),...e},a=!1;const u=new Set,h=new Set;let d=s.storage;if(!d)return l((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...S)},n,i);const p=()=>{const S=s.partialize({...n()});return d.setItem(s.name,{state:S,version:s.version})},g=i.setState;i.setState=(S,b)=>{g(S,b),p()};const m=l((...S)=>{t(...S),p()},n,i);i.getInitialState=()=>m;let x;const v=()=>{var S,b;if(!d)return;a=!1,u.forEach(C=>{var A;return C((A=n())!=null?A:m)});const _=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(S=n())!=null?S:m))||void 0;return Sd(d.getItem.bind(d))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate){const A=s.migrate(C.state,C.version);return A instanceof Promise?A.then(k=>[!0,k]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var A;const[k,P]=C;if(x=s.merge(P,(A=n())!=null?A:m),t(x,!0),k)return p()}).then(()=>{_==null||_(x,void 0),x=n(),a=!0,h.forEach(C=>C(x))}).catch(C=>{_==null||_(void 0,C)})};return i.persist={setOptions:S=>{s={...s,...S},S.storage&&(d=S.storage)},clearStorage:()=>{d==null||d.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},s.skipHydration||v(),x||m},vS=xS;var D0=(l=>(l[l.LIGHT=0]="LIGHT",l[l.DARK=1]="DARK",l))(D0||{});const Mg="@ryqndev/theme",U0=[dS,uS],_g=l=>{const e=U0[l].themeStyles;for(const t in e)document.documentElement.style.setProperty(t,e[t])},wS=l=>(e,t,n)=>{const s=l((a,u)=>{const h=t();e(a,u);const d=t();h.theme!==d.theme&&_g(d.theme)},t,n);return _g(s.theme),s},SS=B0(wS(vS(l=>({theme:localStorage.getItem(Mg)??D0.DARK,toggleTheme:()=>l(e=>({theme:(e.theme+1)%U0.length})),setTheme:e=>l({theme:e})}),{name:Mg})));var ol={},kh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Cg;function bS(){return Cg||(Cg=1,function(l){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(s=i(s,n(u)))}return s}function n(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var u in s)e.call(s,u)&&s[u]&&(a=i(a,u));return a}function i(s,a){return a?s?s+" "+a:s+a:s}l.exports?(t.default=t,l.exports=t):window.classNames=t})()}(kh)),kh.exports}var Th={exports:{}},Eh,Ag;function MS(){if(Ag)return Eh;Ag=1;var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Eh=l,Eh}var Ih,kg;function _S(){if(kg)return Ih;kg=1;var l=MS();function e(){}function t(){}return t.resetWarningCache=e,Ih=function(){function n(a,u,h,d,p,g){if(g!==l){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},Ih}var Tg;function CS(){return Tg||(Tg=1,Th.exports=_S()()),Th.exports}var al={},Eg;function AS(){if(Eg)return al;Eg=1,Object.defineProperty(al,"__esModule",{value:!0});var l=vs(),e=t(l);function t(n){return n&&n.__esModule?n:{default:n}}return al.default=function(){return e.default.createElement("svg",{width:"14",height:"11",viewBox:"0 0 14 11"},e.default.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}))},al}var ll={},Ig;function kS(){if(Ig)return ll;Ig=1,Object.defineProperty(ll,"__esModule",{value:!0});var l=vs(),e=t(l);function t(n){return n&&n.__esModule?n:{default:n}}return ll.default=function(){return e.default.createElement("svg",{width:"10",height:"10",viewBox:"0 0 10 10"},e.default.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"}))},ll}var ul={},Pg;function TS(){if(Pg)return ul;Pg=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.pointerCoord=l;function l(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}var i=e.pageX;if(i!==void 0)return{x:i,y:e.pageY}}return{x:0,y:0}}return ul}var zg;function ES(){if(zg)return ol;zg=1,Object.defineProperty(ol,"__esModule",{value:!0});var l=Object.assign||function(A){for(var k=1;k<arguments.length;k++){var P=arguments[k];for(var E in P)Object.prototype.hasOwnProperty.call(P,E)&&(A[E]=P[E])}return A},e=function(){function A(k,P){for(var E=0;E<P.length;E++){var R=P[E];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(k,R.key,R)}}return function(k,P,E){return P&&A(k.prototype,P),E&&A(k,E),k}}(),t=vs(),n=x(t),i=bS(),s=x(i),a=CS(),u=x(a),h=AS(),d=x(h),p=kS(),g=x(p),m=TS();function x(A){return A&&A.__esModule?A:{default:A}}function v(A,k){var P={};for(var E in A)k.indexOf(E)>=0||Object.prototype.hasOwnProperty.call(A,E)&&(P[E]=A[E]);return P}function S(A,k){if(!(A instanceof k))throw new TypeError("Cannot call a class as a function")}function b(A,k){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:A}function _(A,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);A.prototype=Object.create(k&&k.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(A,k):A.__proto__=k)}var C=function(A){_(k,A);function k(P){S(this,k);var E=b(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P));return E.handleClick=E.handleClick.bind(E),E.handleTouchStart=E.handleTouchStart.bind(E),E.handleTouchMove=E.handleTouchMove.bind(E),E.handleTouchEnd=E.handleTouchEnd.bind(E),E.handleFocus=E.handleFocus.bind(E),E.handleBlur=E.handleBlur.bind(E),E.previouslyChecked=!!(P.checked||P.defaultChecked),E.state={checked:!!(P.checked||P.defaultChecked),hasFocus:!1},E}return e(k,[{key:"componentDidUpdate",value:function(E){E.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(E){if(!this.props.disabled){var R=this.input;if(E.target!==R&&!this.moved){this.previouslyChecked=R.checked,E.preventDefault(),R.focus(),R.click();return}var N=this.props.hasOwnProperty("checked")?this.props.checked:R.checked;this.setState({checked:N})}}},{key:"handleTouchStart",value:function(E){this.props.disabled||(this.startX=(0,m.pointerCoord)(E).x,this.activated=!0)}},{key:"handleTouchMove",value:function(E){if(this.activated&&(this.moved=!0,this.startX)){var R=(0,m.pointerCoord)(E).x;this.state.checked&&R+15<this.startX?(this.setState({checked:!1}),this.startX=R,this.activated=!0):R-15>this.startX&&(this.setState({checked:!0}),this.startX=R,this.activated=R<this.startX+5)}}},{key:"handleTouchEnd",value:function(E){if(this.moved){var R=this.input;if(E.preventDefault(),this.startX){var N=(0,m.pointerCoord)(E).x;this.previouslyChecked===!0&&this.startX+4>N?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,R.click()):this.startX-4<N&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,R.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(E){var R=this.props.onFocus;R&&R(E),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(E){var R=this.props.onBlur;R&&R(E),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(E){var R=this.props.icons;return R?R[E]===void 0?k.defaultProps.icons[E]:R[E]:null}},{key:"render",value:function(){var E=this,R=this.props,N=R.className;R.icons;var W=v(R,["className","icons"]),G=(0,s.default)("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},N);return n.default.createElement("div",{className:G,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},n.default.createElement("div",{className:"react-toggle-track"},n.default.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),n.default.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),n.default.createElement("div",{className:"react-toggle-thumb"}),n.default.createElement("input",l({},W,{ref:function(he){E.input=he},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),k}(t.PureComponent);return ol.default=C,C.displayName="Toggle",C.defaultProps={icons:{checked:n.default.createElement(d.default,null),unchecked:n.default.createElement(g.default,null)}},C.propTypes={checked:u.default.bool,disabled:u.default.bool,defaultChecked:u.default.bool,onChange:u.default.func,onFocus:u.default.func,onBlur:u.default.func,className:u.default.string,name:u.default.string,value:u.default.string,id:u.default.string,"aria-labelledby":u.default.string,"aria-label":u.default.string,icons:u.default.oneOfType([u.default.bool,u.default.shape({checked:u.default.node,unchecked:u.default.node})])},ol}var IS=ES();const PS=w0(IS),Rg=l=>Symbol.iterator in l,Fg=l=>"entries"in l,Lg=(l,e)=>{const t=l instanceof Map?l:new Map(l.entries()),n=e instanceof Map?e:new Map(e.entries());if(t.size!==n.size)return!1;for(const[i,s]of t)if(!Object.is(s,n.get(i)))return!1;return!0},zS=(l,e)=>{const t=l[Symbol.iterator](),n=e[Symbol.iterator]();let i=t.next(),s=n.next();for(;!i.done&&!s.done;){if(!Object.is(i.value,s.value))return!1;i=t.next(),s=n.next()}return!!i.done&&!!s.done};function RS(l,e){return Object.is(l,e)?!0:typeof l!="object"||l===null||typeof e!="object"||e===null?!1:!Rg(l)||!Rg(e)?Lg({entries:()=>Object.entries(l)},{entries:()=>Object.entries(e)}):Fg(l)&&Fg(e)?Lg(l,e):zS(l,e)}function FS(l){const e=xd.useRef();return t=>{const n=l(t);return RS(e.current,n)?e.current:e.current=n}}const LS=U.memo(()=>{const{theme:l,toggle:e}=SS(FS(t=>({toggle:t.toggleTheme,theme:t.theme})));return Be.jsx("div",{className:"t-w","data-mouse-hover":"button","data-mouse-hover-text":"toggle theme",onClick:e,children:Be.jsx(PS,{checked:!!l,icons:!1,onChange:e})})}),OS=l=>new Proxy({},{get:(e,t)=>{if(typeof t=="string")return U.lazy(()=>l(t).then(n=>({default:n[t]})))}});function V0(l){var e,t,n="";if(typeof l=="string"||typeof l=="number")n+=l;else if(typeof l=="object")if(Array.isArray(l)){var i=l.length;for(e=0;e<i;e++)l[e]&&(t=V0(l[e]))&&(n&&(n+=" "),n+=t)}else for(t in l)l[t]&&(n&&(n+=" "),n+=t);return n}function us(){for(var l,e,t=0,n="",i=arguments.length;t<i;t++)(l=arguments[t])&&(e=V0(l))&&(n&&(n+=" "),n+=e);return n}function NS(){if(console&&console.warn){for(var l=arguments.length,e=new Array(l),t=0;t<l;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Og={};function bd(){for(var l=arguments.length,e=new Array(l),t=0;t<l;t++)e[t]=arguments[t];typeof e[0]=="string"&&Og[e[0]]||(typeof e[0]=="string"&&(Og[e[0]]=new Date),NS(...e))}const W0=(l,e)=>()=>{if(l.isInitialized)e();else{const t=()=>{setTimeout(()=>{l.off("initialized",t)},0),e()};l.on("initialized",t)}};function Ng(l,e,t){l.loadNamespaces(e,W0(l,t))}function Bg(l,e,t,n){typeof t=="string"&&(t=[t]),t.forEach(i=>{l.options.ns.indexOf(i)<0&&l.options.ns.push(i)}),l.loadLanguages(e,W0(l,n))}function BS(l,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(u,h)=>{const d=e.services.backendConnector.state[`${u}|${h}`];return d===-1||d===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,l)?!1:!!(e.hasResourceBundle(n,l)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(n,l)&&(!i||a(s,l)))}function DS(l,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(bd("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(l,{lng:t.lng,precheck:(i,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,l))return!1}}):BS(l,e,t)}const US=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,VS={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},WS=l=>VS[l],HS=l=>l.replace(US,WS);let Md={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:HS};function $S(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Md={...Md,...l}}function jS(){return Md}let H0;function GS(l){H0=l}function qS(){return H0}const JS={type:"3rdParty",init(l){$S(l.options.react),GS(l)}},XS=U.createContext();class YS{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const ZS=(l,e)=>{const t=U.useRef();return U.useEffect(()=>{t.current=l},[l,e]),t.current};function QS(l){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:n,defaultNS:i}=U.useContext(XS)||{},s=t||n||qS();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new YS),!s){bd("You will need to pass in an i18next instance by using initReactI18next");const A=(P,E)=>typeof E=="string"?E:E&&typeof E=="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(P)?P[P.length-1]:P,k=[A,{},!1];return k.t=A,k.i18n={},k.ready=!1,k}s.options.react&&s.options.react.wait!==void 0&&bd("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...jS(),...s.options.react,...e},{useSuspense:u,keyPrefix:h}=a;let d=i||s.options&&s.options.defaultNS;d=typeof d=="string"?[d]:d||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(d);const p=(s.isInitialized||s.initializedStoreOnce)&&d.every(A=>DS(A,s,a));function g(){return s.getFixedT(e.lng||null,a.nsMode==="fallback"?d:d[0],h)}const[m,x]=U.useState(g);let v=d.join();e.lng&&(v=`${e.lng}${v}`);const S=ZS(v),b=U.useRef(!0);U.useEffect(()=>{const{bindI18n:A,bindI18nStore:k}=a;b.current=!0,!p&&!u&&(e.lng?Bg(s,e.lng,d,()=>{b.current&&x(g)}):Ng(s,d,()=>{b.current&&x(g)})),p&&S&&S!==v&&b.current&&x(g);function P(){b.current&&x(g)}return A&&s&&s.on(A,P),k&&s&&s.store.on(k,P),()=>{b.current=!1,A&&s&&A.split(" ").forEach(E=>s.off(E,P)),k&&s&&k.split(" ").forEach(E=>s.store.off(E,P))}},[s,v]);const _=U.useRef(!0);U.useEffect(()=>{b.current&&!_.current&&x(g),_.current=!1},[s,h]);const C=[m,s,p];if(C.t=m,C.i18n=s,C.ready=p,p||!p&&!u)return C;throw new Promise(A=>{e.lng?Bg(s,e.lng,d,()=>A()):Ng(s,d,()=>A())})}const KS="_container_7zxws_10",eb="_rotate_7zxws_1",tb="_link_7zxws_41",nb="_button_7zxws_62",Ph={container:KS,rotate:eb,link:tb,button:nb};function ib(l,e=25){const[t,n]=U.useState(l),[i,s]=U.useState(!1);return U.useEffect(()=>{const a=setTimeout(()=>{n(l)},e);return()=>{clearTimeout(a)}},[l,e]),U.useEffect(()=>{i||(n(l),s(!0),setTimeout(()=>{s(!1),n(l)},e))},[l,e]),t}const rb=U.memo(function(){const{t:e}=QS(),[t,n]=U.useState({pos:[-100,-100],target:"none",message:""}),i=ib(t,80);return U.useEffect(()=>{const s=a=>{var u,h;n({pos:[a.clientX,a.clientY],target:(u=a.target.dataset)==null?void 0:u.mouseHover,message:((h=a.target.dataset)==null?void 0:h.mouseHoverText)??""})};return window.addEventListener("mousemove",s),()=>{window.removeEventListener("mousemove",s)}},[]),Be.jsx("div",{className:us(Ph.container,i.target==="link"&&Ph.link,i.target==="button"&&Ph.button),style:{top:i.pos[1],left:i.pos[0]},children:Be.jsxs("svg",{viewBox:"0 0 300 300",enableBackground:"new 0 0 300 300",children:[Be.jsx("defs",{children:Be.jsx("path",{id:"circleTextPath",d:"M 150, 150 m -120, 0 a 120,120 0 0,1 240,0 a 120,120 0 0,1 -240,0"})}),Be.jsxs("g",{children:[Be.jsx("use",{xlinkHref:"#circleTextPath",fill:"none"}),Be.jsx("text",{fill:"#fff",children:Be.jsx("textPath",{xlinkHref:"#circleTextPath",children:e(i.message)})})]})]})})});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const $0="171",aA={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},lA={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},uA=0,cA=1,hA=2,dA=3,fA=0,pA=1,mA=2,gA=3,_d=0,j0=1,yA=2,sb=0,Dg=1,xA=2,vA=3,wA=4,SA=5,Ug=100,bA=101,MA=102,_A=103,CA=104,AA=200,kA=201,TA=202,EA=203,Vg=204,Wg=205,IA=206,PA=207,zA=208,RA=209,FA=210,LA=211,OA=212,NA=213,BA=214,DA=0,UA=1,VA=2,Hg=3,WA=4,HA=5,$A=6,jA=7,Dd=0,GA=1,qA=2,JA=0,XA=1,YA=2,ZA=3,QA=4,KA=5,ek=6,tk=7,$g="attached",ob="detached",Ud=300,Vd=301,ab=302,lb=303,ub=304,cb=306,Cd=1e3,Tn=1001,Ad=1002,Sn=1003,hb=1004,nk=1004,db=1005,ik=1005,cn=1006,fb=1007,rk=1007,Su=1008,sk=1008,G0=1009,pb=1010,mb=1011,gb=1012,yb=1013,Wd=1014,ys=1015,xb=1016,vb=1017,wb=1018,Sb=1020,bb=35902,Mb=1021,_b=1022,No=1023,Cb=1024,Ab=1025,zh=1026,jg=1027,q0=1028,J0=1029,kb=1030,Tb=1031,ok=1032,Eb=1033,Ib=33776,Pb=33777,zb=33778,Rb=33779,Fb=35840,Lb=35841,Ob=35842,Nb=35843,Bb=36196,Db=37492,Ub=37496,Vb=37808,Wb=37809,Hb=37810,$b=37811,jb=37812,Gb=37813,qb=37814,Jb=37815,Xb=37816,Yb=37817,Zb=37818,Qb=37819,Kb=37820,eM=37821,tM=36492,nM=36494,iM=36495,rM=36283,sM=36284,oM=36285,aM=36286,lM=2200,uM=2201,cM=2202,nu=2300,kd=2301,Rh=2302,cs=2400,hs=2401,iu=2402,Hd=2500,X0=2501,ak=0,lk=1,uk=2,hM=3200,ck=3201,hk=3202,dk=3203,bs=0,fk=1,Y0="",ln="srgb",Gg="srgb-linear",qg="linear",Fh="srgb",pk=0,Wr=7680,mk=7681,gk=7682,yk=7683,xk=34055,vk=34056,wk=5386,Sk=512,bk=513,Mk=514,_k=515,Ck=516,Ak=517,kk=518,Jg=519,Tk=512,Ek=513,Ik=514,Pk=515,zk=516,Rk=517,Fk=518,Lk=519,ru=35044,Ok=35048,Nk=35040,Bk=35045,Dk=35049,Uk=35041,Vk=35046,Wk=35050,Hk=35042,$k="100",jk="300 es",Ri=2e3,su=2001;class Bi{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const St=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Xg=1234567;const cr=Math.PI/180,Bo=180/Math.PI;function Yt(){const l=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(St[l&255]+St[l>>8&255]+St[l>>16&255]+St[l>>24&255]+"-"+St[e&255]+St[e>>8&255]+"-"+St[e>>16&15|64]+St[e>>24&255]+"-"+St[t&63|128]+St[t>>8&255]+"-"+St[t>>16&255]+St[t>>24&255]+St[n&255]+St[n>>8&255]+St[n>>16&255]+St[n>>24&255]).toLowerCase()}function xe(l,e,t){return Math.max(e,Math.min(t,l))}function $d(l,e){return(l%e+e)%e}function dM(l,e,t,n,i){return n+(l-e)*(i-n)/(t-e)}function fM(l,e,t){return l!==e?(t-l)/(e-l):0}function zo(l,e,t){return(1-t)*l+t*e}function pM(l,e,t,n){return zo(l,e,1-Math.exp(-t*n))}function mM(l,e=1){return e-Math.abs($d(l,e*2)-e)}function gM(l,e,t){return l<=e?0:l>=t?1:(l=(l-e)/(t-e),l*l*(3-2*l))}function yM(l,e,t){return l<=e?0:l>=t?1:(l=(l-e)/(t-e),l*l*l*(l*(l*6-15)+10))}function xM(l,e){return l+Math.floor(Math.random()*(e-l+1))}function vM(l,e){return l+Math.random()*(e-l)}function wM(l){return l*(.5-Math.random())}function SM(l){l!==void 0&&(Xg=l);let e=Xg+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function bM(l){return l*cr}function MM(l){return l*Bo}function _M(l){return(l&l-1)===0&&l!==0}function CM(l){return Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))}function AM(l){return Math.pow(2,Math.floor(Math.log(l)/Math.LN2))}function kM(l,e,t,n,i){const s=Math.cos,a=Math.sin,u=s(t/2),h=a(t/2),d=s((e+n)/2),p=a((e+n)/2),g=s((e-n)/2),m=a((e-n)/2),x=s((n-e)/2),v=a((n-e)/2);switch(i){case"XYX":l.set(u*p,h*g,h*m,u*d);break;case"YZY":l.set(h*m,u*p,h*g,u*d);break;case"ZXZ":l.set(h*g,h*m,u*p,u*d);break;case"XZX":l.set(u*p,h*v,h*x,u*d);break;case"YXY":l.set(h*x,u*p,h*v,u*d);break;case"ZYZ":l.set(h*v,h*x,u*p,u*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Tt(l,e){switch(e.constructor){case Float32Array:return l;case Uint32Array:return l/4294967295;case Uint16Array:return l/65535;case Uint8Array:return l/255;case Int32Array:return Math.max(l/2147483647,-1);case Int16Array:return Math.max(l/32767,-1);case Int8Array:return Math.max(l/127,-1);default:throw new Error("Invalid component type.")}}function Se(l,e){switch(e.constructor){case Float32Array:return l;case Uint32Array:return Math.round(l*4294967295);case Uint16Array:return Math.round(l*65535);case Uint8Array:return Math.round(l*255);case Int32Array:return Math.round(l*2147483647);case Int16Array:return Math.round(l*32767);case Int8Array:return Math.round(l*127);default:throw new Error("Invalid component type.")}}const Gk={DEG2RAD:cr,RAD2DEG:Bo,generateUUID:Yt,clamp:xe,euclideanModulo:$d,mapLinear:dM,inverseLerp:fM,lerp:zo,damp:pM,pingpong:mM,smoothstep:gM,smootherstep:yM,randInt:xM,randFloat:vM,randFloatSpread:wM,seededRandom:SM,degToRad:bM,radToDeg:MM,isPowerOfTwo:_M,ceilPowerOfTwo:CM,floorPowerOfTwo:AM,setQuaternionFromProperEuler:kM,normalize:Se,denormalize:Tt};class X{constructor(e=0,t=0){X.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=xe(this.x,e.x,t.x),this.y=xe(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=xe(this.x,e,t),this.y=xe(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xe(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xe(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*i+e.x,this.y=s*i+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Rn{constructor(e,t,n,i,s,a,u,h,d){Rn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,s,a,u,h,d)}set(e,t,n,i,s,a,u,h,d){const p=this.elements;return p[0]=e,p[1]=i,p[2]=u,p[3]=t,p[4]=s,p[5]=h,p[6]=n,p[7]=a,p[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,a=n[0],u=n[3],h=n[6],d=n[1],p=n[4],g=n[7],m=n[2],x=n[5],v=n[8],S=i[0],b=i[3],_=i[6],C=i[1],A=i[4],k=i[7],P=i[2],E=i[5],R=i[8];return s[0]=a*S+u*C+h*P,s[3]=a*b+u*A+h*E,s[6]=a*_+u*k+h*R,s[1]=d*S+p*C+g*P,s[4]=d*b+p*A+g*E,s[7]=d*_+p*k+g*R,s[2]=m*S+x*C+v*P,s[5]=m*b+x*A+v*E,s[8]=m*_+x*k+v*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],a=e[4],u=e[5],h=e[6],d=e[7],p=e[8];return t*a*p-t*u*d-n*s*p+n*u*h+i*s*d-i*a*h}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],a=e[4],u=e[5],h=e[6],d=e[7],p=e[8],g=p*a-u*d,m=u*h-p*s,x=d*s-a*h,v=t*g+n*m+i*x;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/v;return e[0]=g*S,e[1]=(i*d-p*n)*S,e[2]=(u*n-i*a)*S,e[3]=m*S,e[4]=(p*t-i*h)*S,e[5]=(i*s-u*t)*S,e[6]=x*S,e[7]=(n*h-d*t)*S,e[8]=(a*t-n*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,s,a,u){const h=Math.cos(s),d=Math.sin(s);return this.set(n*h,n*d,-n*(h*a+d*u)+a+e,-i*d,i*h,-i*(-d*a+h*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(Lh.makeScale(e,t)),this}rotate(e){return this.premultiply(Lh.makeRotation(-e)),this}translate(e,t){return this.premultiply(Lh.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Lh=new Rn;function TM(l){for(let e=l.length-1;e>=0;--e)if(l[e]>=65535)return!0;return!1}const EM={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ds(l,e){return new EM[l](e)}function ou(l){return document.createElementNS("http://www.w3.org/1999/xhtml",l)}function qk(){const l=ou("canvas");return l.style.display="block",l}const Yg={};function Jk(l){l in Yg||(Yg[l]=!0,console.warn(l))}function Xk(l,e,t){return new Promise(function(n,i){function s(){switch(l.clientWaitSync(e,l.SYNC_FLUSH_COMMANDS_BIT,0)){case l.WAIT_FAILED:i();break;case l.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:n()}}setTimeout(s,t)})}function Yk(l){const e=l.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Zk(l){const e=l.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Zg=new Rn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Qg=new Rn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function IM(){const l={enabled:!0,workingColorSpace:Gg,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Fh&&(i.r=ei(i.r),i.g=ei(i.g),i.b=ei(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Fh&&(i.r=ms(i.r),i.g=ms(i.g),i.b=ms(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Y0?qg:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return l.define({[Gg]:{primaries:e,whitePoint:n,transfer:qg,toXYZ:Zg,fromXYZ:Qg,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ln},outputColorSpaceConfig:{drawingBufferColorSpace:ln}},[ln]:{primaries:e,whitePoint:n,transfer:Fh,toXYZ:Zg,fromXYZ:Qg,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ln}}}),l}const Jt=IM();function ei(l){return l<.04045?l*.0773993808:Math.pow(l*.9478672986+.0521327014,2.4)}function ms(l){return l<.0031308?l*12.92:1.055*Math.pow(l,.41666)-.055}let Hr;class PM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{Hr===void 0&&(Hr=ou("canvas")),Hr.width=e.width,Hr.height=e.height;const n=Hr.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Hr}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=ou("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=ei(s[a]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(ei(t[n]/255)*255):t[n]=ei(t[n]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let zM=0;class fs{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:zM++}),this.uuid=Yt(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,u=i.length;a<u;a++)i[a].isDataTexture?s.push(Oh(i[a].image)):s.push(Oh(i[a]))}else s=Oh(i);n.url=s}return t||(e.images[this.uuid]=n),n}}function Oh(l){return typeof HTMLImageElement<"u"&&l instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&l instanceof ImageBitmap?PM.getDataURL(l):l.data?{data:Array.from(l.data),width:l.width,height:l.height,type:l.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let RM=0;class ut extends Bi{constructor(e=ut.DEFAULT_IMAGE,t=ut.DEFAULT_MAPPING,n=Tn,i=Tn,s=cn,a=Su,u=No,h=G0,d=ut.DEFAULT_ANISOTROPY,p=Y0){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:RM++}),this.uuid=Yt(),this.name="",this.source=new fs(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=u,this.internalFormat=null,this.type=h,this.offset=new X(0,0),this.repeat=new X(1,1),this.center=new X(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ud)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Cd:e.x=e.x-Math.floor(e.x);break;case Tn:e.x=e.x<0?0:1;break;case Ad:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Cd:e.y=e.y-Math.floor(e.y);break;case Tn:e.y=e.y<0?0:1;break;case Ad:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ut.DEFAULT_IMAGE=null;ut.DEFAULT_MAPPING=Ud;ut.DEFAULT_ANISOTROPY=1;class pt{constructor(e=0,t=0,n=0,i=1){pt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i+a[12]*s,this.y=a[1]*t+a[5]*n+a[9]*i+a[13]*s,this.z=a[2]*t+a[6]*n+a[10]*i+a[14]*s,this.w=a[3]*t+a[7]*n+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,s;const h=e.elements,d=h[0],p=h[4],g=h[8],m=h[1],x=h[5],v=h[9],S=h[2],b=h[6],_=h[10];if(Math.abs(p-m)<.01&&Math.abs(g-S)<.01&&Math.abs(v-b)<.01){if(Math.abs(p+m)<.1&&Math.abs(g+S)<.1&&Math.abs(v+b)<.1&&Math.abs(d+x+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const A=(d+1)/2,k=(x+1)/2,P=(_+1)/2,E=(p+m)/4,R=(g+S)/4,N=(v+b)/4;return A>k&&A>P?A<.01?(n=0,i=.707106781,s=.707106781):(n=Math.sqrt(A),i=E/n,s=R/n):k>P?k<.01?(n=.707106781,i=0,s=.707106781):(i=Math.sqrt(k),n=E/i,s=N/i):P<.01?(n=.707106781,i=.707106781,s=0):(s=Math.sqrt(P),n=R/s,i=N/s),this.set(n,i,s,t),this}let C=Math.sqrt((b-v)*(b-v)+(g-S)*(g-S)+(m-p)*(m-p));return Math.abs(C)<.001&&(C=1),this.x=(b-v)/C,this.y=(g-S)/C,this.z=(m-p)/C,this.w=Math.acos((d+x+_-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=xe(this.x,e.x,t.x),this.y=xe(this.y,e.y,t.y),this.z=xe(this.z,e.z,t.z),this.w=xe(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=xe(this.x,e,t),this.y=xe(this.y,e,t),this.z=xe(this.z,e,t),this.w=xe(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xe(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class FM extends Bi{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new pt(0,0,e,t),this.scissorTest=!1,this.viewport=new pt(0,0,e,t);const i={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const s=new ut(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);s.flipY=!1,s.generateMipmaps=n.generateMipmaps,s.internalFormat=n.internalFormat,this.textures=[];const a=n.count;for(let u=0;u<a;u++)this.textures[u]=s.clone(),this.textures[u].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new fs(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bu extends FM{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class LM extends ut{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Sn,this.minFilter=Sn,this.wrapR=Tn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Qk extends bu{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new LM(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class OM extends ut{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=Sn,this.minFilter=Sn,this.wrapR=Tn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Kk extends bu{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new OM(null,e,t,n),this.texture.isRenderTargetTexture=!0}}class Zt{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,s,a,u){let h=n[i+0],d=n[i+1],p=n[i+2],g=n[i+3];const m=s[a+0],x=s[a+1],v=s[a+2],S=s[a+3];if(u===0){e[t+0]=h,e[t+1]=d,e[t+2]=p,e[t+3]=g;return}if(u===1){e[t+0]=m,e[t+1]=x,e[t+2]=v,e[t+3]=S;return}if(g!==S||h!==m||d!==x||p!==v){let b=1-u;const _=h*m+d*x+p*v+g*S,C=_>=0?1:-1,A=1-_*_;if(A>Number.EPSILON){const P=Math.sqrt(A),E=Math.atan2(P,_*C);b=Math.sin(b*E)/P,u=Math.sin(u*E)/P}const k=u*C;if(h=h*b+m*k,d=d*b+x*k,p=p*b+v*k,g=g*b+S*k,b===1-u){const P=1/Math.sqrt(h*h+d*d+p*p+g*g);h*=P,d*=P,p*=P,g*=P}}e[t]=h,e[t+1]=d,e[t+2]=p,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,i,s,a){const u=n[i],h=n[i+1],d=n[i+2],p=n[i+3],g=s[a],m=s[a+1],x=s[a+2],v=s[a+3];return e[t]=u*v+p*g+h*x-d*m,e[t+1]=h*v+p*m+d*g-u*x,e[t+2]=d*v+p*x+u*m-h*g,e[t+3]=p*v-u*g-h*m-d*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,s=e._z,a=e._order,u=Math.cos,h=Math.sin,d=u(n/2),p=u(i/2),g=u(s/2),m=h(n/2),x=h(i/2),v=h(s/2);switch(a){case"XYZ":this._x=m*p*g+d*x*v,this._y=d*x*g-m*p*v,this._z=d*p*v+m*x*g,this._w=d*p*g-m*x*v;break;case"YXZ":this._x=m*p*g+d*x*v,this._y=d*x*g-m*p*v,this._z=d*p*v-m*x*g,this._w=d*p*g+m*x*v;break;case"ZXY":this._x=m*p*g-d*x*v,this._y=d*x*g+m*p*v,this._z=d*p*v+m*x*g,this._w=d*p*g-m*x*v;break;case"ZYX":this._x=m*p*g-d*x*v,this._y=d*x*g+m*p*v,this._z=d*p*v-m*x*g,this._w=d*p*g+m*x*v;break;case"YZX":this._x=m*p*g+d*x*v,this._y=d*x*g+m*p*v,this._z=d*p*v-m*x*g,this._w=d*p*g-m*x*v;break;case"XZY":this._x=m*p*g-d*x*v,this._y=d*x*g-m*p*v,this._z=d*p*v+m*x*g,this._w=d*p*g+m*x*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],s=t[8],a=t[1],u=t[5],h=t[9],d=t[2],p=t[6],g=t[10],m=n+u+g;if(m>0){const x=.5/Math.sqrt(m+1);this._w=.25/x,this._x=(p-h)*x,this._y=(s-d)*x,this._z=(a-i)*x}else if(n>u&&n>g){const x=2*Math.sqrt(1+n-u-g);this._w=(p-h)/x,this._x=.25*x,this._y=(i+a)/x,this._z=(s+d)/x}else if(u>g){const x=2*Math.sqrt(1+u-n-g);this._w=(s-d)/x,this._x=(i+a)/x,this._y=.25*x,this._z=(h+p)/x}else{const x=2*Math.sqrt(1+g-n-u);this._w=(a-i)/x,this._x=(s+d)/x,this._y=(h+p)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xe(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,s=e._z,a=e._w,u=t._x,h=t._y,d=t._z,p=t._w;return this._x=n*p+a*u+i*d-s*h,this._y=i*p+a*h+s*u-n*d,this._z=s*p+a*d+n*h-i*u,this._w=a*p-n*u-i*h-s*d,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,s=this._z,a=this._w;let u=a*e._w+n*e._x+i*e._y+s*e._z;if(u<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,u=-u):this.copy(e),u>=1)return this._w=a,this._x=n,this._y=i,this._z=s,this;const h=1-u*u;if(h<=Number.EPSILON){const x=1-t;return this._w=x*a+t*this._w,this._x=x*n+t*this._x,this._y=x*i+t*this._y,this._z=x*s+t*this._z,this.normalize(),this}const d=Math.sqrt(h),p=Math.atan2(d,u),g=Math.sin((1-t)*p)/d,m=Math.sin(t*p)/d;return this._w=a*g+this._w*m,this._x=n*g+this._x*m,this._y=i*g+this._y*m,this._z=s*g+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),s=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class I{constructor(e=0,t=0,n=0){I.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Kg.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Kg.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6]*i,this.y=s[1]*t+s[4]*n+s[7]*i,this.z=s[2]*t+s[5]*n+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,s=e.elements,a=1/(s[3]*t+s[7]*n+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*n+s[8]*i+s[12])*a,this.y=(s[1]*t+s[5]*n+s[9]*i+s[13])*a,this.z=(s[2]*t+s[6]*n+s[10]*i+s[14])*a,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,s=e.x,a=e.y,u=e.z,h=e.w,d=2*(a*i-u*n),p=2*(u*t-s*i),g=2*(s*n-a*t);return this.x=t+h*d+a*g-u*p,this.y=n+h*p+u*d-s*g,this.z=i+h*g+s*p-a*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*n+s[8]*i,this.y=s[1]*t+s[5]*n+s[9]*i,this.z=s[2]*t+s[6]*n+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=xe(this.x,e.x,t.x),this.y=xe(this.y,e.y,t.y),this.z=xe(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=xe(this.x,e,t),this.y=xe(this.y,e,t),this.z=xe(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(xe(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,s=e.z,a=t.x,u=t.y,h=t.z;return this.x=i*h-s*u,this.y=s*a-n*h,this.z=n*u-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Nh.copy(this).projectOnVector(e),this.sub(Nh)}reflect(e){return this.sub(Nh.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(xe(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Nh=new I,Kg=new Zt;class Ut{constructor(e=new I(1/0,1/0,1/0),t=new I(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(xn.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(xn.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=xn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const s=n.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,u=s.count;a<u;a++)e.isMesh===!0?e.getVertexPosition(a,xn):xn.fromBufferAttribute(s,a),xn.applyMatrix4(e.matrixWorld),this.expandByPoint(xn);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),cl.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),cl.copy(n.boundingBox)),cl.applyMatrix4(e.matrixWorld),this.union(cl)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,xn),xn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(po),hl.subVectors(this.max,po),$r.subVectors(e.a,po),jr.subVectors(e.b,po),Gr.subVectors(e.c,po),Ai.subVectors(jr,$r),ki.subVectors(Gr,jr),Qi.subVectors($r,Gr);let t=[0,-Ai.z,Ai.y,0,-ki.z,ki.y,0,-Qi.z,Qi.y,Ai.z,0,-Ai.x,ki.z,0,-ki.x,Qi.z,0,-Qi.x,-Ai.y,Ai.x,0,-ki.y,ki.x,0,-Qi.y,Qi.x,0];return!Bh(t,$r,jr,Gr,hl)||(t=[1,0,0,0,1,0,0,0,1],!Bh(t,$r,jr,Gr,hl))?!1:(dl.crossVectors(Ai,ki),t=[dl.x,dl.y,dl.z],Bh(t,$r,jr,Gr,hl))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(xn).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(jn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jn),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jn=[new I,new I,new I,new I,new I,new I,new I,new I],xn=new I,cl=new Ut,$r=new I,jr=new I,Gr=new I,Ai=new I,ki=new I,Qi=new I,po=new I,hl=new I,dl=new I,Ki=new I;function Bh(l,e,t,n,i){for(let s=0,a=l.length-3;s<=a;s+=3){Ki.fromArray(l,s);const u=i.x*Math.abs(Ki.x)+i.y*Math.abs(Ki.y)+i.z*Math.abs(Ki.z),h=e.dot(Ki),d=t.dot(Ki),p=n.dot(Ki);if(Math.max(-Math.max(h,d,p),Math.min(h,d,p))>u)return!1}return!0}const NM=new Ut,mo=new I,Dh=new I;class Et{constructor(e=new I,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):NM.setFromPoints(e).getCenter(n);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;mo.subVectors(e,this.center);const t=mo.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(mo,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Dh.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(mo.copy(e.center).add(Dh)),this.expandByPoint(mo.copy(e.center).sub(Dh))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Gn=new I,Uh=new I,fl=new I,Ti=new I,Vh=new I,pl=new I,Wh=new I;class Jo{constructor(e=new I,t=new I(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Gn)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Gn.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Gn.copy(this.origin).addScaledVector(this.direction,t),Gn.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){Uh.copy(e).add(t).multiplyScalar(.5),fl.copy(t).sub(e).normalize(),Ti.copy(this.origin).sub(Uh);const s=e.distanceTo(t)*.5,a=-this.direction.dot(fl),u=Ti.dot(this.direction),h=-Ti.dot(fl),d=Ti.lengthSq(),p=Math.abs(1-a*a);let g,m,x,v;if(p>0)if(g=a*h-u,m=a*u-h,v=s*p,g>=0)if(m>=-v)if(m<=v){const S=1/p;g*=S,m*=S,x=g*(g+a*m+2*u)+m*(a*g+m+2*h)+d}else m=s,g=Math.max(0,-(a*m+u)),x=-g*g+m*(m+2*h)+d;else m=-s,g=Math.max(0,-(a*m+u)),x=-g*g+m*(m+2*h)+d;else m<=-v?(g=Math.max(0,-(-a*s+u)),m=g>0?-s:Math.min(Math.max(-s,-h),s),x=-g*g+m*(m+2*h)+d):m<=v?(g=0,m=Math.min(Math.max(-s,-h),s),x=m*(m+2*h)+d):(g=Math.max(0,-(a*s+u)),m=g>0?s:Math.min(Math.max(-s,-h),s),x=-g*g+m*(m+2*h)+d);else m=a>0?-s:s,g=Math.max(0,-(a*m+u)),x=-g*g+m*(m+2*h)+d;return n&&n.copy(this.origin).addScaledVector(this.direction,g),i&&i.copy(Uh).addScaledVector(fl,m),x}intersectSphere(e,t){Gn.subVectors(e.center,this.origin);const n=Gn.dot(this.direction),i=Gn.dot(Gn)-n*n,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),u=n-a,h=n+a;return h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,s,a,u,h;const d=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,m=this.origin;return d>=0?(n=(e.min.x-m.x)*d,i=(e.max.x-m.x)*d):(n=(e.max.x-m.x)*d,i=(e.min.x-m.x)*d),p>=0?(s=(e.min.y-m.y)*p,a=(e.max.y-m.y)*p):(s=(e.max.y-m.y)*p,a=(e.min.y-m.y)*p),n>a||s>i||((s>n||isNaN(n))&&(n=s),(a<i||isNaN(i))&&(i=a),g>=0?(u=(e.min.z-m.z)*g,h=(e.max.z-m.z)*g):(u=(e.max.z-m.z)*g,h=(e.min.z-m.z)*g),n>h||u>i)||((u>n||n!==n)&&(n=u),(h<i||i!==i)&&(i=h),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,Gn)!==null}intersectTriangle(e,t,n,i,s){Vh.subVectors(t,e),pl.subVectors(n,e),Wh.crossVectors(Vh,pl);let a=this.direction.dot(Wh),u;if(a>0){if(i)return null;u=1}else if(a<0)u=-1,a=-a;else return null;Ti.subVectors(this.origin,e);const h=u*this.direction.dot(pl.crossVectors(Ti,pl));if(h<0)return null;const d=u*this.direction.dot(Vh.cross(Ti));if(d<0||h+d>a)return null;const p=-u*Ti.dot(Wh);return p<0?null:this.at(p/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Me{constructor(e,t,n,i,s,a,u,h,d,p,g,m,x,v,S,b){Me.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,s,a,u,h,d,p,g,m,x,v,S,b)}set(e,t,n,i,s,a,u,h,d,p,g,m,x,v,S,b){const _=this.elements;return _[0]=e,_[4]=t,_[8]=n,_[12]=i,_[1]=s,_[5]=a,_[9]=u,_[13]=h,_[2]=d,_[6]=p,_[10]=g,_[14]=m,_[3]=x,_[7]=v,_[11]=S,_[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Me().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,i=1/qr.setFromMatrixColumn(e,0).length(),s=1/qr.setFromMatrixColumn(e,1).length(),a=1/qr.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*s,t[5]=n[5]*s,t[6]=n[6]*s,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,s=e.z,a=Math.cos(n),u=Math.sin(n),h=Math.cos(i),d=Math.sin(i),p=Math.cos(s),g=Math.sin(s);if(e.order==="XYZ"){const m=a*p,x=a*g,v=u*p,S=u*g;t[0]=h*p,t[4]=-h*g,t[8]=d,t[1]=x+v*d,t[5]=m-S*d,t[9]=-u*h,t[2]=S-m*d,t[6]=v+x*d,t[10]=a*h}else if(e.order==="YXZ"){const m=h*p,x=h*g,v=d*p,S=d*g;t[0]=m+S*u,t[4]=v*u-x,t[8]=a*d,t[1]=a*g,t[5]=a*p,t[9]=-u,t[2]=x*u-v,t[6]=S+m*u,t[10]=a*h}else if(e.order==="ZXY"){const m=h*p,x=h*g,v=d*p,S=d*g;t[0]=m-S*u,t[4]=-a*g,t[8]=v+x*u,t[1]=x+v*u,t[5]=a*p,t[9]=S-m*u,t[2]=-a*d,t[6]=u,t[10]=a*h}else if(e.order==="ZYX"){const m=a*p,x=a*g,v=u*p,S=u*g;t[0]=h*p,t[4]=v*d-x,t[8]=m*d+S,t[1]=h*g,t[5]=S*d+m,t[9]=x*d-v,t[2]=-d,t[6]=u*h,t[10]=a*h}else if(e.order==="YZX"){const m=a*h,x=a*d,v=u*h,S=u*d;t[0]=h*p,t[4]=S-m*g,t[8]=v*g+x,t[1]=g,t[5]=a*p,t[9]=-u*p,t[2]=-d*p,t[6]=x*g+v,t[10]=m-S*g}else if(e.order==="XZY"){const m=a*h,x=a*d,v=u*h,S=u*d;t[0]=h*p,t[4]=-g,t[8]=d*p,t[1]=m*g+S,t[5]=a*p,t[9]=x*g-v,t[2]=v*g-x,t[6]=u*p,t[10]=S*g+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(BM,e,DM)}lookAt(e,t,n){const i=this.elements;return Gt.subVectors(e,t),Gt.lengthSq()===0&&(Gt.z=1),Gt.normalize(),Ei.crossVectors(n,Gt),Ei.lengthSq()===0&&(Math.abs(n.z)===1?Gt.x+=1e-4:Gt.z+=1e-4,Gt.normalize(),Ei.crossVectors(n,Gt)),Ei.normalize(),ml.crossVectors(Gt,Ei),i[0]=Ei.x,i[4]=ml.x,i[8]=Gt.x,i[1]=Ei.y,i[5]=ml.y,i[9]=Gt.y,i[2]=Ei.z,i[6]=ml.z,i[10]=Gt.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,s=this.elements,a=n[0],u=n[4],h=n[8],d=n[12],p=n[1],g=n[5],m=n[9],x=n[13],v=n[2],S=n[6],b=n[10],_=n[14],C=n[3],A=n[7],k=n[11],P=n[15],E=i[0],R=i[4],N=i[8],W=i[12],G=i[1],K=i[5],he=i[9],de=i[13],fe=i[2],_e=i[6],we=i[10],Ce=i[14],j=i[3],Z=i[7],J=i[11],F=i[15];return s[0]=a*E+u*G+h*fe+d*j,s[4]=a*R+u*K+h*_e+d*Z,s[8]=a*N+u*he+h*we+d*J,s[12]=a*W+u*de+h*Ce+d*F,s[1]=p*E+g*G+m*fe+x*j,s[5]=p*R+g*K+m*_e+x*Z,s[9]=p*N+g*he+m*we+x*J,s[13]=p*W+g*de+m*Ce+x*F,s[2]=v*E+S*G+b*fe+_*j,s[6]=v*R+S*K+b*_e+_*Z,s[10]=v*N+S*he+b*we+_*J,s[14]=v*W+S*de+b*Ce+_*F,s[3]=C*E+A*G+k*fe+P*j,s[7]=C*R+A*K+k*_e+P*Z,s[11]=C*N+A*he+k*we+P*J,s[15]=C*W+A*de+k*Ce+P*F,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],s=e[12],a=e[1],u=e[5],h=e[9],d=e[13],p=e[2],g=e[6],m=e[10],x=e[14],v=e[3],S=e[7],b=e[11],_=e[15];return v*(+s*h*g-i*d*g-s*u*m+n*d*m+i*u*x-n*h*x)+S*(+t*h*x-t*d*m+s*a*m-i*a*x+i*d*p-s*h*p)+b*(+t*d*g-t*u*x-s*a*g+n*a*x+s*u*p-n*d*p)+_*(-i*u*p-t*h*g+t*u*m+i*a*g-n*a*m+n*h*p)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],s=e[3],a=e[4],u=e[5],h=e[6],d=e[7],p=e[8],g=e[9],m=e[10],x=e[11],v=e[12],S=e[13],b=e[14],_=e[15],C=g*b*d-S*m*d+S*h*x-u*b*x-g*h*_+u*m*_,A=v*m*d-p*b*d-v*h*x+a*b*x+p*h*_-a*m*_,k=p*S*d-v*g*d+v*u*x-a*S*x-p*u*_+a*g*_,P=v*g*h-p*S*h-v*u*m+a*S*m+p*u*b-a*g*b,E=t*C+n*A+i*k+s*P;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/E;return e[0]=C*R,e[1]=(S*m*s-g*b*s-S*i*x+n*b*x+g*i*_-n*m*_)*R,e[2]=(u*b*s-S*h*s+S*i*d-n*b*d-u*i*_+n*h*_)*R,e[3]=(g*h*s-u*m*s-g*i*d+n*m*d+u*i*x-n*h*x)*R,e[4]=A*R,e[5]=(p*b*s-v*m*s+v*i*x-t*b*x-p*i*_+t*m*_)*R,e[6]=(v*h*s-a*b*s-v*i*d+t*b*d+a*i*_-t*h*_)*R,e[7]=(a*m*s-p*h*s+p*i*d-t*m*d-a*i*x+t*h*x)*R,e[8]=k*R,e[9]=(v*g*s-p*S*s-v*n*x+t*S*x+p*n*_-t*g*_)*R,e[10]=(a*S*s-v*u*s+v*n*d-t*S*d-a*n*_+t*u*_)*R,e[11]=(p*u*s-a*g*s-p*n*d+t*g*d+a*n*x-t*u*x)*R,e[12]=P*R,e[13]=(p*S*i-v*g*i+v*n*m-t*S*m-p*n*b+t*g*b)*R,e[14]=(v*u*i-a*S*i-v*n*h+t*S*h+a*n*b-t*u*b)*R,e[15]=(a*g*i-p*u*i+p*n*h-t*g*h-a*n*m+t*u*m)*R,this}scale(e){const t=this.elements,n=e.x,i=e.y,s=e.z;return t[0]*=n,t[4]*=i,t[8]*=s,t[1]*=n,t[5]*=i,t[9]*=s,t[2]*=n,t[6]*=i,t[10]*=s,t[3]*=n,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),s=1-n,a=e.x,u=e.y,h=e.z,d=s*a,p=s*u;return this.set(d*a+n,d*u-i*h,d*h+i*u,0,d*u+i*h,p*u+n,p*h-i*a,0,d*h-i*u,p*h+i*a,s*h*h+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,s,a){return this.set(1,n,s,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,s=t._x,a=t._y,u=t._z,h=t._w,d=s+s,p=a+a,g=u+u,m=s*d,x=s*p,v=s*g,S=a*p,b=a*g,_=u*g,C=h*d,A=h*p,k=h*g,P=n.x,E=n.y,R=n.z;return i[0]=(1-(S+_))*P,i[1]=(x+k)*P,i[2]=(v-A)*P,i[3]=0,i[4]=(x-k)*E,i[5]=(1-(m+_))*E,i[6]=(b+C)*E,i[7]=0,i[8]=(v+A)*R,i[9]=(b-C)*R,i[10]=(1-(m+S))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;let s=qr.set(i[0],i[1],i[2]).length();const a=qr.set(i[4],i[5],i[6]).length(),u=qr.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],vn.copy(this);const d=1/s,p=1/a,g=1/u;return vn.elements[0]*=d,vn.elements[1]*=d,vn.elements[2]*=d,vn.elements[4]*=p,vn.elements[5]*=p,vn.elements[6]*=p,vn.elements[8]*=g,vn.elements[9]*=g,vn.elements[10]*=g,t.setFromRotationMatrix(vn),n.x=s,n.y=a,n.z=u,this}makePerspective(e,t,n,i,s,a,u=Ri){const h=this.elements,d=2*s/(t-e),p=2*s/(n-i),g=(t+e)/(t-e),m=(n+i)/(n-i);let x,v;if(u===Ri)x=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(u===su)x=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return h[0]=d,h[4]=0,h[8]=g,h[12]=0,h[1]=0,h[5]=p,h[9]=m,h[13]=0,h[2]=0,h[6]=0,h[10]=x,h[14]=v,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,t,n,i,s,a,u=Ri){const h=this.elements,d=1/(t-e),p=1/(n-i),g=1/(a-s),m=(t+e)*d,x=(n+i)*p;let v,S;if(u===Ri)v=(a+s)*g,S=-2*g;else if(u===su)v=s*g,S=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return h[0]=2*d,h[4]=0,h[8]=0,h[12]=-m,h[1]=0,h[5]=2*p,h[9]=0,h[13]=-x,h[2]=0,h[6]=0,h[10]=S,h[14]=-v,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const qr=new I,vn=new Me,BM=new I(0,0,0),DM=new I(1,1,1),Ei=new I,ml=new I,Gt=new I,ey=new Me,ty=new Zt;class Pn{constructor(e=0,t=0,n=0,i=Pn.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,s=i[0],a=i[4],u=i[8],h=i[1],d=i[5],p=i[9],g=i[2],m=i[6],x=i[10];switch(t){case"XYZ":this._y=Math.asin(xe(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,x),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(m,d),this._z=0);break;case"YXZ":this._x=Math.asin(-xe(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,x),this._z=Math.atan2(h,d)):(this._y=Math.atan2(-g,s),this._z=0);break;case"ZXY":this._x=Math.asin(xe(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-g,x),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(h,s));break;case"ZYX":this._y=Math.asin(-xe(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(m,x),this._z=Math.atan2(h,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(xe(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-p,d),this._y=Math.atan2(-g,s)):(this._x=0,this._y=Math.atan2(u,x));break;case"XZY":this._z=Math.asin(-xe(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,d),this._y=Math.atan2(u,s)):(this._x=Math.atan2(-p,x),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return ey.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ey,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ty.setFromEuler(this),this.setFromQuaternion(ty,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Pn.DEFAULT_ORDER="XYZ";class Z0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let UM=0;const ny=new I,Jr=new Zt,qn=new Me,gl=new I,go=new I,VM=new I,WM=new Zt,iy=new I(1,0,0),ry=new I(0,1,0),sy=new I(0,0,1),oy={type:"added"},HM={type:"removed"},Xr={type:"childadded",child:null},Hh={type:"childremoved",child:null};class Ne extends Bi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:UM++}),this.uuid=Yt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ne.DEFAULT_UP.clone();const e=new I,t=new Pn,n=new Zt,i=new I(1,1,1);function s(){n.setFromEuler(t,!1)}function a(){t.setFromQuaternion(n,void 0,!1)}t._onChange(s),n._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Me},normalMatrix:{value:new Rn}}),this.matrix=new Me,this.matrixWorld=new Me,this.matrixAutoUpdate=Ne.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ne.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Z0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Jr.setFromAxisAngle(e,t),this.quaternion.multiply(Jr),this}rotateOnWorldAxis(e,t){return Jr.setFromAxisAngle(e,t),this.quaternion.premultiply(Jr),this}rotateX(e){return this.rotateOnAxis(iy,e)}rotateY(e){return this.rotateOnAxis(ry,e)}rotateZ(e){return this.rotateOnAxis(sy,e)}translateOnAxis(e,t){return ny.copy(e).applyQuaternion(this.quaternion),this.position.add(ny.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(iy,e)}translateY(e){return this.translateOnAxis(ry,e)}translateZ(e){return this.translateOnAxis(sy,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(qn.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?gl.copy(e):gl.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),go.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qn.lookAt(go,gl,this.up):qn.lookAt(gl,go,this.up),this.quaternion.setFromRotationMatrix(qn),i&&(qn.extractRotation(i.matrixWorld),Jr.setFromRotationMatrix(qn),this.quaternion.premultiply(Jr.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(oy),Xr.child=e,this.dispatchEvent(Xr),Xr.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(HM),Hh.child=e,this.dispatchEvent(Hh),Hh.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),qn.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),qn.multiply(e.parent.matrixWorld)),e.applyMatrix4(qn),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(oy),Xr.child=e,this.dispatchEvent(Xr),Xr.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const a=this.children[n].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(go,e,VM),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(go,WM,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(u=>({boxInitialized:u.boxInitialized,boxMin:u.box.min.toArray(),boxMax:u.box.max.toArray(),sphereInitialized:u.sphereInitialized,sphereRadius:u.sphere.radius,sphereCenter:u.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let d=0,p=h.length;d<p;d++){const g=h[d];s(e.shapes,g)}else s(e.shapes,h)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,d=this.material.length;h<d;h++)u.push(s(e.materials,this.material[h]));i.material=u}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let u=0;u<this.children.length;u++)i.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];i.animations.push(s(e.animations,h))}}if(t){const u=a(e.geometries),h=a(e.materials),d=a(e.textures),p=a(e.images),g=a(e.shapes),m=a(e.skeletons),x=a(e.animations),v=a(e.nodes);u.length>0&&(n.geometries=u),h.length>0&&(n.materials=h),d.length>0&&(n.textures=d),p.length>0&&(n.images=p),g.length>0&&(n.shapes=g),m.length>0&&(n.skeletons=m),x.length>0&&(n.animations=x),v.length>0&&(n.nodes=v)}return n.object=i,n;function a(u){const h=[];for(const d in u){const p=u[d];delete p.metadata,h.push(p)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}Ne.DEFAULT_UP=new I(0,1,0);Ne.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ne.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const wn=new I,Jn=new I,$h=new I,Xn=new I,Yr=new I,Zr=new I,ay=new I,jh=new I,Gh=new I,qh=new I,Jh=new pt,Xh=new pt,Yh=new pt;class Xt{constructor(e=new I,t=new I,n=new I){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),wn.subVectors(e,t),i.cross(wn);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,n,i,s){wn.subVectors(i,t),Jn.subVectors(n,t),$h.subVectors(e,t);const a=wn.dot(wn),u=wn.dot(Jn),h=wn.dot($h),d=Jn.dot(Jn),p=Jn.dot($h),g=a*d-u*u;if(g===0)return s.set(0,0,0),null;const m=1/g,x=(d*h-u*p)*m,v=(a*p-u*h)*m;return s.set(1-x-v,v,x)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Xn)===null?!1:Xn.x>=0&&Xn.y>=0&&Xn.x+Xn.y<=1}static getInterpolation(e,t,n,i,s,a,u,h){return this.getBarycoord(e,t,n,i,Xn)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(s,Xn.x),h.addScaledVector(a,Xn.y),h.addScaledVector(u,Xn.z),h)}static getInterpolatedAttribute(e,t,n,i,s,a){return Jh.setScalar(0),Xh.setScalar(0),Yh.setScalar(0),Jh.fromBufferAttribute(e,t),Xh.fromBufferAttribute(e,n),Yh.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(Jh,s.x),a.addScaledVector(Xh,s.y),a.addScaledVector(Yh,s.z),a}static isFrontFacing(e,t,n,i){return wn.subVectors(n,t),Jn.subVectors(e,t),wn.cross(Jn).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return wn.subVectors(this.c,this.b),Jn.subVectors(this.a,this.b),wn.cross(Jn).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Xt.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Xt.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,s){return Xt.getInterpolation(e,this.a,this.b,this.c,t,n,i,s)}containsPoint(e){return Xt.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Xt.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,s=this.c;let a,u;Yr.subVectors(i,n),Zr.subVectors(s,n),jh.subVectors(e,n);const h=Yr.dot(jh),d=Zr.dot(jh);if(h<=0&&d<=0)return t.copy(n);Gh.subVectors(e,i);const p=Yr.dot(Gh),g=Zr.dot(Gh);if(p>=0&&g<=p)return t.copy(i);const m=h*g-p*d;if(m<=0&&h>=0&&p<=0)return a=h/(h-p),t.copy(n).addScaledVector(Yr,a);qh.subVectors(e,s);const x=Yr.dot(qh),v=Zr.dot(qh);if(v>=0&&x<=v)return t.copy(s);const S=x*d-h*v;if(S<=0&&d>=0&&v<=0)return u=d/(d-v),t.copy(n).addScaledVector(Zr,u);const b=p*v-x*g;if(b<=0&&g-p>=0&&x-v>=0)return ay.subVectors(s,i),u=(g-p)/(g-p+(x-v)),t.copy(i).addScaledVector(ay,u);const _=1/(b+S+m);return a=S*_,u=m*_,t.copy(n).addScaledVector(Yr,a).addScaledVector(Zr,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Q0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ii={h:0,s:0,l:0},yl={h:0,s:0,l:0};function Zh(l,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?l+(e-l)*6*t:t<1/2?e:t<2/3?l+(e-l)*6*(2/3-t):l}class ve{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ln){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Jt.toWorkingColorSpace(this,t),this}setRGB(e,t,n,i=Jt.workingColorSpace){return this.r=e,this.g=t,this.b=n,Jt.toWorkingColorSpace(this,i),this}setHSL(e,t,n,i=Jt.workingColorSpace){if(e=$d(e,1),t=xe(t,0,1),n=xe(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,a=2*n-s;this.r=Zh(a,s,e+1/3),this.g=Zh(a,s,e),this.b=Zh(a,s,e-1/3)}return Jt.toWorkingColorSpace(this,i),this}setStyle(e,t=ln){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],u=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ln){const n=Q0[e.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ei(e.r),this.g=ei(e.g),this.b=ei(e.b),this}copyLinearToSRGB(e){return this.r=ms(e.r),this.g=ms(e.g),this.b=ms(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ln){return Jt.fromWorkingColorSpace(bt.copy(this),e),Math.round(xe(bt.r*255,0,255))*65536+Math.round(xe(bt.g*255,0,255))*256+Math.round(xe(bt.b*255,0,255))}getHexString(e=ln){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Jt.workingColorSpace){Jt.fromWorkingColorSpace(bt.copy(this),t);const n=bt.r,i=bt.g,s=bt.b,a=Math.max(n,i,s),u=Math.min(n,i,s);let h,d;const p=(u+a)/2;if(u===a)h=0,d=0;else{const g=a-u;switch(d=p<=.5?g/(a+u):g/(2-a-u),a){case n:h=(i-s)/g+(i<s?6:0);break;case i:h=(s-n)/g+2;break;case s:h=(n-i)/g+4;break}h/=6}return e.h=h,e.s=d,e.l=p,e}getRGB(e,t=Jt.workingColorSpace){return Jt.fromWorkingColorSpace(bt.copy(this),t),e.r=bt.r,e.g=bt.g,e.b=bt.b,e}getStyle(e=ln){Jt.fromWorkingColorSpace(bt.copy(this),e);const t=bt.r,n=bt.g,i=bt.b;return e!==ln?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(Ii),this.setHSL(Ii.h+e,Ii.s+t,Ii.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ii),e.getHSL(yl);const n=zo(Ii.h,yl.h,t),i=zo(Ii.s,yl.s,t),s=zo(Ii.l,yl.l,t);return this.setHSL(n,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*n+s[6]*i,this.g=s[1]*t+s[4]*n+s[7]*i,this.b=s[2]*t+s[5]*n+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const bt=new ve;ve.NAMES=Q0;let $M=0;class It extends Bi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:$M++}),this.uuid=Yt(),this.name="",this.type="Material",this.blending=Dg,this.side=_d,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Vg,this.blendDst=Wg,this.blendEquation=Ug,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ve(0,0,0),this.blendAlpha=0,this.depthFunc=Hg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Jg,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wr,this.stencilZFail=Wr,this.stencilZPass=Wr,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Dg&&(n.blending=this.blending),this.side!==_d&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==Vg&&(n.blendSrc=this.blendSrc),this.blendDst!==Wg&&(n.blendDst=this.blendDst),this.blendEquation!==Ug&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Hg&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Jg&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wr&&(n.stencilFail=this.stencilFail),this.stencilZFail!==Wr&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==Wr&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(s){const a=[];for(const u in s){const h=s[u];delete h.metadata,a.push(h)}return a}if(t){const s=i(e.textures),a=i(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let s=0;s!==i;++s)n[s]=t[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Ms extends It{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pn,this.combine=Dd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Qn=jM();function jM(){const l=new ArrayBuffer(4),e=new Float32Array(l),t=new Uint32Array(l),n=new Uint32Array(512),i=new Uint32Array(512);for(let h=0;h<256;++h){const d=h-127;d<-27?(n[h]=0,n[h|256]=32768,i[h]=24,i[h|256]=24):d<-14?(n[h]=1024>>-d-14,n[h|256]=1024>>-d-14|32768,i[h]=-d-1,i[h|256]=-d-1):d<=15?(n[h]=d+15<<10,n[h|256]=d+15<<10|32768,i[h]=13,i[h|256]=13):d<128?(n[h]=31744,n[h|256]=64512,i[h]=24,i[h|256]=24):(n[h]=31744,n[h|256]=64512,i[h]=13,i[h|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let d=h<<13,p=0;for(;!(d&8388608);)d<<=1,p-=8388608;d&=-8388609,p+=947912704,s[h]=d|p}for(let h=1024;h<2048;++h)s[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)a[h]=h<<23;a[31]=1199570944,a[32]=2147483648;for(let h=33;h<63;++h)a[h]=2147483648+(h-32<<23);a[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:u}}function Dt(l){Math.abs(l)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),l=xe(l,-65504,65504),Qn.floatView[0]=l;const e=Qn.uint32View[0],t=e>>23&511;return Qn.baseTable[t]+((e&8388607)>>Qn.shiftTable[t])}function Io(l){const e=l>>10;return Qn.uint32View[0]=Qn.mantissaTable[Qn.offsetTable[e]+(l&1023)]+Qn.exponentTable[e],Qn.floatView[0]}const eT={toHalfFloat:Dt,fromHalfFloat:Io},ot=new I,xl=new X;class Qe{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=ru,this.updateRanges=[],this.gpuType=ys,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)xl.fromBufferAttribute(this,t),xl.applyMatrix3(e),this.setXY(t,xl.x,xl.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)ot.fromBufferAttribute(this,t),ot.applyMatrix3(e),this.setXYZ(t,ot.x,ot.y,ot.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)ot.fromBufferAttribute(this,t),ot.applyMatrix4(e),this.setXYZ(t,ot.x,ot.y,ot.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)ot.fromBufferAttribute(this,t),ot.applyNormalMatrix(e),this.setXYZ(t,ot.x,ot.y,ot.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)ot.fromBufferAttribute(this,t),ot.transformDirection(e),this.setXYZ(t,ot.x,ot.y,ot.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Tt(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Se(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Tt(t,this.array)),t}setX(e,t){return this.normalized&&(t=Se(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Tt(t,this.array)),t}setY(e,t){return this.normalized&&(t=Se(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Tt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Se(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Tt(t,this.array)),t}setW(e,t){return this.normalized&&(t=Se(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array),i=Se(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array),i=Se(i,this.array),s=Se(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==ru&&(e.usage=this.usage),e}}class tT extends Qe{constructor(e,t,n){super(new Int8Array(e),t,n)}}class nT extends Qe{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class iT extends Qe{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class rT extends Qe{constructor(e,t,n){super(new Int16Array(e),t,n)}}class GM extends Qe{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class sT extends Qe{constructor(e,t,n){super(new Int32Array(e),t,n)}}class qM extends Qe{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class oT extends Qe{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Io(this.array[e*this.itemSize]);return this.normalized&&(t=Tt(t,this.array)),t}setX(e,t){return this.normalized&&(t=Se(t,this.array)),this.array[e*this.itemSize]=Dt(t),this}getY(e){let t=Io(this.array[e*this.itemSize+1]);return this.normalized&&(t=Tt(t,this.array)),t}setY(e,t){return this.normalized&&(t=Se(t,this.array)),this.array[e*this.itemSize+1]=Dt(t),this}getZ(e){let t=Io(this.array[e*this.itemSize+2]);return this.normalized&&(t=Tt(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Se(t,this.array)),this.array[e*this.itemSize+2]=Dt(t),this}getW(e){let t=Io(this.array[e*this.itemSize+3]);return this.normalized&&(t=Tt(t,this.array)),t}setW(e,t){return this.normalized&&(t=Se(t,this.array)),this.array[e*this.itemSize+3]=Dt(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array)),this.array[e+0]=Dt(t),this.array[e+1]=Dt(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array),i=Se(i,this.array)),this.array[e+0]=Dt(t),this.array[e+1]=Dt(n),this.array[e+2]=Dt(i),this}setXYZW(e,t,n,i,s){return e*=this.itemSize,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array),i=Se(i,this.array),s=Se(s,this.array)),this.array[e+0]=Dt(t),this.array[e+1]=Dt(n),this.array[e+2]=Dt(i),this.array[e+3]=Dt(s),this}}class le extends Qe{constructor(e,t,n){super(new Float32Array(e),t,n)}}let JM=0;const an=new Me,Qh=new Ne,Qr=new I,qt=new Ut,yo=new Ut,ft=new I;class ke extends Bi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:JM++}),this.uuid=Yt(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(TM(e)?qM:GM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const s=new Rn().getNormalMatrix(e);n.applyNormalMatrix(s),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return an.makeRotationFromQuaternion(e),this.applyMatrix4(an),this}rotateX(e){return an.makeRotationX(e),this.applyMatrix4(an),this}rotateY(e){return an.makeRotationY(e),this.applyMatrix4(an),this}rotateZ(e){return an.makeRotationZ(e),this.applyMatrix4(an),this}translate(e,t,n){return an.makeTranslation(e,t,n),this.applyMatrix4(an),this}scale(e,t,n){return an.makeScale(e,t,n),this.applyMatrix4(an),this}lookAt(e){return Qh.lookAt(e),Qh.updateMatrix(),this.applyMatrix4(Qh.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qr).negate(),this.translate(Qr.x,Qr.y,Qr.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];n.push(a.x,a.y,a.z||0)}this.setAttribute("position",new le(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ut);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new I(-1/0,-1/0,-1/0),new I(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const s=t[n];qt.setFromBufferAttribute(s),this.morphTargetsRelative?(ft.addVectors(this.boundingBox.min,qt.min),this.boundingBox.expandByPoint(ft),ft.addVectors(this.boundingBox.max,qt.max),this.boundingBox.expandByPoint(ft)):(this.boundingBox.expandByPoint(qt.min),this.boundingBox.expandByPoint(qt.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Et);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new I,1/0);return}if(e){const n=this.boundingSphere.center;if(qt.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const u=t[s];yo.setFromBufferAttribute(u),this.morphTargetsRelative?(ft.addVectors(qt.min,yo.min),qt.expandByPoint(ft),ft.addVectors(qt.max,yo.max),qt.expandByPoint(ft)):(qt.expandByPoint(yo.min),qt.expandByPoint(yo.max))}qt.getCenter(n);let i=0;for(let s=0,a=e.count;s<a;s++)ft.fromBufferAttribute(e,s),i=Math.max(i,n.distanceToSquared(ft));if(t)for(let s=0,a=t.length;s<a;s++){const u=t[s],h=this.morphTargetsRelative;for(let d=0,p=u.count;d<p;d++)ft.fromBufferAttribute(u,d),h&&(Qr.fromBufferAttribute(e,d),ft.add(Qr)),i=Math.max(i,n.distanceToSquared(ft))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qe(new Float32Array(4*n.count),4));const a=this.getAttribute("tangent"),u=[],h=[];for(let N=0;N<n.count;N++)u[N]=new I,h[N]=new I;const d=new I,p=new I,g=new I,m=new X,x=new X,v=new X,S=new I,b=new I;function _(N,W,G){d.fromBufferAttribute(n,N),p.fromBufferAttribute(n,W),g.fromBufferAttribute(n,G),m.fromBufferAttribute(s,N),x.fromBufferAttribute(s,W),v.fromBufferAttribute(s,G),p.sub(d),g.sub(d),x.sub(m),v.sub(m);const K=1/(x.x*v.y-v.x*x.y);isFinite(K)&&(S.copy(p).multiplyScalar(v.y).addScaledVector(g,-x.y).multiplyScalar(K),b.copy(g).multiplyScalar(x.x).addScaledVector(p,-v.x).multiplyScalar(K),u[N].add(S),u[W].add(S),u[G].add(S),h[N].add(b),h[W].add(b),h[G].add(b))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let N=0,W=C.length;N<W;++N){const G=C[N],K=G.start,he=G.count;for(let de=K,fe=K+he;de<fe;de+=3)_(e.getX(de+0),e.getX(de+1),e.getX(de+2))}const A=new I,k=new I,P=new I,E=new I;function R(N){P.fromBufferAttribute(i,N),E.copy(P);const W=u[N];A.copy(W),A.sub(P.multiplyScalar(P.dot(W))).normalize(),k.crossVectors(E,W);const K=k.dot(h[N])<0?-1:1;a.setXYZW(N,A.x,A.y,A.z,K)}for(let N=0,W=C.length;N<W;++N){const G=C[N],K=G.start,he=G.count;for(let de=K,fe=K+he;de<fe;de+=3)R(e.getX(de+0)),R(e.getX(de+1)),R(e.getX(de+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Qe(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let m=0,x=n.count;m<x;m++)n.setXYZ(m,0,0,0);const i=new I,s=new I,a=new I,u=new I,h=new I,d=new I,p=new I,g=new I;if(e)for(let m=0,x=e.count;m<x;m+=3){const v=e.getX(m+0),S=e.getX(m+1),b=e.getX(m+2);i.fromBufferAttribute(t,v),s.fromBufferAttribute(t,S),a.fromBufferAttribute(t,b),p.subVectors(a,s),g.subVectors(i,s),p.cross(g),u.fromBufferAttribute(n,v),h.fromBufferAttribute(n,S),d.fromBufferAttribute(n,b),u.add(p),h.add(p),d.add(p),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(S,h.x,h.y,h.z),n.setXYZ(b,d.x,d.y,d.z)}else for(let m=0,x=t.count;m<x;m+=3)i.fromBufferAttribute(t,m+0),s.fromBufferAttribute(t,m+1),a.fromBufferAttribute(t,m+2),p.subVectors(a,s),g.subVectors(i,s),p.cross(g),n.setXYZ(m+0,p.x,p.y,p.z),n.setXYZ(m+1,p.x,p.y,p.z),n.setXYZ(m+2,p.x,p.y,p.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)ft.fromBufferAttribute(e,t),ft.normalize(),e.setXYZ(t,ft.x,ft.y,ft.z)}toNonIndexed(){function e(u,h){const d=u.array,p=u.itemSize,g=u.normalized,m=new d.constructor(h.length*p);let x=0,v=0;for(let S=0,b=h.length;S<b;S++){u.isInterleavedBufferAttribute?x=h[S]*u.data.stride+u.offset:x=h[S]*p;for(let _=0;_<p;_++)m[v++]=d[x++]}return new Qe(m,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new ke,n=this.index.array,i=this.attributes;for(const u in i){const h=i[u],d=e(h,n);t.setAttribute(u,d)}const s=this.morphAttributes;for(const u in s){const h=[],d=s[u];for(let p=0,g=d.length;p<g;p++){const m=d[p],x=e(m,n);h.push(x)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let u=0,h=a.length;u<h;u++){const d=a[u];t.addGroup(d.start,d.count,d.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const d in h)h[d]!==void 0&&(e[d]=h[d]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const h in n){const d=n[h];e.data.attributes[h]=d.toJSON(e.data)}const i={};let s=!1;for(const h in this.morphAttributes){const d=this.morphAttributes[h],p=[];for(let g=0,m=d.length;g<m;g++){const x=d[g];p.push(x.toJSON(e.data))}p.length>0&&(i[h]=p,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const d in i){const p=i[d];this.setAttribute(d,p.clone(t))}const s=e.morphAttributes;for(const d in s){const p=[],g=s[d];for(let m=0,x=g.length;m<x;m++)p.push(g[m].clone(t));this.morphAttributes[d]=p}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let d=0,p=a.length;d<p;d++){const g=a[d];this.addGroup(g.start,g.count,g.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ly=new Me,er=new Jo,vl=new Et,uy=new I,wl=new I,Sl=new I,bl=new I,Kh=new I,Ml=new I,cy=new I,_l=new I;class bn extends Ne{constructor(e=new ke,t=new Ms){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const u=this.morphTargetInfluences;if(s&&u){Ml.set(0,0,0);for(let h=0,d=s.length;h<d;h++){const p=u[h],g=s[h];p!==0&&(Kh.fromBufferAttribute(g,e),a?Ml.addScaledVector(Kh,p):Ml.addScaledVector(Kh.sub(t),p))}t.add(Ml)}return t}raycast(e,t){const n=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),vl.copy(n.boundingSphere),vl.applyMatrix4(s),er.copy(e.ray).recast(e.near),!(vl.containsPoint(er.origin)===!1&&(er.intersectSphere(vl,uy)===null||er.origin.distanceToSquared(uy)>(e.far-e.near)**2))&&(ly.copy(s).invert(),er.copy(e.ray).applyMatrix4(ly),!(n.boundingBox!==null&&er.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,er)))}_computeIntersections(e,t,n){let i;const s=this.geometry,a=this.material,u=s.index,h=s.attributes.position,d=s.attributes.uv,p=s.attributes.uv1,g=s.attributes.normal,m=s.groups,x=s.drawRange;if(u!==null)if(Array.isArray(a))for(let v=0,S=m.length;v<S;v++){const b=m[v],_=a[b.materialIndex],C=Math.max(b.start,x.start),A=Math.min(u.count,Math.min(b.start+b.count,x.start+x.count));for(let k=C,P=A;k<P;k+=3){const E=u.getX(k),R=u.getX(k+1),N=u.getX(k+2);i=Cl(this,_,e,n,d,p,g,E,R,N),i&&(i.faceIndex=Math.floor(k/3),i.face.materialIndex=b.materialIndex,t.push(i))}}else{const v=Math.max(0,x.start),S=Math.min(u.count,x.start+x.count);for(let b=v,_=S;b<_;b+=3){const C=u.getX(b),A=u.getX(b+1),k=u.getX(b+2);i=Cl(this,a,e,n,d,p,g,C,A,k),i&&(i.faceIndex=Math.floor(b/3),t.push(i))}}else if(h!==void 0)if(Array.isArray(a))for(let v=0,S=m.length;v<S;v++){const b=m[v],_=a[b.materialIndex],C=Math.max(b.start,x.start),A=Math.min(h.count,Math.min(b.start+b.count,x.start+x.count));for(let k=C,P=A;k<P;k+=3){const E=k,R=k+1,N=k+2;i=Cl(this,_,e,n,d,p,g,E,R,N),i&&(i.faceIndex=Math.floor(k/3),i.face.materialIndex=b.materialIndex,t.push(i))}}else{const v=Math.max(0,x.start),S=Math.min(h.count,x.start+x.count);for(let b=v,_=S;b<_;b+=3){const C=b,A=b+1,k=b+2;i=Cl(this,a,e,n,d,p,g,C,A,k),i&&(i.faceIndex=Math.floor(b/3),t.push(i))}}}}function XM(l,e,t,n,i,s,a,u){let h;if(e.side===j0?h=n.intersectTriangle(a,s,i,!0,u):h=n.intersectTriangle(i,s,a,e.side===_d,u),h===null)return null;_l.copy(u),_l.applyMatrix4(l.matrixWorld);const d=t.ray.origin.distanceTo(_l);return d<t.near||d>t.far?null:{distance:d,point:_l.clone(),object:l}}function Cl(l,e,t,n,i,s,a,u,h,d){l.getVertexPosition(u,wl),l.getVertexPosition(h,Sl),l.getVertexPosition(d,bl);const p=XM(l,e,t,n,wl,Sl,bl,cy);if(p){const g=new I;Xt.getBarycoord(cy,wl,Sl,bl,g),i&&(p.uv=Xt.getInterpolatedAttribute(i,u,h,d,g,new X)),s&&(p.uv1=Xt.getInterpolatedAttribute(s,u,h,d,g,new X)),a&&(p.normal=Xt.getInterpolatedAttribute(a,u,h,d,g,new I),p.normal.dot(n.direction)>0&&p.normal.multiplyScalar(-1));const m={a:u,b:h,c:d,normal:new I,materialIndex:0};Xt.getNormal(wl,Sl,bl,m.normal),p.face=m,p.barycoord=g}return p}class Mu extends ke{constructor(e=1,t=1,n=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:s,depthSegments:a};const u=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const h=[],d=[],p=[],g=[];let m=0,x=0;v("z","y","x",-1,-1,n,t,e,a,s,0),v("z","y","x",1,-1,n,t,-e,a,s,1),v("x","z","y",1,1,e,n,t,i,a,2),v("x","z","y",1,-1,e,n,-t,i,a,3),v("x","y","z",1,-1,e,t,n,i,s,4),v("x","y","z",-1,-1,e,t,-n,i,s,5),this.setIndex(h),this.setAttribute("position",new le(d,3)),this.setAttribute("normal",new le(p,3)),this.setAttribute("uv",new le(g,2));function v(S,b,_,C,A,k,P,E,R,N,W){const G=k/R,K=P/N,he=k/2,de=P/2,fe=E/2,_e=R+1,we=N+1;let Ce=0,j=0;const Z=new I;for(let J=0;J<we;J++){const F=J*K-de;for(let V=0;V<_e;V++){const pe=V*G-he;Z[S]=pe*C,Z[b]=F*A,Z[_]=fe,d.push(Z.x,Z.y,Z.z),Z[S]=0,Z[b]=0,Z[_]=E>0?1:-1,p.push(Z.x,Z.y,Z.z),g.push(V/R),g.push(1-J/N),Ce+=1}}for(let J=0;J<N;J++)for(let F=0;F<R;F++){const V=m+F+_e*J,pe=m+F+_e*(J+1),be=m+(F+1)+_e*(J+1),Te=m+(F+1)+_e*J;h.push(V,pe,Te),h.push(pe,be,Te),j+=6}u.addGroup(x,j,W),x+=j,m+=Ce}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _u(l){const e={};for(const t in l){e[t]={};for(const n in l[t]){const i=l[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function YM(l){const e={};for(let t=0;t<l.length;t++){const n=_u(l[t]);for(const i in n)e[i]=n[i]}return e}function ZM(l){const e=[];for(let t=0;t<l.length;t++)e.push(l[t].clone());return e}function aT(l){const e=l.getRenderTarget();return e===null?l.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Jt.workingColorSpace}const lT={clone:_u,merge:YM};var QM=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,KM=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class jd extends It{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=QM,this.fragmentShader=KM,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_u(e.uniforms),this.uniformsGroups=ZM(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Gd extends Ne{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Me,this.projectionMatrix=new Me,this.projectionMatrixInverse=new Me,this.coordinateSystem=Ri}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Pi=new I,hy=new X,dy=new X;class un extends Gd{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Bo*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(cr*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bo*2*Math.atan(Math.tan(cr*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Pi.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Pi.x,Pi.y).multiplyScalar(-e/Pi.z),Pi.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Pi.x,Pi.y).multiplyScalar(-e/Pi.z)}getViewSize(e,t){return this.getViewBounds(e,hy,dy),t.subVectors(dy,hy)}setViewOffset(e,t,n,i,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(cr*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const h=a.fullWidth,d=a.fullHeight;s+=a.offsetX*i/h,t-=a.offsetY*n/d,i*=a.width/h,n*=a.height/d}const u=this.filmOffset;u!==0&&(s+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Kr=-90,es=1;class e_ extends Ne{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new un(Kr,es,e,t);i.layers=this.layers,this.add(i);const s=new un(Kr,es,e,t);s.layers=this.layers,this.add(s);const a=new un(Kr,es,e,t);a.layers=this.layers,this.add(a);const u=new un(Kr,es,e,t);u.layers=this.layers,this.add(u);const h=new un(Kr,es,e,t);h.layers=this.layers,this.add(h);const d=new un(Kr,es,e,t);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,s,a,u,h]=t;for(const d of t)this.remove(d);if(e===Ri)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===su)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of t)this.add(d),d.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,u,h,d,p]=this.children,g=e.getRenderTarget(),m=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const S=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,s),e.setRenderTarget(n,1,i),e.render(t,a),e.setRenderTarget(n,2,i),e.render(t,u),e.setRenderTarget(n,3,i),e.render(t,h),e.setRenderTarget(n,4,i),e.render(t,d),n.texture.generateMipmaps=S,e.setRenderTarget(n,5,i),e.render(t,p),e.setRenderTarget(g,m,x),e.xr.enabled=v,n.texture.needsPMREMUpdate=!0}}class qd extends ut{constructor(e,t,n,i,s,a,u,h,d,p){e=e!==void 0?e:[],t=t!==void 0?t:Vd,super(e,t,n,i,s,a,u,h,d,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class uT extends bu{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new qd(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:cn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Mu(5,5,5),s=new jd({name:"CubemapFromEquirect",uniforms:_u(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:j0,blending:sb});s.uniforms.tEquirect.value=t;const a=new bn(i,s),u=t.minFilter;return t.minFilter===Su&&(t.minFilter=cn),new e_(1,10,this).update(e,a),t.minFilter=u,a.geometry.dispose(),a.material.dispose(),this}clear(e,t,n,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,i);e.setRenderTarget(s)}}class Jd{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ve(e),this.density=t}clone(){return new Jd(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Xd{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new ve(e),this.near=t,this.far=n}clone(){return new Xd(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class t_ extends Ne{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Pn,this.environmentIntensity=1,this.environmentRotation=new Pn,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Yd{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=ru,this.updateRanges=[],this.version=0,this.uuid=Yt()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yt()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Yt()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const kt=new I;class xs{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)kt.fromBufferAttribute(this,t),kt.applyMatrix4(e),this.setXYZ(t,kt.x,kt.y,kt.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)kt.fromBufferAttribute(this,t),kt.applyNormalMatrix(e),this.setXYZ(t,kt.x,kt.y,kt.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)kt.fromBufferAttribute(this,t),kt.transformDirection(e),this.setXYZ(t,kt.x,kt.y,kt.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Tt(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Se(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Se(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Se(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Se(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Se(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Tt(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Tt(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Tt(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Tt(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array),i=Se(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=Se(t,this.array),n=Se(n,this.array),i=Se(i,this.array),s=Se(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Qe(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new xs(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class K0 extends It{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ve(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ts;const xo=new I,ns=new I,is=new I,rs=new X,vo=new X,ex=new Me,Al=new I,wo=new I,kl=new I,fy=new X,ed=new X,py=new X;class n_ extends Ne{constructor(e=new K0){if(super(),this.isSprite=!0,this.type="Sprite",ts===void 0){ts=new ke;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Yd(t,5);ts.setIndex([0,1,2,0,2,3]),ts.setAttribute("position",new xs(n,3,0,!1)),ts.setAttribute("uv",new xs(n,2,3,!1))}this.geometry=ts,this.material=e,this.center=new X(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ns.setFromMatrixScale(this.matrixWorld),ex.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),is.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ns.multiplyScalar(-is.z);const n=this.material.rotation;let i,s;n!==0&&(s=Math.cos(n),i=Math.sin(n));const a=this.center;Tl(Al.set(-.5,-.5,0),is,a,ns,i,s),Tl(wo.set(.5,-.5,0),is,a,ns,i,s),Tl(kl.set(.5,.5,0),is,a,ns,i,s),fy.set(0,0),ed.set(1,0),py.set(1,1);let u=e.ray.intersectTriangle(Al,wo,kl,!1,xo);if(u===null&&(Tl(wo.set(-.5,.5,0),is,a,ns,i,s),ed.set(0,1),u=e.ray.intersectTriangle(Al,kl,wo,!1,xo),u===null))return;const h=e.ray.origin.distanceTo(xo);h<e.near||h>e.far||t.push({distance:h,point:xo.clone(),uv:Xt.getInterpolation(xo,Al,wo,kl,fy,ed,py,new X),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Tl(l,e,t,n,i,s){rs.subVectors(l,t).addScalar(.5).multiply(n),i!==void 0?(vo.x=s*rs.x-i*rs.y,vo.y=i*rs.x+s*rs.y):vo.copy(rs),l.copy(e),l.x+=vo.x,l.y+=vo.y,l.applyMatrix4(ex)}const El=new I,my=new I;class i_ extends Ne{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const s=t[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const i=t.splice(n,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let s=t[n].distance;if(t[n].object.visible&&(s-=s*t[n].hysteresis),e<s)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){El.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(El);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){El.setFromMatrixPosition(e.matrixWorld),my.setFromMatrixPosition(this.matrixWorld);const n=El.distanceTo(my)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),n>=a)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,s=n.length;i<s;i++){const a=n[i];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const gy=new I,yy=new pt,xy=new pt,r_=new I,vy=new Me,Il=new I,td=new Et,wy=new Me,nd=new Jo;class s_ extends bn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=$g,this.bindMatrix=new Me,this.bindMatrixInverse=new Me,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ut),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Il),this.boundingBox.expandByPoint(Il)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Et),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,Il),this.boundingSphere.expandByPoint(Il)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),td.copy(this.boundingSphere),td.applyMatrix4(i),e.ray.intersectsSphere(td)!==!1&&(wy.copy(i).invert(),nd.copy(e.ray).applyMatrix4(wy),!(this.boundingBox!==null&&nd.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,nd)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new pt,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===$g?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ob?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;yy.fromBufferAttribute(i.attributes.skinIndex,e),xy.fromBufferAttribute(i.attributes.skinWeight,e),gy.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=xy.getComponent(s);if(a!==0){const u=yy.getComponent(s);vy.multiplyMatrices(n.bones[u].matrixWorld,n.boneInverses[u]),t.addScaledVector(r_.copy(gy).applyMatrix4(vy),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class tx extends Ne{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ti extends ut{constructor(e=null,t=1,n=1,i,s,a,u,h,d=Sn,p=Sn,g,m){super(null,a,u,h,d,p,i,s,g,m),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Sy=new Me,o_=new Me;class Zd{constructor(e=[],t=[]){this.uuid=Yt(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Me)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Me;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const u=e[s]?e[s].matrixWorld:o_;Sy.multiplyMatrices(u,t[s]),Sy.toArray(n,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Zd(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new ti(t,e,e,No,ys);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const s=e.bones[n];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new tx),this.bones.push(a),this.boneInverses.push(new Me().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const a=t[i];e.bones.push(a.uuid);const u=n[i];e.boneInverses.push(u.toArray())}return e}}class Do extends Qe{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ss=new Me,by=new Me,Pl=[],My=new Ut,a_=new Me,So=new bn,bo=new Et;class l_ extends bn{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Do(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,a_)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ut),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,ss),My.copy(e.boundingBox).applyMatrix4(ss),this.boundingBox.union(My)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Et),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,ss),bo.copy(e.boundingSphere).applyMatrix4(ss),this.boundingSphere.union(bo)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,s=n.length+1,a=e*s+1;for(let u=0;u<n.length;u++)n[u]=i[a+u]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(So.geometry=this.geometry,So.material=this.material,So.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),bo.copy(this.boundingSphere),bo.applyMatrix4(n),e.ray.intersectsSphere(bo)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,ss),by.multiplyMatrices(n,ss),So.matrixWorld=by,So.raycast(e,Pl);for(let a=0,u=Pl.length;a<u;a++){const h=Pl[a];h.instanceId=s,h.object=this,t.push(h)}Pl.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Do(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new ti(new Float32Array(i*this.count),i,this.count,q0,ys));const s=this.morphTexture.source.data.data;let a=0;for(let d=0;d<n.length;d++)a+=n[d];const u=this.geometry.morphTargetsRelative?1:1-a,h=i*e;s[h]=u,s.set(n,h+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const id=new I,u_=new I,c_=new Rn;class os{constructor(e=new I(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=id.subVectors(n,t).cross(u_.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(id),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(n,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||c_.getNormalMatrix(e),i=this.coplanarPoint(id).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tr=new Et,zl=new I;class nx{constructor(e=new os,t=new os,n=new os,i=new os,s=new os,a=new os){this.planes=[e,t,n,i,s,a]}set(e,t,n,i,s,a){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(n),u[3].copy(i),u[4].copy(s),u[5].copy(a),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=Ri){const n=this.planes,i=e.elements,s=i[0],a=i[1],u=i[2],h=i[3],d=i[4],p=i[5],g=i[6],m=i[7],x=i[8],v=i[9],S=i[10],b=i[11],_=i[12],C=i[13],A=i[14],k=i[15];if(n[0].setComponents(h-s,m-d,b-x,k-_).normalize(),n[1].setComponents(h+s,m+d,b+x,k+_).normalize(),n[2].setComponents(h+a,m+p,b+v,k+C).normalize(),n[3].setComponents(h-a,m-p,b-v,k-C).normalize(),n[4].setComponents(h-u,m-g,b-S,k-A).normalize(),t===Ri)n[5].setComponents(h+u,m+g,b+S,k+A).normalize();else if(t===su)n[5].setComponents(u,g,S,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),tr.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),tr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tr)}intersectsSprite(e){return tr.center.set(0,0,0),tr.radius=.7071067811865476,tr.applyMatrix4(e.matrixWorld),this.intersectsSphere(tr)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(zl.x=i.normal.x>0?e.max.x:e.min.x,zl.y=i.normal.y>0?e.max.y:e.min.y,zl.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(zl)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function rd(l,e){return l-e}function h_(l,e){return l.z-e.z}function d_(l,e){return e.z-l.z}class f_{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const u=s[this.index];a.push(u),this.index++,u.start=e,u.count=t,u.z=n,u.index=i}reset(){this.list.length=0,this.index=0}}const Bt=new Me,p_=new ve(1,1,1),sd=new nx,Rl=new Ut,nr=new Et,Mo=new I,_y=new I,m_=new I,od=new f_,Mt=new bn,Fl=[];function g_(l,e,t=0){const n=e.itemSize;if(l.isInterleavedBufferAttribute||l.array.constructor!==e.array.constructor){const i=l.count;for(let s=0;s<i;s++)for(let a=0;a<n;a++)e.setComponent(s+t,a,l.getComponent(s,a))}else e.array.set(l.array,t*n);e.needsUpdate=!0}function ir(l,e){if(l.constructor!==e.constructor){const t=Math.min(l.length,e.length);for(let n=0;n<t;n++)e[n]=l[n]}else{const t=Math.min(l.length,e.length);e.set(new l.constructor(l.buffer,0,t))}}class y_ extends bn{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,t,n=t*2,i){super(new ke,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new ti(t,e,e,No,ys);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new ti(t,e,e,J0,Wd);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new ti(t,e,e,No,ys);n.colorSpace=Jt.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:u,itemSize:h,normalized:d}=a,p=new u.constructor(n*h),g=new Qe(p,h,d);t.setAttribute(s,g)}if(e.getIndex()!==null){const s=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Qe(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),s=t.getAttribute(n);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ut);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Bt),this.getBoundingBoxAt(s,Rl).applyMatrix4(Bt),e.union(Rl)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Et);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const s=t[n].geometryIndex;this.getMatrixAt(n,Bt),this.getBoundingSphereAt(s,nr).applyMatrix4(Bt),e.union(nr)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(rd),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=n):(i=this._instanceInfo.length,this._instanceInfo.push(n));const s=this._matricesTexture;Bt.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(p_.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=n===-1?a.count:n),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(rd),h=this._availableGeometryIds.shift(),s[h]=i):(h=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(h,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,s=n.getIndex(),a=t.getIndex(),u=this._geometryInfo[e];if(i&&a.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,d=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const p in n.attributes){const g=t.getAttribute(p),m=n.getAttribute(p);g_(g,m,h);const x=g.itemSize;for(let v=g.count,S=d;v<S;v++){const b=h+v;for(let _=0;_<x;_++)m.setComponent(b,_,0)}m.needsUpdate=!0,m.addUpdateRange(h*x,d*x)}if(i){const p=u.indexStart,g=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let m=0;m<a.count;m++)s.setX(p+m,h+a.getX(m));for(let m=a.count,x=g;m<x;m++)s.setX(p+m,h);s.needsUpdate=!0,s.addUpdateRange(p,u.reservedIndexCount)}return u.start=i?u.indexStart:u.vertexStart,u.count=i?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let i=0,s=n.length;i<s;i++)n[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((a,u)=>u).sort((a,u)=>n[a].vertexStart-n[u].vertexStart),s=this.geometry;for(let a=0,u=n.length;a<u;a++){const h=i[a],d=n[h];if(d.active!==!1){if(s.index!==null){if(d.indexStart!==t){const{indexStart:p,vertexStart:g,reservedIndexCount:m}=d,x=s.index,v=x.array,S=e-g;for(let b=p;b<p+m;b++)v[b]=v[b]+S;x.array.copyWithin(t,p,p+m),x.addUpdateRange(t,m),d.indexStart=t}t+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=d,m=s.attributes;for(const x in m){const v=m[x],{array:S,itemSize:b}=v;S.copyWithin(e*b,p*b,(p+g)*b),v.addUpdateRange(e*b,g*b)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=s.index?d.indexStart:d.vertexStart,this._nextIndexStart=s.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Ut,a=n.index,u=n.attributes.position;for(let h=i.start,d=i.start+i.count;h<d;h++){let p=h;a&&(p=a.getX(p)),s.expandByPoint(Mo.fromBufferAttribute(u,p))}i.boundingBox=s}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Et;this.getBoundingBoxAt(e,Rl),Rl.getCenter(s.center);const a=n.index,u=n.attributes.position;let h=0;for(let d=i.start,p=i.start+i.count;d<p;d++){let g=d;a&&(g=a.getX(g)),Mo.fromBufferAttribute(u,g),h=Math.max(h,s.center.distanceToSquared(Mo))}s.radius=Math.sqrt(h),i.boundingSphere=s}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(rd);t[t.length-1]===n.length;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);ir(this._multiDrawCounts,i),ir(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;a.dispose(),this._initIndirectTexture(),ir(a.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),ir(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),ir(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...n.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(h=>h.indexStart+h.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new ke,this._initializeGeometry(s));const a=this.geometry;s.index&&ir(s.index.array,a.index.array);for(const u in s.attributes)ir(s.attributes[u].array,a.attributes[u].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;Mt.material=this.material,Mt.geometry.index=a.index,Mt.geometry.attributes=a.attributes,Mt.geometry.boundingBox===null&&(Mt.geometry.boundingBox=new Ut),Mt.geometry.boundingSphere===null&&(Mt.geometry.boundingSphere=new Et);for(let u=0,h=n.length;u<h;u++){if(!n[u].visible||!n[u].active)continue;const d=n[u].geometryIndex,p=i[d];Mt.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(u,Mt.matrixWorld).premultiply(s),this.getBoundingBoxAt(d,Mt.geometry.boundingBox),this.getBoundingSphereAt(d,Mt.geometry.boundingSphere),Mt.raycast(e,Fl);for(let g=0,m=Fl.length;g<m;g++){const x=Fl[g];x.object=this,x.batchId=u,t.push(x)}Fl.length=0}Mt.material=null,Mt.geometry.index=null,Mt.geometry.attributes={},Mt.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),u=a===null?1:a.array.BYTES_PER_ELEMENT,h=this._instanceInfo,d=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,m=this.perObjectFrustumCulled,x=this._indirectTexture,v=x.image.data;m&&(Bt.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),sd.setFromProjectionMatrix(Bt,e.coordinateSystem));let S=0;if(this.sortObjects){Bt.copy(this.matrixWorld).invert(),Mo.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Bt),_y.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Bt);for(let C=0,A=h.length;C<A;C++)if(h[C].visible&&h[C].active){const k=h[C].geometryIndex;this.getMatrixAt(C,Bt),this.getBoundingSphereAt(k,nr).applyMatrix4(Bt);let P=!1;if(m&&(P=!sd.intersectsSphere(nr)),!P){const E=g[k],R=m_.subVectors(nr.center,Mo).dot(_y);od.push(E.start,E.count,R,C)}}const b=od.list,_=this.customSort;_===null?b.sort(s.transparent?d_:h_):_.call(this,b,n);for(let C=0,A=b.length;C<A;C++){const k=b[C];d[S]=k.start*u,p[S]=k.count,v[S]=k.index,S++}od.reset()}else for(let b=0,_=h.length;b<_;b++)if(h[b].visible&&h[b].active){const C=h[b].geometryIndex;let A=!1;if(m&&(this.getMatrixAt(b,Bt),this.getBoundingSphereAt(C,nr).applyMatrix4(Bt),A=!sd.intersectsSphere(nr)),!A){const k=g[C];d[S]=k.start*u,p[S]=k.count,v[S]=b,S++}}x.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class Vt extends It{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ve(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const au=new I,lu=new I,Cy=new Me,_o=new Jo,Ll=new Et,ad=new I,Ay=new I;class hr extends Ne{constructor(e=new ke,t=new Vt){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,s=t.count;i<s;i++)au.fromBufferAttribute(t,i-1),lu.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=au.distanceTo(lu);e.setAttribute("lineDistance",new le(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Ll.copy(n.boundingSphere),Ll.applyMatrix4(i),Ll.radius+=s,e.ray.intersectsSphere(Ll)===!1)return;Cy.copy(i).invert(),_o.copy(e.ray).applyMatrix4(Cy);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,d=this.isLineSegments?2:1,p=n.index,m=n.attributes.position;if(p!==null){const x=Math.max(0,a.start),v=Math.min(p.count,a.start+a.count);for(let S=x,b=v-1;S<b;S+=d){const _=p.getX(S),C=p.getX(S+1),A=Ol(this,e,_o,h,_,C);A&&t.push(A)}if(this.isLineLoop){const S=p.getX(v-1),b=p.getX(x),_=Ol(this,e,_o,h,S,b);_&&t.push(_)}}else{const x=Math.max(0,a.start),v=Math.min(m.count,a.start+a.count);for(let S=x,b=v-1;S<b;S+=d){const _=Ol(this,e,_o,h,S,S+1);_&&t.push(_)}if(this.isLineLoop){const S=Ol(this,e,_o,h,v-1,x);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}function Ol(l,e,t,n,i,s){const a=l.geometry.attributes.position;if(au.fromBufferAttribute(a,i),lu.fromBufferAttribute(a,s),t.distanceSqToSegment(au,lu,ad,Ay)>n)return;ad.applyMatrix4(l.matrixWorld);const h=e.ray.origin.distanceTo(ad);if(!(h<e.near||h>e.far))return{distance:h,point:Ay.clone().applyMatrix4(l.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:l}}const ky=new I,Ty=new I;class ri extends hr{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,s=t.count;i<s;i+=2)ky.fromBufferAttribute(t,i),Ty.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+ky.distanceTo(Ty);e.setAttribute("lineDistance",new le(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class x_ extends hr{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class ix extends It{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ve(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Ey=new Me,Td=new Jo,Nl=new Et,Bl=new I;class v_ extends Ne{constructor(e=new ke,t=new ix){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Nl.copy(n.boundingSphere),Nl.applyMatrix4(i),Nl.radius+=s,e.ray.intersectsSphere(Nl)===!1)return;Ey.copy(i).invert(),Td.copy(e.ray).applyMatrix4(Ey);const u=s/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,d=n.index,g=n.attributes.position;if(d!==null){const m=Math.max(0,a.start),x=Math.min(d.count,a.start+a.count);for(let v=m,S=x;v<S;v++){const b=d.getX(v);Bl.fromBufferAttribute(g,b),Iy(Bl,b,h,i,e,t,this)}}else{const m=Math.max(0,a.start),x=Math.min(g.count,a.start+a.count);for(let v=m,S=x;v<S;v++)Bl.fromBufferAttribute(g,v),Iy(Bl,v,h,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const u=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=s}}}}}function Iy(l,e,t,n,i,s,a){const u=Td.distanceSqToPoint(l);if(u<t){const h=new I;Td.closestPointToPoint(l,h),h.applyMatrix4(n);const d=i.ray.origin.distanceTo(h);if(d<i.near||d>i.far)return;s.push({distance:d,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class w_ extends Ne{constructor(){super(),this.isGroup=!0,this.type="Group"}}class cT extends ut{constructor(e,t,n,i,s,a,u,h,d){super(e,t,n,i,s,a,u,h,d),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:cn,this.magFilter=s!==void 0?s:cn,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class hT extends ut{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Sn,this.minFilter=Sn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Qd extends ut{constructor(e,t,n,i,s,a,u,h,d,p,g,m){super(null,a,u,h,d,p,i,s,g,m),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class dT extends Qd{constructor(e,t,n,i,s,a){super(e,t,n,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Tn,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class fT extends Qd{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Vd),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class pT extends ut{constructor(e,t,n,i,s,a,u,h,d){super(e,t,n,i,s,a,u,h,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mT extends ut{constructor(e,t,n,i,s,a,u,h,d,p=zh){if(p!==zh&&p!==jg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&p===zh&&(n=Wd),n===void 0&&p===jg&&(n=Sb),super(null,i,s,a,u,h,p,n,d),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=u!==void 0?u:Sn,this.minFilter=h!==void 0?h:Sn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Fn{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)n=this.getPoint(a/e),s+=n.distanceTo(i),t.push(s),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let i=0;const s=n.length;let a;t?a=t:a=e*n[s-1];let u=0,h=s-1,d;for(;u<=h;)if(i=Math.floor(u+(h-u)/2),d=n[i]-a,d<0)u=i+1;else if(d>0)h=i-1;else{h=i;break}if(i=h,n[i]===a)return i/(s-1);const p=n[i],m=n[i+1]-p,x=(a-p)/m;return(i+x)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),u=this.getPoint(s),h=t||(a.isVector2?new X:new I);return h.copy(u).sub(a).normalize(),h}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new I,i=[],s=[],a=[],u=new I,h=new Me;for(let x=0;x<=e;x++){const v=x/e;i[x]=this.getTangentAt(v,new I)}s[0]=new I,a[0]=new I;let d=Number.MAX_VALUE;const p=Math.abs(i[0].x),g=Math.abs(i[0].y),m=Math.abs(i[0].z);p<=d&&(d=p,n.set(1,0,0)),g<=d&&(d=g,n.set(0,1,0)),m<=d&&n.set(0,0,1),u.crossVectors(i[0],n).normalize(),s[0].crossVectors(i[0],u),a[0].crossVectors(i[0],s[0]);for(let x=1;x<=e;x++){if(s[x]=s[x-1].clone(),a[x]=a[x-1].clone(),u.crossVectors(i[x-1],i[x]),u.length()>Number.EPSILON){u.normalize();const v=Math.acos(xe(i[x-1].dot(i[x]),-1,1));s[x].applyMatrix4(h.makeRotationAxis(u,v))}a[x].crossVectors(i[x],s[x])}if(t===!0){let x=Math.acos(xe(s[0].dot(s[e]),-1,1));x/=e,i[0].dot(u.crossVectors(s[0],s[e]))>0&&(x=-x);for(let v=1;v<=e;v++)s[v].applyMatrix4(h.makeRotationAxis(i[v],x*v)),a[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Kd extends Fn{constructor(e=0,t=0,n=1,i=1,s=0,a=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=u,this.aRotation=h}getPoint(e,t=new X){const n=t,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const u=this.aStartAngle+e*s;let h=this.aX+this.xRadius*Math.cos(u),d=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),m=h-this.aX,x=d-this.aY;h=m*p-x*g+this.aX,d=m*g+x*p+this.aY}return n.set(h,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class S_ extends Kd{constructor(e,t,n,i,s,a){super(e,t,n,n,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function ef(){let l=0,e=0,t=0,n=0;function i(s,a,u,h){l=s,e=u,t=-3*s+3*a-2*u-h,n=2*s-2*a+u+h}return{initCatmullRom:function(s,a,u,h,d){i(a,u,d*(u-s),d*(h-a))},initNonuniformCatmullRom:function(s,a,u,h,d,p,g){let m=(a-s)/d-(u-s)/(d+p)+(u-a)/p,x=(u-a)/p-(h-a)/(p+g)+(h-u)/g;m*=p,x*=p,i(a,u,m,x)},calc:function(s){const a=s*s,u=a*s;return l+e*s+t*a+n*u}}}const Dl=new I,ld=new ef,ud=new ef,cd=new ef;class b_ extends Fn{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new I){const n=t,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let u=Math.floor(a),h=a-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:h===0&&u===s-1&&(u=s-2,h=1);let d,p;this.closed||u>0?d=i[(u-1)%s]:(Dl.subVectors(i[0],i[1]).add(i[0]),d=Dl);const g=i[u%s],m=i[(u+1)%s];if(this.closed||u+2<s?p=i[(u+2)%s]:(Dl.subVectors(i[s-1],i[s-2]).add(i[s-1]),p=Dl),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let v=Math.pow(d.distanceToSquared(g),x),S=Math.pow(g.distanceToSquared(m),x),b=Math.pow(m.distanceToSquared(p),x);S<1e-4&&(S=1),v<1e-4&&(v=S),b<1e-4&&(b=S),ld.initNonuniformCatmullRom(d.x,g.x,m.x,p.x,v,S,b),ud.initNonuniformCatmullRom(d.y,g.y,m.y,p.y,v,S,b),cd.initNonuniformCatmullRom(d.z,g.z,m.z,p.z,v,S,b)}else this.curveType==="catmullrom"&&(ld.initCatmullRom(d.x,g.x,m.x,p.x,this.tension),ud.initCatmullRom(d.y,g.y,m.y,p.y,this.tension),cd.initCatmullRom(d.z,g.z,m.z,p.z,this.tension));return n.set(ld.calc(h),ud.calc(h),cd.calc(h)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new I().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Py(l,e,t,n,i){const s=(n-e)*.5,a=(i-t)*.5,u=l*l,h=l*u;return(2*t-2*n+s+a)*h+(-3*t+3*n-2*s-a)*u+s*l+t}function M_(l,e){const t=1-l;return t*t*e}function __(l,e){return 2*(1-l)*l*e}function C_(l,e){return l*l*e}function Ro(l,e,t,n){return M_(l,e)+__(l,t)+C_(l,n)}function A_(l,e){const t=1-l;return t*t*t*e}function k_(l,e){const t=1-l;return 3*t*t*l*e}function T_(l,e){return 3*(1-l)*l*l*e}function E_(l,e){return l*l*l*e}function Fo(l,e,t,n,i){return A_(l,e)+k_(l,t)+T_(l,n)+E_(l,i)}class rx extends Fn{constructor(e=new X,t=new X,n=new X,i=new X){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new X){const n=t,i=this.v0,s=this.v1,a=this.v2,u=this.v3;return n.set(Fo(e,i.x,s.x,a.x,u.x),Fo(e,i.y,s.y,a.y,u.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class I_ extends Fn{constructor(e=new I,t=new I,n=new I,i=new I){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new I){const n=t,i=this.v0,s=this.v1,a=this.v2,u=this.v3;return n.set(Fo(e,i.x,s.x,a.x,u.x),Fo(e,i.y,s.y,a.y,u.y),Fo(e,i.z,s.z,a.z,u.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sx extends Fn{constructor(e=new X,t=new X){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new X){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new X){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class P_ extends Fn{constructor(e=new I,t=new I){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new I){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new I){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ox extends Fn{constructor(e=new X,t=new X,n=new X){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new X){const n=t,i=this.v0,s=this.v1,a=this.v2;return n.set(Ro(e,i.x,s.x,a.x),Ro(e,i.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ax extends Fn{constructor(e=new I,t=new I,n=new I){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new I){const n=t,i=this.v0,s=this.v1,a=this.v2;return n.set(Ro(e,i.x,s.x,a.x),Ro(e,i.y,s.y,a.y),Ro(e,i.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class lx extends Fn{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new X){const n=t,i=this.points,s=(i.length-1)*e,a=Math.floor(s),u=s-a,h=i[a===0?a:a-1],d=i[a],p=i[a>i.length-2?i.length-1:a+1],g=i[a>i.length-3?i.length-1:a+2];return n.set(Py(u,h.x,d.x,p.x,g.x),Py(u,h.y,d.y,p.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new X().fromArray(i))}return this}}var uu=Object.freeze({__proto__:null,ArcCurve:S_,CatmullRomCurve3:b_,CubicBezierCurve:rx,CubicBezierCurve3:I_,EllipseCurve:Kd,LineCurve:sx,LineCurve3:P_,QuadraticBezierCurve:ox,QuadraticBezierCurve3:ax,SplineCurve:lx});class z_ extends Fn{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new uu[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=n){const a=i[s]-n,u=this.curves[s],h=u.getLength(),d=h===0?0:1-a/h;return u.getPointAt(d,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],u=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,h=a.getPoints(u);for(let d=0;d<h.length;d++){const p=h[d];n&&n.equals(p)||(t.push(p),n=p)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new uu[i.type]().fromJSON(i))}return this}}class cu extends z_{constructor(e){super(),this.type="Path",this.currentPoint=new X,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new sx(this.currentPoint.clone(),new X(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const s=new ox(this.currentPoint.clone(),new X(e,t),new X(n,i));return this.curves.push(s),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,s,a){const u=new rx(this.currentPoint.clone(),new X(e,t),new X(n,i),new X(s,a));return this.curves.push(u),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new lx(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,s,a){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,n,i,s,a),this}absarc(e,t,n,i,s,a){return this.absellipse(e,t,n,n,i,s,a),this}ellipse(e,t,n,i,s,a,u,h){const d=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+d,t+p,n,i,s,a,u,h),this}absellipse(e,t,n,i,s,a,u,h){const d=new Kd(e,t,n,i,s,a,u,h);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const p=d.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Cu extends ke{constructor(e=[new X(0,-.5),new X(.5,0),new X(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=xe(i,0,Math.PI*2);const s=[],a=[],u=[],h=[],d=[],p=1/t,g=new I,m=new X,x=new I,v=new I,S=new I;let b=0,_=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:b=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,x.x=_*1,x.y=-b,x.z=_*0,S.copy(x),x.normalize(),h.push(x.x,x.y,x.z);break;case e.length-1:h.push(S.x,S.y,S.z);break;default:b=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,x.x=_*1,x.y=-b,x.z=_*0,v.copy(x),x.x+=S.x,x.y+=S.y,x.z+=S.z,x.normalize(),h.push(x.x,x.y,x.z),S.copy(v)}for(let C=0;C<=t;C++){const A=n+C*p*i,k=Math.sin(A),P=Math.cos(A);for(let E=0;E<=e.length-1;E++){g.x=e[E].x*k,g.y=e[E].y,g.z=e[E].x*P,a.push(g.x,g.y,g.z),m.x=C/t,m.y=E/(e.length-1),u.push(m.x,m.y);const R=h[3*E+0]*k,N=h[3*E+1],W=h[3*E+0]*P;d.push(R,N,W)}}for(let C=0;C<t;C++)for(let A=0;A<e.length-1;A++){const k=A+C*e.length,P=k,E=k+e.length,R=k+e.length+1,N=k+1;s.push(P,E,N),s.push(R,N,E)}this.setIndex(s),this.setAttribute("position",new le(a,3)),this.setAttribute("uv",new le(u,2)),this.setAttribute("normal",new le(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Cu(e.points,e.segments,e.phiStart,e.phiLength)}}class tf extends Cu{constructor(e=1,t=1,n=4,i=8){const s=new cu;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:i}}static fromJSON(e){return new tf(e.radius,e.length,e.capSegments,e.radialSegments)}}class nf extends ke{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const s=[],a=[],u=[],h=[],d=new I,p=new X;a.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let g=0,m=3;g<=t;g++,m+=3){const x=n+g/t*i;d.x=e*Math.cos(x),d.y=e*Math.sin(x),a.push(d.x,d.y,d.z),u.push(0,0,1),p.x=(a[m]/e+1)/2,p.y=(a[m+1]/e+1)/2,h.push(p.x,p.y)}for(let g=1;g<=t;g++)s.push(g,g+1,0);this.setIndex(s),this.setAttribute("position",new le(a,3)),this.setAttribute("normal",new le(u,3)),this.setAttribute("uv",new le(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nf(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Xo extends ke{constructor(e=1,t=1,n=1,i=32,s=1,a=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:u,thetaLength:h};const d=this;i=Math.floor(i),s=Math.floor(s);const p=[],g=[],m=[],x=[];let v=0;const S=[],b=n/2;let _=0;C(),a===!1&&(e>0&&A(!0),t>0&&A(!1)),this.setIndex(p),this.setAttribute("position",new le(g,3)),this.setAttribute("normal",new le(m,3)),this.setAttribute("uv",new le(x,2));function C(){const k=new I,P=new I;let E=0;const R=(t-e)/n;for(let N=0;N<=s;N++){const W=[],G=N/s,K=G*(t-e)+e;for(let he=0;he<=i;he++){const de=he/i,fe=de*h+u,_e=Math.sin(fe),we=Math.cos(fe);P.x=K*_e,P.y=-G*n+b,P.z=K*we,g.push(P.x,P.y,P.z),k.set(_e,R,we).normalize(),m.push(k.x,k.y,k.z),x.push(de,1-G),W.push(v++)}S.push(W)}for(let N=0;N<i;N++)for(let W=0;W<s;W++){const G=S[W][N],K=S[W+1][N],he=S[W+1][N+1],de=S[W][N+1];(e>0||W!==0)&&(p.push(G,K,de),E+=3),(t>0||W!==s-1)&&(p.push(K,he,de),E+=3)}d.addGroup(_,E,0),_+=E}function A(k){const P=v,E=new X,R=new I;let N=0;const W=k===!0?e:t,G=k===!0?1:-1;for(let he=1;he<=i;he++)g.push(0,b*G,0),m.push(0,G,0),x.push(.5,.5),v++;const K=v;for(let he=0;he<=i;he++){const fe=he/i*h+u,_e=Math.cos(fe),we=Math.sin(fe);R.x=W*we,R.y=b*G,R.z=W*_e,g.push(R.x,R.y,R.z),m.push(0,G,0),E.x=_e*.5+.5,E.y=we*.5*G+.5,x.push(E.x,E.y),v++}for(let he=0;he<i;he++){const de=P+he,fe=K+he;k===!0?p.push(fe,fe+1,de):p.push(fe+1,fe,de),N+=3}d.addGroup(_,N,k===!0?1:2),_+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xo(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class rf extends Xo{constructor(e=1,t=1,n=32,i=1,s=!1,a=0,u=Math.PI*2){super(0,e,t,n,i,s,a,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:u}}static fromJSON(e){return new rf(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class fr extends ke{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const s=[],a=[];u(i),d(n),p(),this.setAttribute("position",new le(s,3)),this.setAttribute("normal",new le(s.slice(),3)),this.setAttribute("uv",new le(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function u(C){const A=new I,k=new I,P=new I;for(let E=0;E<t.length;E+=3)x(t[E+0],A),x(t[E+1],k),x(t[E+2],P),h(A,k,P,C)}function h(C,A,k,P){const E=P+1,R=[];for(let N=0;N<=E;N++){R[N]=[];const W=C.clone().lerp(k,N/E),G=A.clone().lerp(k,N/E),K=E-N;for(let he=0;he<=K;he++)he===0&&N===E?R[N][he]=W:R[N][he]=W.clone().lerp(G,he/K)}for(let N=0;N<E;N++)for(let W=0;W<2*(E-N)-1;W++){const G=Math.floor(W/2);W%2===0?(m(R[N][G+1]),m(R[N+1][G]),m(R[N][G])):(m(R[N][G+1]),m(R[N+1][G+1]),m(R[N+1][G]))}}function d(C){const A=new I;for(let k=0;k<s.length;k+=3)A.x=s[k+0],A.y=s[k+1],A.z=s[k+2],A.normalize().multiplyScalar(C),s[k+0]=A.x,s[k+1]=A.y,s[k+2]=A.z}function p(){const C=new I;for(let A=0;A<s.length;A+=3){C.x=s[A+0],C.y=s[A+1],C.z=s[A+2];const k=b(C)/2/Math.PI+.5,P=_(C)/Math.PI+.5;a.push(k,1-P)}v(),g()}function g(){for(let C=0;C<a.length;C+=6){const A=a[C+0],k=a[C+2],P=a[C+4],E=Math.max(A,k,P),R=Math.min(A,k,P);E>.9&&R<.1&&(A<.2&&(a[C+0]+=1),k<.2&&(a[C+2]+=1),P<.2&&(a[C+4]+=1))}}function m(C){s.push(C.x,C.y,C.z)}function x(C,A){const k=C*3;A.x=e[k+0],A.y=e[k+1],A.z=e[k+2]}function v(){const C=new I,A=new I,k=new I,P=new I,E=new X,R=new X,N=new X;for(let W=0,G=0;W<s.length;W+=9,G+=6){C.set(s[W+0],s[W+1],s[W+2]),A.set(s[W+3],s[W+4],s[W+5]),k.set(s[W+6],s[W+7],s[W+8]),E.set(a[G+0],a[G+1]),R.set(a[G+2],a[G+3]),N.set(a[G+4],a[G+5]),P.copy(C).add(A).add(k).divideScalar(3);const K=b(P);S(E,G+0,C,K),S(R,G+2,A,K),S(N,G+4,k,K)}}function S(C,A,k,P){P<0&&C.x===1&&(a[A]=C.x-1),k.x===0&&k.z===0&&(a[A]=P/2/Math.PI+.5)}function b(C){return Math.atan2(C.z,-C.x)}function _(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fr(e.vertices,e.indices,e.radius,e.details)}}class sf extends fr{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sf(e.radius,e.detail)}}const Ul=new I,Vl=new I,hd=new I,Wl=new Xt;class R_ extends ke{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(cr*t),a=e.getIndex(),u=e.getAttribute("position"),h=a?a.count:u.count,d=[0,0,0],p=["a","b","c"],g=new Array(3),m={},x=[];for(let v=0;v<h;v+=3){a?(d[0]=a.getX(v),d[1]=a.getX(v+1),d[2]=a.getX(v+2)):(d[0]=v,d[1]=v+1,d[2]=v+2);const{a:S,b,c:_}=Wl;if(S.fromBufferAttribute(u,d[0]),b.fromBufferAttribute(u,d[1]),_.fromBufferAttribute(u,d[2]),Wl.getNormal(hd),g[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,g[1]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,g[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let C=0;C<3;C++){const A=(C+1)%3,k=g[C],P=g[A],E=Wl[p[C]],R=Wl[p[A]],N=`${k}_${P}`,W=`${P}_${k}`;W in m&&m[W]?(hd.dot(m[W].normal)<=s&&(x.push(E.x,E.y,E.z),x.push(R.x,R.y,R.z)),m[W]=null):N in m||(m[N]={index0:d[C],index1:d[A],normal:hd.clone()})}}for(const v in m)if(m[v]){const{index0:S,index1:b}=m[v];Ul.fromBufferAttribute(u,S),Vl.fromBufferAttribute(u,b),x.push(Ul.x,Ul.y,Ul.z),x.push(Vl.x,Vl.y,Vl.z)}this.setAttribute("position",new le(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class gs extends cu{constructor(e){super(e),this.uuid=Yt(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new cu().fromJSON(i))}return this}}const F_={triangulate:function(l,e,t=2){const n=e&&e.length,i=n?e[0]*t:l.length;let s=ux(l,0,i,t,!0);const a=[];if(!s||s.next===s.prev)return a;let u,h,d,p,g,m,x;if(n&&(s=D_(l,e,s,t)),l.length>80*t){u=d=l[0],h=p=l[1];for(let v=t;v<i;v+=t)g=l[v],m=l[v+1],g<u&&(u=g),m<h&&(h=m),g>d&&(d=g),m>p&&(p=m);x=Math.max(d-u,p-h),x=x!==0?32767/x:0}return Uo(s,a,t,u,h,x,0),a}};function ux(l,e,t,n,i){let s,a;if(i===Y_(l,e,t,n)>0)for(s=e;s<t;s+=n)a=zy(s,l[s],l[s+1],a);else for(s=t-n;s>=e;s-=n)a=zy(s,l[s],l[s+1],a);return a&&Au(a,a.next)&&(Wo(a),a=a.next),a}function dr(l,e){if(!l)return l;e||(e=l);let t=l,n;do if(n=!1,!t.steiner&&(Au(t,t.next)||Ye(t.prev,t,t.next)===0)){if(Wo(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function Uo(l,e,t,n,i,s,a){if(!l)return;!a&&s&&$_(l,n,i,s);let u=l,h,d;for(;l.prev!==l.next;){if(h=l.prev,d=l.next,s?O_(l,n,i,s):L_(l)){e.push(h.i/t|0),e.push(l.i/t|0),e.push(d.i/t|0),Wo(l),l=d.next,u=d.next;continue}if(l=d,l===u){a?a===1?(l=N_(dr(l),e,t),Uo(l,e,t,n,i,s,2)):a===2&&B_(l,e,t,n,i,s):Uo(dr(l),e,t,n,i,s,1);break}}}function L_(l){const e=l.prev,t=l,n=l.next;if(Ye(e,t,n)>=0)return!1;const i=e.x,s=t.x,a=n.x,u=e.y,h=t.y,d=n.y,p=i<s?i<a?i:a:s<a?s:a,g=u<h?u<d?u:d:h<d?h:d,m=i>s?i>a?i:a:s>a?s:a,x=u>h?u>d?u:d:h>d?h:d;let v=n.next;for(;v!==e;){if(v.x>=p&&v.x<=m&&v.y>=g&&v.y<=x&&ps(i,u,s,h,a,d,v.x,v.y)&&Ye(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function O_(l,e,t,n){const i=l.prev,s=l,a=l.next;if(Ye(i,s,a)>=0)return!1;const u=i.x,h=s.x,d=a.x,p=i.y,g=s.y,m=a.y,x=u<h?u<d?u:d:h<d?h:d,v=p<g?p<m?p:m:g<m?g:m,S=u>h?u>d?u:d:h>d?h:d,b=p>g?p>m?p:m:g>m?g:m,_=Ed(x,v,e,t,n),C=Ed(S,b,e,t,n);let A=l.prevZ,k=l.nextZ;for(;A&&A.z>=_&&k&&k.z<=C;){if(A.x>=x&&A.x<=S&&A.y>=v&&A.y<=b&&A!==i&&A!==a&&ps(u,p,h,g,d,m,A.x,A.y)&&Ye(A.prev,A,A.next)>=0||(A=A.prevZ,k.x>=x&&k.x<=S&&k.y>=v&&k.y<=b&&k!==i&&k!==a&&ps(u,p,h,g,d,m,k.x,k.y)&&Ye(k.prev,k,k.next)>=0))return!1;k=k.nextZ}for(;A&&A.z>=_;){if(A.x>=x&&A.x<=S&&A.y>=v&&A.y<=b&&A!==i&&A!==a&&ps(u,p,h,g,d,m,A.x,A.y)&&Ye(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;k&&k.z<=C;){if(k.x>=x&&k.x<=S&&k.y>=v&&k.y<=b&&k!==i&&k!==a&&ps(u,p,h,g,d,m,k.x,k.y)&&Ye(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function N_(l,e,t){let n=l;do{const i=n.prev,s=n.next.next;!Au(i,s)&&cx(i,n,n.next,s)&&Vo(i,s)&&Vo(s,i)&&(e.push(i.i/t|0),e.push(n.i/t|0),e.push(s.i/t|0),Wo(n),Wo(n.next),n=l=s),n=n.next}while(n!==l);return dr(n)}function B_(l,e,t,n,i,s){let a=l;do{let u=a.next.next;for(;u!==a.prev;){if(a.i!==u.i&&q_(a,u)){let h=hx(a,u);a=dr(a,a.next),h=dr(h,h.next),Uo(a,e,t,n,i,s,0),Uo(h,e,t,n,i,s,0);return}u=u.next}a=a.next}while(a!==l)}function D_(l,e,t,n){const i=[];let s,a,u,h,d;for(s=0,a=e.length;s<a;s++)u=e[s]*n,h=s<a-1?e[s+1]*n:l.length,d=ux(l,u,h,n,!1),d===d.next&&(d.steiner=!0),i.push(G_(d));for(i.sort(U_),s=0;s<i.length;s++)t=V_(i[s],t);return t}function U_(l,e){return l.x-e.x}function V_(l,e){const t=W_(l,e);if(!t)return e;const n=hx(t,l);return dr(n,n.next),dr(t,t.next)}function W_(l,e){let t=e,n=-1/0,i;const s=l.x,a=l.y;do{if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const m=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(m<=s&&m>n&&(n=m,i=t.x<t.next.x?t:t.next,m===s))return i}t=t.next}while(t!==e);if(!i)return null;const u=i,h=i.x,d=i.y;let p=1/0,g;t=i;do s>=t.x&&t.x>=h&&s!==t.x&&ps(a<d?s:n,a,h,d,a<d?n:s,a,t.x,t.y)&&(g=Math.abs(a-t.y)/(s-t.x),Vo(t,l)&&(g<p||g===p&&(t.x>i.x||t.x===i.x&&H_(i,t)))&&(i=t,p=g)),t=t.next;while(t!==u);return i}function H_(l,e){return Ye(l.prev,l,e.prev)<0&&Ye(e.next,l,l.next)<0}function $_(l,e,t,n){let i=l;do i.z===0&&(i.z=Ed(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==l);i.prevZ.nextZ=null,i.prevZ=null,j_(i)}function j_(l){let e,t,n,i,s,a,u,h,d=1;do{for(t=l,l=null,s=null,a=0;t;){for(a++,n=t,u=0,e=0;e<d&&(u++,n=n.nextZ,!!n);e++);for(h=d;u>0||h>0&&n;)u!==0&&(h===0||!n||t.z<=n.z)?(i=t,t=t.nextZ,u--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:l=i,i.prevZ=s,s=i;t=n}s.nextZ=null,d*=2}while(a>1);return l}function Ed(l,e,t,n,i){return l=(l-t)*i|0,e=(e-n)*i|0,l=(l|l<<8)&16711935,l=(l|l<<4)&252645135,l=(l|l<<2)&858993459,l=(l|l<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,l|e<<1}function G_(l){let e=l,t=l;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==l);return t}function ps(l,e,t,n,i,s,a,u){return(i-a)*(e-u)>=(l-a)*(s-u)&&(l-a)*(n-u)>=(t-a)*(e-u)&&(t-a)*(s-u)>=(i-a)*(n-u)}function q_(l,e){return l.next.i!==e.i&&l.prev.i!==e.i&&!J_(l,e)&&(Vo(l,e)&&Vo(e,l)&&X_(l,e)&&(Ye(l.prev,l,e.prev)||Ye(l,e.prev,e))||Au(l,e)&&Ye(l.prev,l,l.next)>0&&Ye(e.prev,e,e.next)>0)}function Ye(l,e,t){return(e.y-l.y)*(t.x-e.x)-(e.x-l.x)*(t.y-e.y)}function Au(l,e){return l.x===e.x&&l.y===e.y}function cx(l,e,t,n){const i=$l(Ye(l,e,t)),s=$l(Ye(l,e,n)),a=$l(Ye(t,n,l)),u=$l(Ye(t,n,e));return!!(i!==s&&a!==u||i===0&&Hl(l,t,e)||s===0&&Hl(l,n,e)||a===0&&Hl(t,l,n)||u===0&&Hl(t,e,n))}function Hl(l,e,t){return e.x<=Math.max(l.x,t.x)&&e.x>=Math.min(l.x,t.x)&&e.y<=Math.max(l.y,t.y)&&e.y>=Math.min(l.y,t.y)}function $l(l){return l>0?1:l<0?-1:0}function J_(l,e){let t=l;do{if(t.i!==l.i&&t.next.i!==l.i&&t.i!==e.i&&t.next.i!==e.i&&cx(t,t.next,l,e))return!0;t=t.next}while(t!==l);return!1}function Vo(l,e){return Ye(l.prev,l,l.next)<0?Ye(l,e,l.next)>=0&&Ye(l,l.prev,e)>=0:Ye(l,e,l.prev)<0||Ye(l,l.next,e)<0}function X_(l,e){let t=l,n=!1;const i=(l.x+e.x)/2,s=(l.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==l);return n}function hx(l,e){const t=new Id(l.i,l.x,l.y),n=new Id(e.i,e.x,e.y),i=l.next,s=e.prev;return l.next=e,e.prev=l,t.next=i,i.prev=t,n.next=t,t.prev=n,s.next=n,n.prev=s,n}function zy(l,e,t,n){const i=new Id(l,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Wo(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function Id(l,e,t){this.i=l,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Y_(l,e,t,n){let i=0;for(let s=e,a=t-n;s<t;s+=n)i+=(l[a]-l[s])*(l[s+1]+l[a+1]),a=s;return i}class ni{static area(e){const t=e.length;let n=0;for(let i=t-1,s=0;s<t;i=s++)n+=e[i].x*e[s].y-e[s].x*e[i].y;return n*.5}static isClockWise(e){return ni.area(e)<0}static triangulateShape(e,t){const n=[],i=[],s=[];Ry(e),Fy(n,e);let a=e.length;t.forEach(Ry);for(let h=0;h<t.length;h++)i.push(a),a+=t[h].length,Fy(n,t[h]);const u=F_.triangulate(n,i);for(let h=0;h<u.length;h+=3)s.push(u.slice(h,h+3));return s}}function Ry(l){const e=l.length;e>2&&l[e-1].equals(l[0])&&l.pop()}function Fy(l,e){for(let t=0;t<e.length;t++)l.push(e[t].x),l.push(e[t].y)}class of extends ke{constructor(e=new gs([new X(.5,.5),new X(-.5,.5),new X(-.5,-.5),new X(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],s=[];for(let u=0,h=e.length;u<h;u++){const d=e[u];a(d)}this.setAttribute("position",new le(i,3)),this.setAttribute("uv",new le(s,2)),this.computeVertexNormals();function a(u){const h=[],d=t.curveSegments!==void 0?t.curveSegments:12,p=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,v=t.bevelSize!==void 0?t.bevelSize:x-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,b=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:Z_;let A,k=!1,P,E,R,N;_&&(A=_.getSpacedPoints(p),k=!0,m=!1,P=_.computeFrenetFrames(p,!1),E=new I,R=new I,N=new I),m||(b=0,x=0,v=0,S=0);const W=u.extractPoints(d);let G=W.shape;const K=W.holes;if(!ni.isClockWise(G)){G=G.reverse();for(let Q=0,te=K.length;Q<te;Q++){const ne=K[Q];ni.isClockWise(ne)&&(K[Q]=ne.reverse())}}const de=ni.triangulateShape(G,K),fe=G;for(let Q=0,te=K.length;Q<te;Q++){const ne=K[Q];G=G.concat(ne)}function _e(Q,te,ne){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),Q.clone().addScaledVector(te,ne)}const we=G.length,Ce=de.length;function j(Q,te,ne){let me,oe,ze;const Fe=Q.x-te.x,Ve=Q.y-te.y,tt=ne.x-Q.x,je=ne.y-Q.y,On=Fe*Fe+Ve*Ve,mr=Fe*je-Ve*tt;if(Math.abs(mr)>Number.EPSILON){const Kt=Math.sqrt(On),As=Math.sqrt(tt*tt+je*je),ks=te.x-Ve/Kt,gr=te.y+Fe/Kt,yr=ne.x-je/As,Yo=ne.y+tt/As,si=((yr-ks)*je-(Yo-gr)*tt)/(Fe*je-Ve*tt);me=ks+Fe*si-Q.x,oe=gr+Ve*si-Q.y;const oi=me*me+oe*oe;if(oi<=2)return new X(me,oe);ze=Math.sqrt(oi/2)}else{let Kt=!1;Fe>Number.EPSILON?tt>Number.EPSILON&&(Kt=!0):Fe<-Number.EPSILON?tt<-Number.EPSILON&&(Kt=!0):Math.sign(Ve)===Math.sign(je)&&(Kt=!0),Kt?(me=-Ve,oe=Fe,ze=Math.sqrt(On)):(me=Fe,oe=Ve,ze=Math.sqrt(On/2))}return new X(me/ze,oe/ze)}const Z=[];for(let Q=0,te=fe.length,ne=te-1,me=Q+1;Q<te;Q++,ne++,me++)ne===te&&(ne=0),me===te&&(me=0),Z[Q]=j(fe[Q],fe[ne],fe[me]);const J=[];let F,V=Z.concat();for(let Q=0,te=K.length;Q<te;Q++){const ne=K[Q];F=[];for(let me=0,oe=ne.length,ze=oe-1,Fe=me+1;me<oe;me++,ze++,Fe++)ze===oe&&(ze=0),Fe===oe&&(Fe=0),F[me]=j(ne[me],ne[ze],ne[Fe]);J.push(F),V=V.concat(F)}for(let Q=0;Q<b;Q++){const te=Q/b,ne=x*Math.cos(te*Math.PI/2),me=v*Math.sin(te*Math.PI/2)+S;for(let oe=0,ze=fe.length;oe<ze;oe++){const Fe=_e(fe[oe],Z[oe],me);Ee(Fe.x,Fe.y,-ne)}for(let oe=0,ze=K.length;oe<ze;oe++){const Fe=K[oe];F=J[oe];for(let Ve=0,tt=Fe.length;Ve<tt;Ve++){const je=_e(Fe[Ve],F[Ve],me);Ee(je.x,je.y,-ne)}}}const pe=v+S;for(let Q=0;Q<we;Q++){const te=m?_e(G[Q],V[Q],pe):G[Q];k?(R.copy(P.normals[0]).multiplyScalar(te.x),E.copy(P.binormals[0]).multiplyScalar(te.y),N.copy(A[0]).add(R).add(E),Ee(N.x,N.y,N.z)):Ee(te.x,te.y,0)}for(let Q=1;Q<=p;Q++)for(let te=0;te<we;te++){const ne=m?_e(G[te],V[te],pe):G[te];k?(R.copy(P.normals[Q]).multiplyScalar(ne.x),E.copy(P.binormals[Q]).multiplyScalar(ne.y),N.copy(A[Q]).add(R).add(E),Ee(N.x,N.y,N.z)):Ee(ne.x,ne.y,g/p*Q)}for(let Q=b-1;Q>=0;Q--){const te=Q/b,ne=x*Math.cos(te*Math.PI/2),me=v*Math.sin(te*Math.PI/2)+S;for(let oe=0,ze=fe.length;oe<ze;oe++){const Fe=_e(fe[oe],Z[oe],me);Ee(Fe.x,Fe.y,g+ne)}for(let oe=0,ze=K.length;oe<ze;oe++){const Fe=K[oe];F=J[oe];for(let Ve=0,tt=Fe.length;Ve<tt;Ve++){const je=_e(Fe[Ve],F[Ve],me);k?Ee(je.x,je.y+A[p-1].y,A[p-1].x+ne):Ee(je.x,je.y,g+ne)}}}be(),Te();function be(){const Q=i.length/3;if(m){let te=0,ne=we*te;for(let me=0;me<Ce;me++){const oe=de[me];Pe(oe[2]+ne,oe[1]+ne,oe[0]+ne)}te=p+b*2,ne=we*te;for(let me=0;me<Ce;me++){const oe=de[me];Pe(oe[0]+ne,oe[1]+ne,oe[2]+ne)}}else{for(let te=0;te<Ce;te++){const ne=de[te];Pe(ne[2],ne[1],ne[0])}for(let te=0;te<Ce;te++){const ne=de[te];Pe(ne[0]+we*p,ne[1]+we*p,ne[2]+we*p)}}n.addGroup(Q,i.length/3-Q,0)}function Te(){const Q=i.length/3;let te=0;Ie(fe,te),te+=fe.length;for(let ne=0,me=K.length;ne<me;ne++){const oe=K[ne];Ie(oe,te),te+=oe.length}n.addGroup(Q,i.length/3-Q,1)}function Ie(Q,te){let ne=Q.length;for(;--ne>=0;){const me=ne;let oe=ne-1;oe<0&&(oe=Q.length-1);for(let ze=0,Fe=p+b*2;ze<Fe;ze++){const Ve=we*ze,tt=we*(ze+1),je=te+me+Ve,On=te+oe+Ve,mr=te+oe+tt,Kt=te+me+tt;Ue(je,On,mr,Kt)}}}function Ee(Q,te,ne){h.push(Q),h.push(te),h.push(ne)}function Pe(Q,te,ne){qe(Q),qe(te),qe(ne);const me=i.length/3,oe=C.generateTopUV(n,i,me-3,me-2,me-1);Pt(oe[0]),Pt(oe[1]),Pt(oe[2])}function Ue(Q,te,ne,me){qe(Q),qe(te),qe(me),qe(te),qe(ne),qe(me);const oe=i.length/3,ze=C.generateSideWallUV(n,i,oe-6,oe-3,oe-2,oe-1);Pt(ze[0]),Pt(ze[1]),Pt(ze[3]),Pt(ze[1]),Pt(ze[2]),Pt(ze[3])}function qe(Q){i.push(h[Q*3+0]),i.push(h[Q*3+1]),i.push(h[Q*3+2])}function Pt(Q){s.push(Q.x),s.push(Q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return Q_(t,n,e)}static fromJSON(e,t){const n=[];for(let s=0,a=e.shapes.length;s<a;s++){const u=t[e.shapes[s]];n.push(u)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new uu[i.type]().fromJSON(i)),new of(n,e.options)}}const Z_={generateTopUV:function(l,e,t,n,i){const s=e[t*3],a=e[t*3+1],u=e[n*3],h=e[n*3+1],d=e[i*3],p=e[i*3+1];return[new X(s,a),new X(u,h),new X(d,p)]},generateSideWallUV:function(l,e,t,n,i,s){const a=e[t*3],u=e[t*3+1],h=e[t*3+2],d=e[n*3],p=e[n*3+1],g=e[n*3+2],m=e[i*3],x=e[i*3+1],v=e[i*3+2],S=e[s*3],b=e[s*3+1],_=e[s*3+2];return Math.abs(u-p)<Math.abs(a-d)?[new X(a,1-h),new X(d,1-g),new X(m,1-v),new X(S,1-_)]:[new X(u,1-h),new X(p,1-g),new X(x,1-v),new X(b,1-_)]}};function Q_(l,e,t){if(t.shapes=[],Array.isArray(l))for(let n=0,i=l.length;n<i;n++){const s=l[n];t.shapes.push(s.uuid)}else t.shapes.push(l.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class af extends fr{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new af(e.radius,e.detail)}}class ku extends fr{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new ku(e.radius,e.detail)}}class lf extends ke{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const s=e/2,a=t/2,u=Math.floor(n),h=Math.floor(i),d=u+1,p=h+1,g=e/u,m=t/h,x=[],v=[],S=[],b=[];for(let _=0;_<p;_++){const C=_*m-a;for(let A=0;A<d;A++){const k=A*g-s;v.push(k,-C,0),S.push(0,0,1),b.push(A/u),b.push(1-_/h)}}for(let _=0;_<h;_++)for(let C=0;C<u;C++){const A=C+d*_,k=C+d*(_+1),P=C+1+d*(_+1),E=C+1+d*_;x.push(A,k,E),x.push(k,P,E)}this.setIndex(x),this.setAttribute("position",new le(v,3)),this.setAttribute("normal",new le(S,3)),this.setAttribute("uv",new le(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lf(e.width,e.height,e.widthSegments,e.heightSegments)}}class uf extends ke{constructor(e=.5,t=1,n=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:s,thetaLength:a},n=Math.max(3,n),i=Math.max(1,i);const u=[],h=[],d=[],p=[];let g=e;const m=(t-e)/i,x=new I,v=new X;for(let S=0;S<=i;S++){for(let b=0;b<=n;b++){const _=s+b/n*a;x.x=g*Math.cos(_),x.y=g*Math.sin(_),h.push(x.x,x.y,x.z),d.push(0,0,1),v.x=(x.x/t+1)/2,v.y=(x.y/t+1)/2,p.push(v.x,v.y)}g+=m}for(let S=0;S<i;S++){const b=S*(n+1);for(let _=0;_<n;_++){const C=_+b,A=C,k=C+n+1,P=C+n+2,E=C+1;u.push(A,k,E),u.push(k,P,E)}}this.setIndex(u),this.setAttribute("position",new le(h,3)),this.setAttribute("normal",new le(d,3)),this.setAttribute("uv",new le(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uf(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class cf extends ke{constructor(e=new gs([new X(0,.5),new X(-.5,-.5),new X(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],s=[],a=[];let u=0,h=0;if(Array.isArray(e)===!1)d(e);else for(let p=0;p<e.length;p++)d(e[p]),this.addGroup(u,h,p),u+=h,h=0;this.setIndex(n),this.setAttribute("position",new le(i,3)),this.setAttribute("normal",new le(s,3)),this.setAttribute("uv",new le(a,2));function d(p){const g=i.length/3,m=p.extractPoints(t);let x=m.shape;const v=m.holes;ni.isClockWise(x)===!1&&(x=x.reverse());for(let b=0,_=v.length;b<_;b++){const C=v[b];ni.isClockWise(C)===!0&&(v[b]=C.reverse())}const S=ni.triangulateShape(x,v);for(let b=0,_=v.length;b<_;b++){const C=v[b];x=x.concat(C)}for(let b=0,_=x.length;b<_;b++){const C=x[b];i.push(C.x,C.y,0),s.push(0,0,1),a.push(C.x,C.y)}for(let b=0,_=S.length;b<_;b++){const C=S[b],A=C[0]+g,k=C[1]+g,P=C[2]+g;n.push(A,k,P),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return K_(t,e)}static fromJSON(e,t){const n=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=t[e.shapes[i]];n.push(a)}return new cf(n,e.curveSegments)}}function K_(l,e){if(e.shapes=[],Array.isArray(l))for(let t=0,n=l.length;t<n;t++){const i=l[t];e.shapes.push(i.uuid)}else e.shapes.push(l.uuid);return e}class Tu extends ke{constructor(e=1,t=32,n=16,i=0,s=Math.PI*2,a=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:s,thetaStart:a,thetaLength:u},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const h=Math.min(a+u,Math.PI);let d=0;const p=[],g=new I,m=new I,x=[],v=[],S=[],b=[];for(let _=0;_<=n;_++){const C=[],A=_/n;let k=0;_===0&&a===0?k=.5/t:_===n&&h===Math.PI&&(k=-.5/t);for(let P=0;P<=t;P++){const E=P/t;g.x=-e*Math.cos(i+E*s)*Math.sin(a+A*u),g.y=e*Math.cos(a+A*u),g.z=e*Math.sin(i+E*s)*Math.sin(a+A*u),v.push(g.x,g.y,g.z),m.copy(g).normalize(),S.push(m.x,m.y,m.z),b.push(E+k,1-A),C.push(d++)}p.push(C)}for(let _=0;_<n;_++)for(let C=0;C<t;C++){const A=p[_][C+1],k=p[_][C],P=p[_+1][C],E=p[_+1][C+1];(_!==0||a>0)&&x.push(A,k,E),(_!==n-1||h<Math.PI)&&x.push(k,P,E)}this.setIndex(x),this.setAttribute("position",new le(v,3)),this.setAttribute("normal",new le(S,3)),this.setAttribute("uv",new le(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class hf extends fr{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new hf(e.radius,e.detail)}}class df extends ke{constructor(e=1,t=.4,n=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:s},n=Math.floor(n),i=Math.floor(i);const a=[],u=[],h=[],d=[],p=new I,g=new I,m=new I;for(let x=0;x<=n;x++)for(let v=0;v<=i;v++){const S=v/i*s,b=x/n*Math.PI*2;g.x=(e+t*Math.cos(b))*Math.cos(S),g.y=(e+t*Math.cos(b))*Math.sin(S),g.z=t*Math.sin(b),u.push(g.x,g.y,g.z),p.x=e*Math.cos(S),p.y=e*Math.sin(S),m.subVectors(g,p).normalize(),h.push(m.x,m.y,m.z),d.push(v/i),d.push(x/n)}for(let x=1;x<=n;x++)for(let v=1;v<=i;v++){const S=(i+1)*x+v-1,b=(i+1)*(x-1)+v-1,_=(i+1)*(x-1)+v,C=(i+1)*x+v;a.push(S,b,C),a.push(b,_,C)}this.setIndex(a),this.setAttribute("position",new le(u,3)),this.setAttribute("normal",new le(h,3)),this.setAttribute("uv",new le(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new df(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class ff extends ke{constructor(e=1,t=.4,n=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:s,q:a},n=Math.floor(n),i=Math.floor(i);const u=[],h=[],d=[],p=[],g=new I,m=new I,x=new I,v=new I,S=new I,b=new I,_=new I;for(let A=0;A<=n;++A){const k=A/n*s*Math.PI*2;C(k,s,a,e,x),C(k+.01,s,a,e,v),b.subVectors(v,x),_.addVectors(v,x),S.crossVectors(b,_),_.crossVectors(S,b),S.normalize(),_.normalize();for(let P=0;P<=i;++P){const E=P/i*Math.PI*2,R=-t*Math.cos(E),N=t*Math.sin(E);g.x=x.x+(R*_.x+N*S.x),g.y=x.y+(R*_.y+N*S.y),g.z=x.z+(R*_.z+N*S.z),h.push(g.x,g.y,g.z),m.subVectors(g,x).normalize(),d.push(m.x,m.y,m.z),p.push(A/n),p.push(P/i)}}for(let A=1;A<=n;A++)for(let k=1;k<=i;k++){const P=(i+1)*(A-1)+(k-1),E=(i+1)*A+(k-1),R=(i+1)*A+k,N=(i+1)*(A-1)+k;u.push(P,E,N),u.push(E,R,N)}this.setIndex(u),this.setAttribute("position",new le(h,3)),this.setAttribute("normal",new le(d,3)),this.setAttribute("uv",new le(p,2));function C(A,k,P,E,R){const N=Math.cos(A),W=Math.sin(A),G=P/k*A,K=Math.cos(G);R.x=E*(2+K)*.5*N,R.y=E*(2+K)*W*.5,R.z=E*Math.sin(G)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ff(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class pf extends ke{constructor(e=new ax(new I(-1,-1,0),new I(-1,1,0),new I(1,1,0)),t=64,n=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const u=new I,h=new I,d=new X;let p=new I;const g=[],m=[],x=[],v=[];S(),this.setIndex(v),this.setAttribute("position",new le(g,3)),this.setAttribute("normal",new le(m,3)),this.setAttribute("uv",new le(x,2));function S(){for(let A=0;A<t;A++)b(A);b(s===!1?t:0),C(),_()}function b(A){p=e.getPointAt(A/t,p);const k=a.normals[A],P=a.binormals[A];for(let E=0;E<=i;E++){const R=E/i*Math.PI*2,N=Math.sin(R),W=-Math.cos(R);h.x=W*k.x+N*P.x,h.y=W*k.y+N*P.y,h.z=W*k.z+N*P.z,h.normalize(),m.push(h.x,h.y,h.z),u.x=p.x+n*h.x,u.y=p.y+n*h.y,u.z=p.z+n*h.z,g.push(u.x,u.y,u.z)}}function _(){for(let A=1;A<=t;A++)for(let k=1;k<=i;k++){const P=(i+1)*(A-1)+(k-1),E=(i+1)*A+(k-1),R=(i+1)*A+k,N=(i+1)*(A-1)+k;v.push(P,E,N),v.push(E,R,N)}}function C(){for(let A=0;A<=t;A++)for(let k=0;k<=i;k++)d.x=A/t,d.y=k/i,x.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new pf(new uu[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class e2 extends ke{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new I,s=new I;if(e.index!==null){const a=e.attributes.position,u=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let d=0,p=h.length;d<p;++d){const g=h[d],m=g.start,x=g.count;for(let v=m,S=m+x;v<S;v+=3)for(let b=0;b<3;b++){const _=u.getX(v+b),C=u.getX(v+(b+1)%3);i.fromBufferAttribute(a,_),s.fromBufferAttribute(a,C),Ly(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let u=0,h=a.count/3;u<h;u++)for(let d=0;d<3;d++){const p=3*u+d,g=3*u+(d+1)%3;i.fromBufferAttribute(a,p),s.fromBufferAttribute(a,g),Ly(i,s,n)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new le(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Ly(l,e,t){const n=`${l.x},${l.y},${l.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${l.x},${l.y},${l.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var Oy=Object.freeze({__proto__:null,BoxGeometry:Mu,CapsuleGeometry:tf,CircleGeometry:nf,ConeGeometry:rf,CylinderGeometry:Xo,DodecahedronGeometry:sf,EdgesGeometry:R_,ExtrudeGeometry:of,IcosahedronGeometry:af,LatheGeometry:Cu,OctahedronGeometry:ku,PlaneGeometry:lf,PolyhedronGeometry:fr,RingGeometry:uf,ShapeGeometry:cf,SphereGeometry:Tu,TetrahedronGeometry:hf,TorusGeometry:df,TorusKnotGeometry:ff,TubeGeometry:pf,WireframeGeometry:e2});class t2 extends It{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ve(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class n2 extends jd{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class dx extends It{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ve(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bs,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pn,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class i2 extends dx{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new X(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xe(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ve(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ve(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ve(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class r2 extends It{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ve(16777215),this.specular=new ve(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bs,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pn,this.combine=Dd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class s2 extends It{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ve(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bs,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class o2 extends It{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bs,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class a2 extends It{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bs,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Pn,this.combine=Dd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class l2 extends It{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=hM,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class u2 extends It{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class c2 extends It{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ve(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bs,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class h2 extends Vt{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ur(l,e,t){return!l||!t&&l.constructor===e?l:typeof e.BYTES_PER_ELEMENT=="number"?new e(l):Array.prototype.slice.call(l)}function fx(l){return ArrayBuffer.isView(l)&&!(l instanceof DataView)}function px(l){function e(i,s){return l[i]-l[s]}const t=l.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function Pd(l,e,t){const n=l.length,i=new l.constructor(n);for(let s=0,a=0;a!==n;++s){const u=t[s]*e;for(let h=0;h!==e;++h)i[a++]=l[u+h]}return i}function mf(l,e,t,n){let i=1,s=l[0];for(;s!==void 0&&s[n]===void 0;)s=l[i++];if(s===void 0)return;let a=s[n];if(a!==void 0)if(Array.isArray(a))do a=s[n],a!==void 0&&(e.push(s.time),t.push.apply(t,a)),s=l[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[n],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=l[i++];while(s!==void 0);else do a=s[n],a!==void 0&&(e.push(s.time),t.push(a)),s=l[i++];while(s!==void 0)}function d2(l,e,t,n,i=30){const s=l.clone();s.name=e;const a=[];for(let h=0;h<s.tracks.length;++h){const d=s.tracks[h],p=d.getValueSize(),g=[],m=[];for(let x=0;x<d.times.length;++x){const v=d.times[x]*i;if(!(v<t||v>=n)){g.push(d.times[x]);for(let S=0;S<p;++S)m.push(d.values[x*p+S])}}g.length!==0&&(d.times=ur(g,d.times.constructor),d.values=ur(m,d.values.constructor),a.push(d))}s.tracks=a;let u=1/0;for(let h=0;h<s.tracks.length;++h)u>s.tracks[h].times[0]&&(u=s.tracks[h].times[0]);for(let h=0;h<s.tracks.length;++h)s.tracks[h].shift(-1*u);return s.resetDuration(),s}function f2(l,e=0,t=l,n=30){n<=0&&(n=30);const i=t.tracks.length,s=e/n;for(let a=0;a<i;++a){const u=t.tracks[a],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const d=l.tracks.find(function(_){return _.name===u.name&&_.ValueTypeName===h});if(d===void 0)continue;let p=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let m=0;const x=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=x/3);const v=u.times.length-1;let S;if(s<=u.times[0]){const _=p,C=g-p;S=u.values.slice(_,C)}else if(s>=u.times[v]){const _=v*g+p,C=_+g-p;S=u.values.slice(_,C)}else{const _=u.createInterpolant(),C=p,A=g-p;_.evaluate(s),S=_.resultBuffer.slice(C,A)}h==="quaternion"&&new Zt().fromArray(S).normalize().conjugate().toArray(S);const b=d.times.length;for(let _=0;_<b;++_){const C=_*x+m;if(h==="quaternion")Zt.multiplyQuaternionsFlat(d.values,C,S,0,d.values,C);else{const A=x-m*2;for(let k=0;k<A;++k)d.values[C+k]-=S[k]}}}return l.blendMode=X0,l}const gT={convertArray:ur,isTypedArray:fx,getKeyframeOrder:px,sortedArray:Pd,flattenJSON:mf,subclip:d2,makeClipAdditive:f2};class Eu{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],s=t[n-1];e:{t:{let a;n:{i:if(!(e<i)){for(let u=n+2;;){if(i===void 0){if(e<s)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===u)break;if(s=i,i=t[++n],e<i)break t}a=t.length;break n}if(!(e>=s)){const u=t[1];e<u&&(n=2,s=u);for(let h=n-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===h)break;if(i=s,s=t[--n-1],e>=s)break t}a=n,n=0;break n}break e}for(;n<a;){const u=n+a>>>1;e<t[u]?a=u:n=u+1}if(i=t[n],s=t[n-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,i)}return this.interpolate_(n,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)t[a]=n[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class p2 extends Eu{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cs,endingEnd:cs}}intervalChanged_(e,t,n){const i=this.parameterPositions;let s=e-2,a=e+1,u=i[s],h=i[a];if(u===void 0)switch(this.getSettings_().endingStart){case hs:s=e,u=2*t-n;break;case iu:s=i.length-2,u=t+i[s]-i[s+1];break;default:s=e,u=n}if(h===void 0)switch(this.getSettings_().endingEnd){case hs:a=e,h=2*n-t;break;case iu:a=1,h=n+i[1]-i[0];break;default:a=e-1,h=t}const d=(n-t)*.5,p=this.valueSize;this._weightPrev=d/(t-u),this._weightNext=d/(h-n),this._offsetPrev=s*p,this._offsetNext=a*p}interpolate_(e,t,n,i){const s=this.resultBuffer,a=this.sampleValues,u=this.valueSize,h=e*u,d=h-u,p=this._offsetPrev,g=this._offsetNext,m=this._weightPrev,x=this._weightNext,v=(n-t)/(i-t),S=v*v,b=S*v,_=-m*b+2*m*S-m*v,C=(1+m)*b+(-1.5-2*m)*S+(-.5+m)*v+1,A=(-1-x)*b+(1.5+x)*S+.5*v,k=x*b-x*S;for(let P=0;P!==u;++P)s[P]=_*a[p+P]+C*a[d+P]+A*a[h+P]+k*a[g+P];return s}}class mx extends Eu{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,a=this.sampleValues,u=this.valueSize,h=e*u,d=h-u,p=(n-t)/(i-t),g=1-p;for(let m=0;m!==u;++m)s[m]=a[d+m]*g+a[h+m]*p;return s}}class m2 extends Eu{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ln{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ur(t,this.TimeBufferType),this.values=ur(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:ur(e.times,Array),values:ur(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new m2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new mx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new p2(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case nu:t=this.InterpolantFactoryMethodDiscrete;break;case kd:t=this.InterpolantFactoryMethodLinear;break;case Rh:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return nu;case this.InterpolantFactoryMethodLinear:return kd;case this.InterpolantFactoryMethodSmooth:return Rh}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let s=0,a=i-1;for(;s!==i&&n[s]<e;)++s;for(;a!==-1&&n[a]>t;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const u=this.getValueSize();this.times=n.slice(s,a),this.values=this.values.slice(s*u,a*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,s=n.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let u=0;u!==s;u++){const h=n[u];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(a!==null&&a>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,h,a),e=!1;break}a=h}if(i!==void 0&&fx(i))for(let u=0,h=i.length;u!==h;++u){const d=i[u];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===Rh,s=e.length-1;let a=1;for(let u=1;u<s;++u){let h=!1;const d=e[u],p=e[u+1];if(d!==p&&(u!==1||d!==e[0]))if(i)h=!0;else{const g=u*n,m=g-n,x=g+n;for(let v=0;v!==n;++v){const S=t[g+v];if(S!==t[m+v]||S!==t[x+v]){h=!0;break}}}if(h){if(u!==a){e[a]=e[u];const g=u*n,m=a*n;for(let x=0;x!==n;++x)t[m+x]=t[g+x]}++a}}if(s>0){e[a]=e[s];for(let u=s*n,h=a*n,d=0;d!==n;++d)t[h+d]=t[u+d];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ln.prototype.TimeBufferType=Float32Array;Ln.prototype.ValueBufferType=Float32Array;Ln.prototype.DefaultInterpolation=kd;class _s extends Ln{constructor(e,t,n){super(e,t,n)}}_s.prototype.ValueTypeName="bool";_s.prototype.ValueBufferType=Array;_s.prototype.DefaultInterpolation=nu;_s.prototype.InterpolantFactoryMethodLinear=void 0;_s.prototype.InterpolantFactoryMethodSmooth=void 0;class gx extends Ln{}gx.prototype.ValueTypeName="color";class hu extends Ln{}hu.prototype.ValueTypeName="number";class g2 extends Eu{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const s=this.resultBuffer,a=this.sampleValues,u=this.valueSize,h=(n-t)/(i-t);let d=e*u;for(let p=d+u;d!==p;d+=4)Zt.slerpFlat(s,0,a,d-u,a,d,h);return s}}class Iu extends Ln{InterpolantFactoryMethodLinear(e){return new g2(this.times,this.values,this.getValueSize(),e)}}Iu.prototype.ValueTypeName="quaternion";Iu.prototype.InterpolantFactoryMethodSmooth=void 0;class Cs extends Ln{constructor(e,t,n){super(e,t,n)}}Cs.prototype.ValueTypeName="string";Cs.prototype.ValueBufferType=Array;Cs.prototype.DefaultInterpolation=nu;Cs.prototype.InterpolantFactoryMethodLinear=void 0;Cs.prototype.InterpolantFactoryMethodSmooth=void 0;class du extends Ln{}du.prototype.ValueTypeName="vector";class fu{constructor(e="",t=-1,n=[],i=Hd){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=Yt(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let a=0,u=n.length;a!==u;++a)t.push(x2(n[a]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=n.length;s!==a;++s)t.push(Ln.toJSON(n[s]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const s=t.length,a=[];for(let u=0;u<s;u++){let h=[],d=[];h.push((u+s-1)%s,u,(u+1)%s),d.push(0,1,0);const p=px(h);h=Pd(h,1,p),d=Pd(d,1,p),!i&&h[0]===0&&(h.push(s),d.push(d[0])),a.push(new hu(".morphTargetInfluences["+t[u].name+"]",h,d).scale(1/n))}return new this(e,-1,a)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},s=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const d=e[u],p=d.name.match(s);if(p&&p.length>1){const g=p[1];let m=i[g];m||(i[g]=m=[]),m.push(d)}}const a=[];for(const u in i)a.push(this.CreateFromMorphTargetSequence(u,i[u],t,n));return a}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(g,m,x,v,S){if(x.length!==0){const b=[],_=[];mf(x,b,_,v),b.length!==0&&S.push(new g(m,b,_))}},i=[],s=e.name||"default",a=e.fps||30,u=e.blendMode;let h=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const m=d[g].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const x={};let v;for(v=0;v<m.length;v++)if(m[v].morphTargets)for(let S=0;S<m[v].morphTargets.length;S++)x[m[v].morphTargets[S]]=-1;for(const S in x){const b=[],_=[];for(let C=0;C!==m[v].morphTargets.length;++C){const A=m[v];b.push(A.time),_.push(A.morphTarget===S?1:0)}i.push(new hu(".morphTargetInfluence["+S+"]",b,_))}h=x.length*a}else{const x=".bones["+t[g].name+"]";n(du,x+".position",m,"pos",i),n(Iu,x+".quaternion",m,"rot",i),n(du,x+".scale",m,"scl",i)}}return i.length===0?null:new this(s,h,i,u)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const s=this.tracks[n];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function y2(l){switch(l.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hu;case"vector":case"vector2":case"vector3":case"vector4":return du;case"color":return gx;case"quaternion":return Iu;case"bool":case"boolean":return _s;case"string":return Cs}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+l)}function x2(l){if(l.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=y2(l.type);if(l.times===void 0){const t=[],n=[];mf(l.keys,t,n,"value"),l.times=t,l.values=n}return e.parse!==void 0?e.parse(l):new e(l.name,l.times,l.values,l.interpolation)}const Fi={enabled:!1,files:{},add:function(l,e){this.enabled!==!1&&(this.files[l]=e)},get:function(l){if(this.enabled!==!1)return this.files[l]},remove:function(l){delete this.files[l]},clear:function(){this.files={}}};class yx{constructor(e,t,n){const i=this;let s=!1,a=0,u=0,h;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(p){u++,s===!1&&i.onStart!==void 0&&i.onStart(p,a,u),s=!0},this.itemEnd=function(p){a++,i.onProgress!==void 0&&i.onProgress(p,a,u),a===u&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(p){i.onError!==void 0&&i.onError(p)},this.resolveURL=function(p){return h?h(p):p},this.setURLModifier=function(p){return h=p,this},this.addHandler=function(p,g){return d.push(p,g),this},this.removeHandler=function(p){const g=d.indexOf(p);return g!==-1&&d.splice(g,2),this},this.getHandler=function(p){for(let g=0,m=d.length;g<m;g+=2){const x=d[g],v=d[g+1];if(x.global&&(x.lastIndex=0),x.test(p))return v}return null}}}const Po=new yx;class Qt{constructor(e){this.manager=e!==void 0?e:Po,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,s){n.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Qt.DEFAULT_MATERIAL_NAME="__DEFAULT";const Yn={};class v2 extends Error{constructor(e,t){super(e),this.response=t}}class Oi extends Qt{constructor(e){super(e)}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Fi.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Yn[e]!==void 0){Yn[e].push({onLoad:t,onProgress:n,onError:i});return}Yn[e]=[],Yn[e].push({onLoad:t,onProgress:n,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,h=this.responseType;fetch(a).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const p=Yn[e],g=d.body.getReader(),m=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),x=m?parseInt(m):0,v=x!==0;let S=0;const b=new ReadableStream({start(_){C();function C(){g.read().then(({done:A,value:k})=>{if(A)_.close();else{S+=k.byteLength;const P=new ProgressEvent("progress",{lengthComputable:v,loaded:S,total:x});for(let E=0,R=p.length;E<R;E++){const N=p[E];N.onProgress&&N.onProgress(P)}_.enqueue(k),C()}},A=>{_.error(A)})}}});return new Response(b)}else throw new v2(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(h){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(p=>new DOMParser().parseFromString(p,u));case"json":return d.json();default:if(u===void 0)return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(u),m=g&&g[1]?g[1].toLowerCase():void 0,x=new TextDecoder(m);return d.arrayBuffer().then(v=>x.decode(v))}}}).then(d=>{Fi.add(e,d);const p=Yn[e];delete Yn[e];for(let g=0,m=p.length;g<m;g++){const x=p[g];x.onLoad&&x.onLoad(d)}}).catch(d=>{const p=Yn[e];if(p===void 0)throw this.manager.itemError(e),d;delete Yn[e];for(let g=0,m=p.length;g<m;g++){const x=p[g];x.onError&&x.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class yT extends Qt{constructor(e){super(e)}load(e,t,n,i){const s=this,a=new Oi(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(h){i?i(h):console.error(h),s.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=fu.parse(e[n]);t.push(i)}return t}}class xT extends Qt{constructor(e){super(e)}load(e,t,n,i){const s=this,a=[],u=new Qd,h=new Oi(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(s.withCredentials);let d=0;function p(g){h.load(e[g],function(m){const x=s.parse(m,!0);a[g]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},d+=1,d===6&&(x.mipmapCount===1&&(u.minFilter=cn),u.image=a,u.format=x.format,u.needsUpdate=!0,t&&t(u))},n,i)}if(Array.isArray(e))for(let g=0,m=e.length;g<m;++g)p(g);else h.load(e,function(g){const m=s.parse(g,!0);if(m.isCubemap){const x=m.mipmaps.length/m.mipmapCount;for(let v=0;v<x;v++){a[v]={mipmaps:[]};for(let S=0;S<m.mipmapCount;S++)a[v].mipmaps.push(m.mipmaps[v*m.mipmapCount+S]),a[v].format=m.format,a[v].width=m.width,a[v].height=m.height}u.image=a}else u.image.width=m.width,u.image.height=m.height,u.mipmaps=m.mipmaps;m.mipmapCount===1&&(u.minFilter=cn),u.format=m.format,u.needsUpdate=!0,t&&t(u)},n,i);return u}}class pu extends Qt{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Fi.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a;const u=ou("img");function h(){p(),Fi.add(e,this),t&&t(this),s.manager.itemEnd(e)}function d(g){p(),i&&i(g),s.manager.itemError(e),s.manager.itemEnd(e)}function p(){u.removeEventListener("load",h,!1),u.removeEventListener("error",d,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),s.manager.itemStart(e),u.src=e,u}}class vT extends Qt{constructor(e){super(e)}load(e,t,n,i){const s=new qd;s.colorSpace=ln;const a=new pu(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let u=0;function h(d){a.load(e[d],function(p){s.images[d]=p,u++,u===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let d=0;d<e.length;++d)h(d);return s}}class wT extends Qt{constructor(e){super(e)}load(e,t,n,i){const s=this,a=new ti,u=new Oi(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(s.withCredentials),u.load(e,function(h){let d;try{d=s.parse(h)}catch(p){if(i!==void 0)i(p);else{console.error(p);return}}d.image!==void 0?a.image=d.image:d.data!==void 0&&(a.image.width=d.width,a.image.height=d.height,a.image.data=d.data),a.wrapS=d.wrapS!==void 0?d.wrapS:Tn,a.wrapT=d.wrapT!==void 0?d.wrapT:Tn,a.magFilter=d.magFilter!==void 0?d.magFilter:cn,a.minFilter=d.minFilter!==void 0?d.minFilter:cn,a.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(a.colorSpace=d.colorSpace),d.flipY!==void 0&&(a.flipY=d.flipY),d.format!==void 0&&(a.format=d.format),d.type!==void 0&&(a.type=d.type),d.mipmaps!==void 0&&(a.mipmaps=d.mipmaps,a.minFilter=Su),d.mipmapCount===1&&(a.minFilter=cn),d.generateMipmaps!==void 0&&(a.generateMipmaps=d.generateMipmaps),a.needsUpdate=!0,t&&t(a,d)},n,i),a}}class ST extends Qt{constructor(e){super(e)}load(e,t,n,i){const s=new ut,a=new pu(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(u){s.image=u,s.needsUpdate=!0,t!==void 0&&t(s)},n,i),s}}class pr extends Ne{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ve(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class w2 extends pr{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ne.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ve(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const dd=new Me,Ny=new I,By=new I;class gf{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new X(512,512),this.map=null,this.mapPass=null,this.matrix=new Me,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new nx,this._frameExtents=new X(1,1),this._viewportCount=1,this._viewports=[new pt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Ny.setFromMatrixPosition(e.matrixWorld),t.position.copy(Ny),By.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(By),t.updateMatrixWorld(),dd.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dd),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(dd)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class S2 extends gf{constructor(){super(new un(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=Bo*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(n!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=n,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class b2 extends pr{constructor(e,t,n=0,i=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ne.DEFAULT_UP),this.updateMatrix(),this.target=new Ne,this.distance=n,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new S2}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Dy=new Me,Co=new I,fd=new I;class M2 extends gf{constructor(){super(new un(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new X(4,2),this._viewportCount=6,this._viewports=[new pt(2,1,1,1),new pt(0,1,1,1),new pt(3,1,1,1),new pt(1,1,1,1),new pt(3,0,1,1),new pt(1,0,1,1)],this._cubeDirections=[new I(1,0,0),new I(-1,0,0),new I(0,0,1),new I(0,0,-1),new I(0,1,0),new I(0,-1,0)],this._cubeUps=[new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,1,0),new I(0,0,1),new I(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,i=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),Co.setFromMatrixPosition(e.matrixWorld),n.position.copy(Co),fd.copy(n.position),fd.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(fd),n.updateMatrixWorld(),i.makeTranslation(-Co.x,-Co.y,-Co.z),Dy.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Dy)}}class _2 extends pr{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new M2}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class xx extends Gd{constructor(e=-1,t=1,n=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=n-e,a=n+e,u=i+t,h=i-t;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=d*this.view.offsetX,a=s+d*this.view.width,u-=p*this.view.offsetY,h=u-p*this.view.height}this.projectionMatrix.makeOrthographic(s,a,u,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class C2 extends gf{constructor(){super(new xx(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class A2 extends pr{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ne.DEFAULT_UP),this.updateMatrix(),this.target=new Ne,this.shadow=new C2}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class k2 extends pr{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class T2 extends pr{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class E2{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new I)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],1.092548*(n*i)),t.addScaledVector(a[5],1.092548*(i*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(n*s)),t.addScaledVector(a[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*n),t.addScaledVector(a[4],2*.429043*n*i),t.addScaledVector(a[5],2*.429043*i*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*n*s),t.addScaledVector(a[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*n*s,t[8]=.546274*(n*n-i*i)}}class I2 extends pr{constructor(e=new E2,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class yf extends Qt{constructor(e){super(e),this.textures={}}load(e,t,n,i){const s=this,a=new Oi(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(h){i?i(h):console.error(h),s.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ve().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=n(a.value);break;case"c":i.uniforms[s].value=new ve().setHex(a.value);break;case"v2":i.uniforms[s].value=new X().fromArray(a.value);break;case"v3":i.uniforms[s].value=new I().fromArray(a.value);break;case"v4":i.uniforms[s].value=new pt().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Rn().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Me().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new X().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new X().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return yf.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:t2,SpriteMaterial:K0,RawShaderMaterial:n2,ShaderMaterial:jd,PointsMaterial:ix,MeshPhysicalMaterial:i2,MeshStandardMaterial:dx,MeshPhongMaterial:r2,MeshToonMaterial:s2,MeshNormalMaterial:o2,MeshLambertMaterial:a2,MeshDepthMaterial:l2,MeshDistanceMaterial:u2,MeshBasicMaterial:Ms,MeshMatcapMaterial:c2,LineDashedMaterial:h2,LineBasicMaterial:Vt,Material:It};return new t[e]}}class Uy{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class P2 extends ke{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class z2 extends Qt{constructor(e){super(e)}load(e,t,n,i){const s=this,a=new Oi(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(u){try{t(s.parse(JSON.parse(u)))}catch(h){i?i(h):console.error(h),s.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(x,v){if(t[v]!==void 0)return t[v];const b=x.interleavedBuffers[v],_=s(x,b.buffer),C=ds(b.type,_),A=new Yd(C,b.stride);return A.uuid=b.uuid,t[v]=A,A}function s(x,v){if(n[v]!==void 0)return n[v];const b=x.arrayBuffers[v],_=new Uint32Array(b).buffer;return n[v]=_,_}const a=e.isInstancedBufferGeometry?new P2:new ke,u=e.data.index;if(u!==void 0){const x=ds(u.type,u.array);a.setIndex(new Qe(x,1))}const h=e.data.attributes;for(const x in h){const v=h[x];let S;if(v.isInterleavedBufferAttribute){const b=i(e.data,v.data);S=new xs(b,v.itemSize,v.offset,v.normalized)}else{const b=ds(v.type,v.array),_=v.isInstancedBufferAttribute?Do:Qe;S=new _(b,v.itemSize,v.normalized)}v.name!==void 0&&(S.name=v.name),v.usage!==void 0&&S.setUsage(v.usage),a.setAttribute(x,S)}const d=e.data.morphAttributes;if(d)for(const x in d){const v=d[x],S=[];for(let b=0,_=v.length;b<_;b++){const C=v[b];let A;if(C.isInterleavedBufferAttribute){const k=i(e.data,C.data);A=new xs(k,C.itemSize,C.offset,C.normalized)}else{const k=ds(C.type,C.array);A=new Qe(k,C.itemSize,C.normalized)}C.name!==void 0&&(A.name=C.name),S.push(A)}a.morphAttributes[x]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let x=0,v=g.length;x!==v;++x){const S=g[x];a.addGroup(S.start,S.count,S.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const x=new I;m.center!==void 0&&x.fromArray(m.center),a.boundingSphere=new Et(x,m.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class bT extends Qt{constructor(e){super(e)}load(e,t,n,i){const s=this,a=this.path===""?Uy.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const u=new Oi(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let d=null;try{d=JSON.parse(h)}catch(g){i!==void 0&&i(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=d.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(d,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?Uy.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Oi(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),u=JSON.parse(a),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(u)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){t!==void 0&&t(d)}),u=this.parseTextures(e.textures,a),h=this.parseMaterials(e.materials,u),d=this.parseObject(e.object,s,h,u,n),p=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,p),this.bindLightTargets(d),t!==void 0){let g=!1;for(const m in a)if(a[m].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(d)}return d}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),u=this.parseMaterials(e.materials,a),h=this.parseObject(e.object,i,u,a,t),d=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,d),this.bindLightTargets(h),h}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const s=new gs().fromJSON(e[n]);t[s.uuid]=s}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const u=new Zd().fromJSON(e[s],i);n[u.uuid]=u}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new z2;for(let s=0,a=e.length;s<a;s++){let u;const h=e[s];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=i.parse(h);break;default:h.type in Oy?u=Oy[h.type].fromJSON(h,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),n[h.uuid]=u}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const s=new yf;s.setTextures(t);for(let a=0,u=e.length;a<u;a++){const h=e[a];n[h.uuid]===void 0&&(n[h.uuid]=s.parse(h)),i[h.uuid]=n[h.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],s=fu.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const n=this,i={};let s;function a(h){return n.manager.itemStart(h),s.load(h,function(){n.manager.itemEnd(h)},void 0,function(){n.manager.itemError(h),n.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const d=h,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;return a(p)}else return h.data?{data:ds(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new yx(t);s=new pu(h),s.setCrossOrigin(this.crossOrigin);for(let d=0,p=e.length;d<p;d++){const g=e[d],m=g.url;if(Array.isArray(m)){const x=[];for(let v=0,S=m.length;v<S;v++){const b=m[v],_=u(b);_!==null&&(_ instanceof HTMLImageElement?x.push(_):x.push(new ti(_.data,_.width,_.height)))}i[g.uuid]=new fs(x)}else{const x=u(g.url);i[g.uuid]=new fs(x)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function s(a){if(typeof a=="string"){const u=a,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await i.loadAsync(h)}else return a.data?{data:ds(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new pu(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,u=e.length;a<u;a++){const h=e[a],d=h.url;if(Array.isArray(d)){const p=[];for(let g=0,m=d.length;g<m;g++){const x=d[g],v=await s(x);v!==null&&(v instanceof HTMLImageElement?p.push(v):p.push(new ti(v.data,v.width,v.height)))}n[h.uuid]=new fs(p)}else{const p=await s(h.url);n[h.uuid]=new fs(p)}}}return n}parseTextures(e,t){function n(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const u=e[s];u.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",u.image);const h=t[u.image],d=h.data;let p;Array.isArray(d)?(p=new qd,d.length===6&&(p.needsUpdate=!0)):(d&&d.data?p=new ti:p=new ut,d&&(p.needsUpdate=!0)),p.source=h,p.uuid=u.uuid,u.name!==void 0&&(p.name=u.name),u.mapping!==void 0&&(p.mapping=n(u.mapping,R2)),u.channel!==void 0&&(p.channel=u.channel),u.offset!==void 0&&p.offset.fromArray(u.offset),u.repeat!==void 0&&p.repeat.fromArray(u.repeat),u.center!==void 0&&p.center.fromArray(u.center),u.rotation!==void 0&&(p.rotation=u.rotation),u.wrap!==void 0&&(p.wrapS=n(u.wrap[0],Vy),p.wrapT=n(u.wrap[1],Vy)),u.format!==void 0&&(p.format=u.format),u.internalFormat!==void 0&&(p.internalFormat=u.internalFormat),u.type!==void 0&&(p.type=u.type),u.colorSpace!==void 0&&(p.colorSpace=u.colorSpace),u.minFilter!==void 0&&(p.minFilter=n(u.minFilter,Wy)),u.magFilter!==void 0&&(p.magFilter=n(u.magFilter,Wy)),u.anisotropy!==void 0&&(p.anisotropy=u.anisotropy),u.flipY!==void 0&&(p.flipY=u.flipY),u.generateMipmaps!==void 0&&(p.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(p.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(p.compareFunction=u.compareFunction),u.userData!==void 0&&(p.userData=u.userData),i[u.uuid]=p}return i}parseObject(e,t,n,i,s){let a;function u(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function h(m){if(m!==void 0){if(Array.isArray(m)){const x=[];for(let v=0,S=m.length;v<S;v++){const b=m[v];n[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),x.push(n[b])}return x}return n[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),n[m]}}function d(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let p,g;switch(e.type){case"Scene":a=new t_,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new ve(e.background):a.background=d(e.background)),e.environment!==void 0&&(a.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new Xd(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new Jd(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new un(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new xx(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new k2(e.color,e.intensity);break;case"DirectionalLight":a=new A2(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new _2(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new T2(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new b2(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new w2(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new I2().fromJSON(e);break;case"SkinnedMesh":p=u(e.geometry),g=h(e.material),a=new s_(p,g),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":p=u(e.geometry),g=h(e.material),a=new bn(p,g);break;case"InstancedMesh":p=u(e.geometry),g=h(e.material);const m=e.count,x=e.instanceMatrix,v=e.instanceColor;a=new l_(p,g,m),a.instanceMatrix=new Do(new Float32Array(x.array),16),v!==void 0&&(a.instanceColor=new Do(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":p=u(e.geometry),g=h(e.material),a=new y_(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),a.geometry=p,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(S=>{const b=new Ut;b.min.fromArray(S.boxMin),b.max.fromArray(S.boxMax);const _=new Et;return _.radius=S.sphereRadius,_.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:b,sphereInitialized:S.sphereInitialized,sphere:_}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=d(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=d(e.colorsTexture.uuid));break;case"LOD":a=new i_;break;case"Line":a=new hr(u(e.geometry),h(e.material));break;case"LineLoop":a=new x_(u(e.geometry),h(e.material));break;case"LineSegments":a=new ri(u(e.geometry),h(e.material));break;case"PointCloud":case"Points":a=new v_(u(e.geometry),h(e.material));break;case"Sprite":a=new n_(h(e.material));break;case"Group":a=new w_;break;case"Bone":a=new tx;break;default:a=new Ne}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let x=0;x<m.length;x++)a.add(this.parseObject(m[x],t,n,i,s))}if(e.animations!==void 0){const m=e.animations;for(let x=0;x<m.length;x++){const v=m[x];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const m=e.levels;for(let x=0;x<m.length;x++){const v=m[x],S=a.getObjectByProperty("uuid",v.object);S!==void 0&&a.addLevel(S,v.distance,v.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);i!==void 0?t.target=i:t.target=new Ne}})}}const R2={UVMapping:Ud,CubeReflectionMapping:Vd,CubeRefractionMapping:ab,EquirectangularReflectionMapping:lb,EquirectangularRefractionMapping:ub,CubeUVReflectionMapping:cb},Vy={RepeatWrapping:Cd,ClampToEdgeWrapping:Tn,MirroredRepeatWrapping:Ad},Wy={NearestFilter:Sn,NearestMipmapNearestFilter:hb,NearestMipmapLinearFilter:db,LinearFilter:cn,LinearMipmapNearestFilter:fb,LinearMipmapLinearFilter:Su};class MT extends Qt{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Fi.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(d=>{t&&t(d),s.manager.itemEnd(e)}).catch(d=>{i&&i(d)});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader;const h=fetch(e,u).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(d){return Fi.add(e,d),t&&t(d),s.manager.itemEnd(e),d}).catch(function(d){i&&i(d),Fi.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Fi.add(e,h),s.manager.itemStart(e)}}let jl;class vx{static getContext(){return jl===void 0&&(jl=new(window.AudioContext||window.webkitAudioContext)),jl}static setContext(e){jl=e}}class _T extends Qt{constructor(e){super(e)}load(e,t,n,i){const s=this,a=new Oi(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(h){try{const d=h.slice(0);vx.getContext().decodeAudioData(d,function(g){t(g)}).catch(u)}catch(d){u(d)}},n,i);function u(h){i?i(h):console.error(h),s.manager.itemError(e)}}}const Hy=new Me,$y=new Me,rr=new Me;class CT{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new un,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new un,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,rr.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,a=t.near*Math.tan(cr*t.fov*.5)/t.zoom;let u,h;$y.elements[12]=-i,Hy.elements[12]=i,u=-a*t.aspect+s,h=a*t.aspect+s,rr.elements[0]=2*t.near/(h-u),rr.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(rr),u=-a*t.aspect-s,h=a*t.aspect-s,rr.elements[0]=2*t.near/(h-u),rr.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(rr)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($y),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Hy)}}class AT extends un{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class F2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=jy(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=jy();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function jy(){return performance.now()}const sr=new I,Gy=new Zt,L2=new I,or=new I;class kT extends Ne{constructor(){super(),this.type="AudioListener",this.context=vx.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new F2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(sr,Gy,L2),or.set(0,0,-1).applyQuaternion(Gy),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(sr.x,i),t.positionY.linearRampToValueAtTime(sr.y,i),t.positionZ.linearRampToValueAtTime(sr.z,i),t.forwardX.linearRampToValueAtTime(or.x,i),t.forwardY.linearRampToValueAtTime(or.y,i),t.forwardZ.linearRampToValueAtTime(or.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(sr.x,sr.y,sr.z),t.setOrientation(or.x,or.y,or.z,n.x,n.y,n.z)}}class O2 extends Ne{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const ar=new I,qy=new Zt,N2=new I,lr=new I;class TT extends O2{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(ar,qy,N2),lr.set(0,0,1).applyQuaternion(qy);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(ar.x,n),t.positionY.linearRampToValueAtTime(ar.y,n),t.positionZ.linearRampToValueAtTime(ar.z,n),t.orientationX.linearRampToValueAtTime(lr.x,n),t.orientationY.linearRampToValueAtTime(lr.y,n),t.orientationZ.linearRampToValueAtTime(lr.z,n)}else t.setPosition(ar.x,ar.y,ar.z),t.setOrientation(lr.x,lr.y,lr.z)}}class ET{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class B2{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,s,a;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let u=0;u!==i;++u)n[s+u]=n[u];a=t}else{a+=t;const u=t/a;this._mixBufferRegion(n,s,0,u,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const h=t*this._origIndex;this._mixBufferRegion(n,i,h,1-s,t)}a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let h=t,d=t+t;h!==d;++h)if(n[h]!==n[h+t]){u.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let s=n,a=i;s!==a;++s)t[s]=t[i+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[t+a]=e[n+a]}_slerp(e,t,n,i){Zt.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,s){const a=this._workIndex*s;Zt.multiplyQuaternionsFlat(e,a,e,t,e,n),Zt.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,n,i,s){const a=1-i;for(let u=0;u!==s;++u){const h=t+u;e[h]=e[h]*a+e[n+u]*i}}_lerpAdditive(e,t,n,i,s){for(let a=0;a!==s;++a){const u=t+a;e[u]=e[u]+e[n+a]*i}}}const xf="\\[\\]\\.:\\/",D2=new RegExp("["+xf+"]","g"),vf="[^"+xf+"]",U2="[^"+xf.replace("\\.","")+"]",V2=/((?:WC+[\/:])*)/.source.replace("WC",vf),W2=/(WCOD+)?/.source.replace("WCOD",U2),H2=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",vf),$2=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",vf),j2=new RegExp("^"+V2+W2+H2+$2+"$"),G2=["material","materials","bones","map"];class q2{constructor(e,t,n){const i=n||Oe.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Oe{constructor(e,t,n){this.path=t,this.parsedPath=n||Oe.parseTrackName(t),this.node=Oe.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Oe.Composite(e,t,n):new Oe(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(D2,"")}static parseTrackName(e){const t=j2.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=n.nodeName.substring(i+1);G2.indexOf(s)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=s)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(s){for(let a=0;a<s.length;a++){const u=s[a];if(u.name===t||u.uuid===t)return u;const h=n(u.children);if(h)return h}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,s=n.length;i!==s;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Oe.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let d=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===d){d=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const a=e[i];if(a===void 0){const d=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?u=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}h=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(h=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Oe.Composite=q2;Oe.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Oe.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Oe.prototype.GetterByBindingType=[Oe.prototype._getValue_direct,Oe.prototype._getValue_array,Oe.prototype._getValue_arrayElement,Oe.prototype._getValue_toArray];Oe.prototype.SetterByBindingTypeAndVersioning=[[Oe.prototype._setValue_direct,Oe.prototype._setValue_direct_setNeedsUpdate,Oe.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Oe.prototype._setValue_array,Oe.prototype._setValue_array_setNeedsUpdate,Oe.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Oe.prototype._setValue_arrayElement,Oe.prototype._setValue_arrayElement_setNeedsUpdate,Oe.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Oe.prototype._setValue_fromArray,Oe.prototype._setValue_fromArray_setNeedsUpdate,Oe.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class IT{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Yt(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let u,h=e.length,d=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const m=arguments[p],x=m.uuid;let v=t[x];if(v===void 0){v=h++,t[x]=v,e.push(m);for(let S=0,b=a;S!==b;++S)s[S].push(new Oe(m,n[S],i[S]))}else if(v<d){u=e[v];const S=--d,b=e[S];t[b.uuid]=v,e[v]=b,t[x]=S,e[S]=m;for(let _=0,C=a;_!==C;++_){const A=s[_],k=A[S];let P=A[v];A[v]=k,P===void 0&&(P=new Oe(m,n[_],i[_])),A[S]=P}}else e[v]!==u&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_;for(let a=0,u=arguments.length;a!==u;++a){const h=arguments[a],d=h.uuid,p=t[d];if(p!==void 0&&p>=s){const g=s++,m=e[g];t[m.uuid]=p,e[p]=m,t[d]=g,e[g]=h;for(let x=0,v=i;x!==v;++x){const S=n[x],b=S[g],_=S[p];S[p]=b,S[g]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let s=this.nCachedObjects_,a=e.length;for(let u=0,h=arguments.length;u!==h;++u){const d=arguments[u],p=d.uuid,g=t[p];if(g!==void 0)if(delete t[p],g<s){const m=--s,x=e[m],v=--a,S=e[v];t[x.uuid]=g,e[g]=x,t[S.uuid]=m,e[m]=S,e.pop();for(let b=0,_=i;b!==_;++b){const C=n[b],A=C[m],k=C[v];C[g]=A,C[m]=k,C.pop()}}else{const m=--a,x=e[m];m>0&&(t[x.uuid]=g),e[g]=x,e.pop();for(let v=0,S=i;v!==S;++v){const b=n[v];b[g]=b[m],b.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,u=this._parsedPaths,h=this._objects,d=h.length,p=this.nCachedObjects_,g=new Array(d);i=s.length,n[e]=i,a.push(e),u.push(t),s.push(g);for(let m=p,x=h.length;m!==x;++m){const v=h[m];g[m]=new Oe(v,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,u=a.length-1,h=a[u],d=e[u];t[d]=n,a[n]=h,a.pop(),s[n]=s[u],s.pop(),i[n]=i[u],i.pop()}}}class J2{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const s=t.tracks,a=s.length,u=new Array(a),h={endingStart:cs,endingEnd:cs};for(let d=0;d!==a;++d){const p=s[d].createInterpolant(null);u[d]=p,p.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=uM,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,s=e._clip.duration,a=s/i,u=i/s;e.warp(1,a,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,s=i.time,a=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=i._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,d=u.sampleValues;return h[0]=s,h[1]=s+n,d[0]=e/a,d[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const h=(e-s)*n;h<0||n===0?t=0:(this._startTime=null,t=n*h)}t*=this._updateTimeScale(e);const a=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case X0:for(let p=0,g=h.length;p!==g;++p)h[p].evaluate(a),d[p].accumulateAdditive(u);break;case Hd:default:for(let p=0,g=h.length;p!==g;++p)h[p].evaluate(a),d[p].accumulate(i,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,s=this._loopCount;const a=n===cM;if(e===0)return s===-1?i:a&&(s&1)===1?t-i:i;if(n===lM){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const u=Math.floor(i/t);i-=t*u,s+=Math.abs(u);const h=this.repetitions-s;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const d=e<0;this._setEndings(d,!d,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=i;if(a&&(s&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=hs,i.endingEnd=hs):(e?i.endingStart=this.zeroSlopeAtStart?hs:cs:i.endingStart=iu,t?i.endingEnd=this.zeroSlopeAtEnd?hs:cs:i.endingEnd=iu)}_scheduleFading(e,t,n){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const u=a.parameterPositions,h=a.sampleValues;return u[0]=s,h[0]=t,u[1]=s+e,h[1]=n,this}}const X2=new Float32Array(1);class PT extends Bi{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,u=e._interpolants,h=n.uuid,d=this._bindingsByRootAndName;let p=d[h];p===void 0&&(p={},d[h]=p);for(let g=0;g!==s;++g){const m=i[g],x=m.name;let v=p[x];if(v!==void 0)++v.referenceCount,a[g]=v;else{if(v=a[g],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,h,x));continue}const S=t&&t._propertyBindings[g].binding.parsedPath;v=new B2(Oe.create(n,x,S),m.ValueTypeName,m.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,h,x),a[g]=v}u[g].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const u=a.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,u=a[s],h=u.knownActions,d=h[h.length-1],p=e._byClipCacheIndex;d._byClipCacheIndex=p,h[p]=d,h.pop(),e._byClipCacheIndex=null;const g=u.actionByRoot,m=(e._localRoot||this._root).uuid;delete g[m],h.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const s=t[n];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,s=n.path,a=this._bindingsByRootAndName,u=a[i],h=t[t.length-1],d=e._cacheIndex;h._cacheIndex=d,t[d]=h,t.pop(),delete u[s],Object.keys(u).length===0&&delete a[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=n,t[n]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new mx(new Float32Array(2),new Float32Array(2),1,X2),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=n,t[n]=s}clipAction(e,t,n){const i=t||this._root,s=i.uuid;let a=typeof e=="string"?fu.findByName(i,e):e;const u=a!==null?a.uuid:e,h=this._actionsByClip[u];let d=null;if(n===void 0&&(a!==null?n=a.blendMode:n=Hd),h!==void 0){const g=h.actionByRoot[s];if(g!==void 0&&g.blendMode===n)return g;d=h.knownActions[0],a===null&&(a=d._clip)}if(a===null)return null;const p=new J2(this,a,t,n);return this._bindAction(p,d),this._addInactiveAction(p,u,s),p}existingAction(e,t){const n=t||this._root,i=n.uuid,s=typeof e=="string"?fu.findByName(n,e):e,a=s?s.uuid:e,u=this._actionsByClip[a];return u!==void 0&&u.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let d=0;d!==n;++d)t[d]._update(i,e,s,a);const u=this._bindings,h=this._nActiveBindings;for(let d=0;d!==h;++d)u[d].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,s=i[n];if(s!==void 0){const a=s.knownActions;for(let u=0,h=a.length;u!==h;++u){const d=a[u];this._deactivateAction(d);const p=d._cacheIndex,g=t[t.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=p,t[p]=g,t.pop(),this._removeInactiveBindingsForAction(d)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const a in n){const u=n[a].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const a in s){const u=s[a];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class wx{constructor(e){this.value=e}clone(){return new wx(this.value.clone===void 0?this.value:this.value.clone())}}let Y2=0;class zT extends Bi{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Y2++}),this.name="",this.usage=ru,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const s=Array.isArray(t[n])?t[n]:[t[n]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class RT extends Yd{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class FT{constructor(e,t,n,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Jy=new Me;class LT{constructor(e,t,n=0,i=1/0){this.ray=new Jo(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Z0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Jy.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Jy),this}intersectObject(e,t=!0,n=[]){return zd(e,this,n,t),n.sort(Xy),n}intersectObjects(e,t=!0,n=[]){for(let i=0,s=e.length;i<s;i++)zd(e[i],this,n,t);return n.sort(Xy),n}}function Xy(l,e){return l.distance-e.distance}function zd(l,e,t,n){let i=!0;if(l.layers.test(e.layers)&&l.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const s=l.children;for(let a=0,u=s.length;a<u;a++)zd(s[a],e,t,!0)}}class OT{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xe(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(xe(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class NT{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class Sx{constructor(e,t,n,i){Sx.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const s=this.elements;return s[0]=e,s[2]=t,s[1]=n,s[3]=i,this}}const Yy=new X;class BT{constructor(e=new X(1/0,1/0),t=new X(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Yy.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yy).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Zy=new I,Gl=new I;class DT{constructor(e=new I,t=new I){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Zy.subVectors(e,this.start),Gl.subVectors(this.end,this.start);const n=Gl.dot(Gl);let s=Gl.dot(Zy)/n;return t&&(s=xe(s,0,1)),s}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Qy=new I;class UT extends Ne{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new ke,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,u=1,h=32;a<h;a++,u++){const d=a/h*Math.PI*2,p=u/h*Math.PI*2;i.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}n.setAttribute("position",new le(i,3));const s=new Vt({fog:!1,toneMapped:!1});this.cone=new ri(n,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Qy.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Qy),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const zi=new I,ql=new Me,pd=new Me;class VT extends ri{constructor(e){const t=bx(e),n=new ke,i=[],s=[],a=new ve(0,0,1),u=new ve(0,1,0);for(let d=0;d<t.length;d++){const p=t[d];p.parent&&p.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(u.r,u.g,u.b))}n.setAttribute("position",new le(i,3)),n.setAttribute("color",new le(s,3));const h=new Vt({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");pd.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const u=t[s];u.parent&&u.parent.isBone&&(ql.multiplyMatrices(pd,u.matrixWorld),zi.setFromMatrixPosition(ql),i.setXYZ(a,zi.x,zi.y,zi.z),ql.multiplyMatrices(pd,u.parent.matrixWorld),zi.setFromMatrixPosition(ql),i.setXYZ(a+1,zi.x,zi.y,zi.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function bx(l){const e=[];l.isBone===!0&&e.push(l);for(let t=0;t<l.children.length;t++)e.push.apply(e,bx(l.children[t]));return e}class WT extends bn{constructor(e,t,n){const i=new Tu(t,4,2),s=new Ms({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Z2=new I,Ky=new ve,e0=new ve;class HT extends Ne{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new ku(t);i.rotateY(Math.PI*.5),this.material=new Ms({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Qe(a,3)),this.add(new bn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Ky.copy(this.light.color),e0.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const s=n<i/2?Ky:e0;t.setXYZ(n,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Z2.setFromMatrixPosition(this.light.matrixWorld).negate())}}class $T extends ri{constructor(e=10,t=10,n=4473924,i=8947848){n=new ve(n),i=new ve(i);const s=t/2,a=e/t,u=e/2,h=[],d=[];for(let m=0,x=0,v=-u;m<=t;m++,v+=a){h.push(-u,0,v,u,0,v),h.push(v,0,-u,v,0,u);const S=m===s?n:i;S.toArray(d,x),x+=3,S.toArray(d,x),x+=3,S.toArray(d,x),x+=3,S.toArray(d,x),x+=3}const p=new ke;p.setAttribute("position",new le(h,3)),p.setAttribute("color",new le(d,3));const g=new Vt({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jT extends ri{constructor(e=10,t=16,n=8,i=64,s=4473924,a=8947848){s=new ve(s),a=new ve(a);const u=[],h=[];if(t>1)for(let g=0;g<t;g++){const m=g/t*(Math.PI*2),x=Math.sin(m)*e,v=Math.cos(m)*e;u.push(0,0,0),u.push(x,0,v);const S=g&1?s:a;h.push(S.r,S.g,S.b),h.push(S.r,S.g,S.b)}for(let g=0;g<n;g++){const m=g&1?s:a,x=e-e/n*g;for(let v=0;v<i;v++){let S=v/i*(Math.PI*2),b=Math.sin(S)*x,_=Math.cos(S)*x;u.push(b,0,_),h.push(m.r,m.g,m.b),S=(v+1)/i*(Math.PI*2),b=Math.sin(S)*x,_=Math.cos(S)*x,u.push(b,0,_),h.push(m.r,m.g,m.b)}}const d=new ke;d.setAttribute("position",new le(u,3)),d.setAttribute("color",new le(h,3));const p=new Vt({vertexColors:!0,toneMapped:!1});super(d,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const t0=new I,Jl=new I,n0=new I;class GT extends Ne{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new ke;i.setAttribute("position",new le([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Vt({fog:!1,toneMapped:!1});this.lightPlane=new hr(i,s),this.add(this.lightPlane),i=new ke,i.setAttribute("position",new le([0,0,0,0,0,1],3)),this.targetLine=new hr(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),t0.setFromMatrixPosition(this.light.matrixWorld),Jl.setFromMatrixPosition(this.light.target.matrixWorld),n0.subVectors(Jl,t0),this.lightPlane.lookAt(Jl),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Jl),this.targetLine.scale.z=n0.length()}}const Xl=new I,et=new Gd;class qT extends ri{constructor(e){const t=new ke,n=new Vt({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(v,S){h(v),h(S)}function h(v){i.push(0,0,0),s.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}t.setAttribute("position",new le(i,3)),t.setAttribute("color",new le(s,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const d=new ve(16755200),p=new ve(16711680),g=new ve(43775),m=new ve(16777215),x=new ve(3355443);this.setColors(d,p,g,m,x)}setColors(e,t,n,i,s){const u=this.geometry.getAttribute("color");u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,n.r,n.g,n.b),u.setXYZ(33,n.r,n.g,n.b),u.setXYZ(34,n.r,n.g,n.b),u.setXYZ(35,n.r,n.g,n.b),u.setXYZ(36,n.r,n.g,n.b),u.setXYZ(37,n.r,n.g,n.b),u.setXYZ(38,i.r,i.g,i.b),u.setXYZ(39,i.r,i.g,i.b),u.setXYZ(40,s.r,s.g,s.b),u.setXYZ(41,s.r,s.g,s.b),u.setXYZ(42,s.r,s.g,s.b),u.setXYZ(43,s.r,s.g,s.b),u.setXYZ(44,s.r,s.g,s.b),u.setXYZ(45,s.r,s.g,s.b),u.setXYZ(46,s.r,s.g,s.b),u.setXYZ(47,s.r,s.g,s.b),u.setXYZ(48,s.r,s.g,s.b),u.setXYZ(49,s.r,s.g,s.b),u.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;et.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),rt("c",t,e,et,0,0,-1),rt("t",t,e,et,0,0,1),rt("n1",t,e,et,-n,-i,-1),rt("n2",t,e,et,n,-i,-1),rt("n3",t,e,et,-n,i,-1),rt("n4",t,e,et,n,i,-1),rt("f1",t,e,et,-n,-i,1),rt("f2",t,e,et,n,-i,1),rt("f3",t,e,et,-n,i,1),rt("f4",t,e,et,n,i,1),rt("u1",t,e,et,n*.7,i*1.1,-1),rt("u2",t,e,et,-n*.7,i*1.1,-1),rt("u3",t,e,et,0,i*2,-1),rt("cf1",t,e,et,-n,0,1),rt("cf2",t,e,et,n,0,1),rt("cf3",t,e,et,0,-i,1),rt("cf4",t,e,et,0,i,1),rt("cn1",t,e,et,-n,0,-1),rt("cn2",t,e,et,n,0,-1),rt("cn3",t,e,et,0,-i,-1),rt("cn4",t,e,et,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function rt(l,e,t,n,i,s,a){Xl.set(i,s,a).unproject(n);const u=e[l];if(u!==void 0){const h=t.getAttribute("position");for(let d=0,p=u.length;d<p;d++)h.setXYZ(u[d],Xl.x,Xl.y,Xl.z)}}const Yl=new Ut;class JT extends ri{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new ke;s.setIndex(new Qe(n,1)),s.setAttribute("position",new Qe(i,3)),super(s,new Vt({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Yl.setFromObject(this.object),Yl.isEmpty())return;const t=Yl.min,n=Yl.max,i=this.geometry.attributes.position,s=i.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=t.x,s[4]=n.y,s[5]=n.z,s[6]=t.x,s[7]=t.y,s[8]=n.z,s[9]=n.x,s[10]=t.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=t.z,s[15]=t.x,s[16]=n.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=n.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class XT extends ri{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new ke;s.setIndex(new Qe(n,1)),s.setAttribute("position",new le(i,3)),super(s,new Vt({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class YT extends hr{constructor(e,t=1,n=16776960){const i=n,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new ke;a.setAttribute("position",new le(s,3)),a.computeBoundingSphere(),super(a,new Vt({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new ke;h.setAttribute("position",new le(u,3)),h.computeBoundingSphere(),this.add(new bn(h,new Ms({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const i0=new I;let Zl,md;class ZT extends Ne{constructor(e=new I(0,0,1),t=new I(0,0,0),n=1,i=16776960,s=n*.2,a=s*.2){super(),this.type="ArrowHelper",Zl===void 0&&(Zl=new ke,Zl.setAttribute("position",new le([0,0,0,0,1,0],3)),md=new Xo(0,.5,1,5,1),md.translate(0,-.5,0)),this.position.copy(t),this.line=new hr(Zl,new Vt({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new bn(md,new Ms({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{i0.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(i0,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class QT extends ri{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ke;i.setAttribute("position",new le(t,3)),i.setAttribute("color",new le(n,3));const s=new Vt({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,n){const i=new ve,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(n),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class KT{constructor(){this.type="ShapePath",this.color=new ve,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new cu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,s,a){return this.currentPath.bezierCurveTo(e,t,n,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const C=[];for(let A=0,k=_.length;A<k;A++){const P=_[A],E=new gs;E.curves=P.curves,C.push(E)}return C}function n(_,C){const A=C.length;let k=!1;for(let P=A-1,E=0;E<A;P=E++){let R=C[P],N=C[E],W=N.x-R.x,G=N.y-R.y;if(Math.abs(G)>Number.EPSILON){if(G<0&&(R=C[E],W=-W,N=C[P],G=-G),_.y<R.y||_.y>N.y)continue;if(_.y===R.y){if(_.x===R.x)return!0}else{const K=G*(_.x-R.x)-W*(_.y-R.y);if(K===0)return!0;if(K<0)continue;k=!k}}else{if(_.y!==R.y)continue;if(N.x<=_.x&&_.x<=R.x||R.x<=_.x&&_.x<=N.x)return!0}}return k}const i=ni.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,u,h;const d=[];if(s.length===1)return u=s[0],h=new gs,h.curves=u.curves,d.push(h),d;let p=!i(s[0].getPoints());p=e?!p:p;const g=[],m=[];let x=[],v=0,S;m[v]=void 0,x[v]=[];for(let _=0,C=s.length;_<C;_++)u=s[_],S=u.getPoints(),a=i(S),a=e?!a:a,a?(!p&&m[v]&&v++,m[v]={s:new gs,p:S},m[v].s.curves=u.curves,p&&v++,x[v]=[]):x[v].push({h:u,p:S[0]});if(!m[0])return t(s);if(m.length>1){let _=!1,C=0;for(let A=0,k=m.length;A<k;A++)g[A]=[];for(let A=0,k=m.length;A<k;A++){const P=x[A];for(let E=0;E<P.length;E++){const R=P[E];let N=!0;for(let W=0;W<m.length;W++)n(R.p,m[W].p)&&(A!==W&&C++,N?(N=!1,g[W].push(R)):_=!0);N&&g[A].push(R)}}C>0&&_===!1&&(x=g)}let b;for(let _=0,C=m.length;_<C;_++){h=m[_].s,d.push(h),b=x[_];for(let A=0,k=b.length;A<k;A++)h.holes.push(b[A].h)}return d}}class eE extends Bi{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function Q2(l,e){const t=l.image&&l.image.width?l.image.width/l.image.height:1;return t>e?(l.repeat.x=1,l.repeat.y=t/e,l.offset.x=0,l.offset.y=(1-l.repeat.y)/2):(l.repeat.x=e/t,l.repeat.y=1,l.offset.x=(1-l.repeat.x)/2,l.offset.y=0),l}function K2(l,e){const t=l.image&&l.image.width?l.image.width/l.image.height:1;return t>e?(l.repeat.x=e/t,l.repeat.y=1,l.offset.x=(1-l.repeat.x)/2,l.offset.y=0):(l.repeat.x=1,l.repeat.y=t/e,l.offset.x=0,l.offset.y=(1-l.repeat.y)/2),l}function eC(l){return l.repeat.x=1,l.repeat.y=1,l.offset.x=0,l.offset.y=0,l}function tC(l,e,t,n){const i=nC(n);switch(t){case Mb:return l*e;case Cb:return l*e;case Ab:return l*e*2;case q0:return l*e/i.components*i.byteLength;case J0:return l*e/i.components*i.byteLength;case kb:return l*e*2/i.components*i.byteLength;case Tb:return l*e*2/i.components*i.byteLength;case _b:return l*e*3/i.components*i.byteLength;case No:return l*e*4/i.components*i.byteLength;case Eb:return l*e*4/i.components*i.byteLength;case Ib:case Pb:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*8;case zb:case Rb:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*16;case Lb:case Nb:return Math.max(l,16)*Math.max(e,8)/4;case Fb:case Ob:return Math.max(l,8)*Math.max(e,8)/2;case Bb:case Db:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*8;case Ub:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*16;case Vb:return Math.floor((l+3)/4)*Math.floor((e+3)/4)*16;case Wb:return Math.floor((l+4)/5)*Math.floor((e+3)/4)*16;case Hb:return Math.floor((l+4)/5)*Math.floor((e+4)/5)*16;case $b:return Math.floor((l+5)/6)*Math.floor((e+4)/5)*16;case jb:return Math.floor((l+5)/6)*Math.floor((e+5)/6)*16;case Gb:return Math.floor((l+7)/8)*Math.floor((e+4)/5)*16;case qb:return Math.floor((l+7)/8)*Math.floor((e+5)/6)*16;case Jb:return Math.floor((l+7)/8)*Math.floor((e+7)/8)*16;case Xb:return Math.floor((l+9)/10)*Math.floor((e+4)/5)*16;case Yb:return Math.floor((l+9)/10)*Math.floor((e+5)/6)*16;case Zb:return Math.floor((l+9)/10)*Math.floor((e+7)/8)*16;case Qb:return Math.floor((l+9)/10)*Math.floor((e+9)/10)*16;case Kb:return Math.floor((l+11)/12)*Math.floor((e+9)/10)*16;case eM:return Math.floor((l+11)/12)*Math.floor((e+11)/12)*16;case tM:case nM:case iM:return Math.ceil(l/4)*Math.ceil(e/4)*16;case rM:case sM:return Math.ceil(l/4)*Math.ceil(e/4)*8;case oM:case aM:return Math.ceil(l/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function nC(l){switch(l){case G0:case pb:return{byteLength:1,components:1};case gb:case mb:case xb:return{byteLength:2,components:1};case vb:case wb:return{byteLength:2,components:4};case Wd:case yb:case ys:return{byteLength:4,components:1};case bb:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${l}.`)}const tE={contain:Q2,cover:K2,fill:eC,getByteLength:tC};class nE extends bu{constructor(e=1,t=1,n=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,t,{...i,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:$0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=$0);let Ao=0;const iC=B0(l=>(Po.onStart=(e,t,n)=>{l({active:!0,item:e,loaded:t,total:n,progress:(t-Ao)/(n-Ao)*100})},Po.onLoad=()=>{l({active:!1})},Po.onError=e=>l(t=>({errors:[...t.errors,e]})),Po.onProgress=(e,t,n)=>{t===n&&(Ao=n),l({active:!0,item:e,loaded:t,total:n,progress:(t-Ao)/(n-Ao)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),rC="_container_10585_1",sC="_close_10585_22",oC="_content_10585_34",Zn={container:rC,close:sC,content:oC},aC=U.memo(function({className:e,children:t}){const{progress:n}=iC(),[i,s]=U.useState(!1),a=Ni(),{trackPageview:u}=kv();return U.useEffect(u,[a,u]),U.useEffect(()=>{n<100&&a.pathname==="/"||setTimeout(()=>s(!0),1e3)},[n,a,i]),Be.jsxs(Be.Fragment,{children:[Be.jsx("div",{className:us(Zn.container,i&&Zn.close)}),Be.jsx("div",{className:us(Zn.container,i&&Zn.close)}),Be.jsx("div",{className:us(Zn.container,i&&Zn.close)}),Be.jsx("div",{className:us(Zn.container,i&&Zn.close),children:Be.jsx("div",{className:Zn.content,children:Be.jsxs("p",{children:[Math.round(n),"%"]})})}),Be.jsx("div",{className:us(e),children:t})]})}),{Home:lC}=OS(()=>oS(()=>import("./Home-B4ByWW2I.js").then(l=>l.H),__vite__mapDeps([0,1]))),uC=U.memo(()=>Be.jsxs(Be.Fragment,{children:[Be.jsx(LS,{}),Be.jsx(rb,{}),Be.jsx(aC,{children:Be.jsx(U.Suspense,{fallback:Be.jsx("div",{children:"loading..."}),children:Be.jsx(_w,{children:Be.jsx(z0,{element:Be.jsx(lC,{}),path:"/"})})})})]})),ye=l=>typeof l=="string",ko=()=>{let l,e;const t=new Promise((n,i)=>{l=n,e=i});return t.resolve=l,t.reject=e,t},r0=l=>l==null?"":""+l,cC=(l,e,t)=>{l.forEach(n=>{e[n]&&(t[n]=e[n])})},hC=/###/g,s0=l=>l&&l.indexOf("###")>-1?l.replace(hC,"."):l,o0=l=>!l||ye(l),Lo=(l,e,t)=>{const n=ye(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(o0(l))return{};const s=s0(n[i]);!l[s]&&t&&(l[s]=new t),Object.prototype.hasOwnProperty.call(l,s)?l=l[s]:l={},++i}return o0(l)?{}:{obj:l,k:s0(n[i])}},a0=(l,e,t)=>{const{obj:n,k:i}=Lo(l,e,Object);if(n!==void 0||e.length===1){n[i]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),u=Lo(l,a,Object);for(;u.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),u=Lo(l,a,Object),u&&u.obj&&typeof u.obj[`${u.k}.${s}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${s}`]=t},dC=(l,e,t,n)=>{const{obj:i,k:s}=Lo(l,e,Object);i[s]=i[s]||[],i[s].push(t)},mu=(l,e)=>{const{obj:t,k:n}=Lo(l,e);if(t)return t[n]},fC=(l,e,t)=>{const n=mu(l,t);return n!==void 0?n:mu(e,t)},Mx=(l,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in l?ye(l[n])||l[n]instanceof String||ye(e[n])||e[n]instanceof String?t&&(l[n]=e[n]):Mx(l[n],e[n],t):l[n]=e[n]);return l},as=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var pC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const mC=l=>ye(l)?l.replace(/[&<>"'\/]/g,e=>pC[e]):l;class gC{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const yC=[" ",",","?","!",";"],xC=new gC(20),vC=(l,e,t)=>{e=e||"",t=t||"";const n=yC.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(n.length===0)return!0;const i=xC.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(l);if(!s){const a=l.indexOf(t);a>0&&!i.test(l.substring(0,a))&&(s=!0)}return s},Rd=function(l,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!l)return;if(l[e])return l[e];const n=e.split(t);let i=l;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let a,u="";for(let h=s;h<n.length;++h)if(h!==s&&(u+=t),u+=n[h],a=i[u],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&h<n.length-1)continue;s+=h-s+1;break}i=a}return i},gu=l=>l&&l.replace("_","-"),wC={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,e){console&&console[l]&&console[l].apply(console,e)}};class yu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||wC,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(ye(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new yu(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new yu(this.logger,e)}}var En=new yu;class Pu{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[u,h]=a;for(let d=0;d<h;d++)u(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[u,h]=a;for(let d=0;d<h;d++)u.apply(u,[e,...n])})}}class l0 extends Pu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],n&&(Array.isArray(n)?u.push(...n):ye(n)&&s?u.push(...n.split(s)):u.push(n)));const h=mu(this.data,u);return!h&&!t&&!n&&e.indexOf(".")>-1&&(e=u[0],t=u[1],n=u.slice(2).join(".")),h||!a||!ye(n)?h:Rd(this.data&&this.data[e]&&this.data[e][t],n,s)}addResource(e,t,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let u=[e,t];n&&(u=u.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(u=e.split("."),i=t,t=u[1]),this.addNamespaces(t),a0(this.data,u,i),s.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(ye(n[s])||Array.isArray(n[s]))&&this.addResource(e,t,s,n[s],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),i=n,n=t,t=u[1]),this.addNamespaces(t);let h=mu(this.data,u)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Mx(h,n,s):h={...h,...n},a0(this.data,u,h),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var _x={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,e,t,n,i){return l.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,t,n,i))}),e}};const u0={};class xu extends Pu{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),cC(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=En.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,t);return n&&n.res!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!vC(e,n,i);if(a&&!u){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:ye(s)?[s]:s};const d=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(d[0])>-1)&&(s=d.shift()),e=d.join(i)}return{key:e,namespaces:ye(s)?[s]:s}}translate(e,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:u}=this.extractFromKey(e[e.length-1],t),h=u[u.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(p){const k=t.nsSeparator||this.options.nsSeparator;return i?{res:`${h}${k}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:h,usedParams:this.getUsedParamsDetails(t)}:`${h}${k}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:h,usedParams:this.getUsedParamsDetails(t)}:a}const g=this.resolve(e,t);let m=g&&g.res;const x=g&&g.usedKey||a,v=g&&g.exactUsedKey||a,S=Object.prototype.toString.apply(m),b=["[object Number]","[object Function]","[object RegExp]"],_=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,A=!ye(m)&&typeof m!="boolean"&&typeof m!="number";if(C&&m&&A&&b.indexOf(S)<0&&!(ye(_)&&Array.isArray(m))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,m,{...t,ns:u}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(g.res=k,g.usedParams=this.getUsedParamsDetails(t),g):k}if(s){const k=Array.isArray(m),P=k?[]:{},E=k?v:x;for(const R in m)if(Object.prototype.hasOwnProperty.call(m,R)){const N=`${E}${s}${R}`;P[R]=this.translate(N,{...t,joinArrays:!1,ns:u}),P[R]===N&&(P[R]=m[R])}m=P}}else if(C&&ye(_)&&Array.isArray(m))m=m.join(_),m&&(m=this.extendTranslation(m,e,t,n));else{let k=!1,P=!1;const E=t.count!==void 0&&!ye(t.count),R=xu.hasDefaultValue(t),N=E?this.pluralResolver.getSuffix(d,t.count,t):"",W=t.ordinal&&E?this.pluralResolver.getSuffix(d,t.count,{ordinal:!1}):"",G=E&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),K=G&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${N}`]||t[`defaultValue${W}`]||t.defaultValue;!this.isValidLookup(m)&&R&&(k=!0,m=K),this.isValidLookup(m)||(P=!0,m=a);const de=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&P?void 0:m,fe=R&&K!==m&&this.options.updateMissing;if(P||k||fe){if(this.logger.log(fe?"updateKey":"missingKey",d,h,a,fe?K:m),s){const j=this.resolve(a,{...t,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let _e=[];const we=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&we&&we[0])for(let j=0;j<we.length;j++)_e.push(we[j]);else this.options.saveMissingTo==="all"?_e=this.languageUtils.toResolveHierarchy(t.lng||this.language):_e.push(t.lng||this.language);const Ce=(j,Z,J)=>{const F=R&&J!==m?J:de;this.options.missingKeyHandler?this.options.missingKeyHandler(j,h,Z,F,fe,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(j,h,Z,F,fe,t),this.emit("missingKey",j,h,Z,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?_e.forEach(j=>{const Z=this.pluralResolver.getSuffixes(j,t);G&&t[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(J=>{Ce([j],a+J,t[`defaultValue${J}`]||K)})}):Ce(_e,a,K))}m=this.extendTranslation(m,e,t,g,n),P&&m===a&&this.options.appendNamespaceToMissingKey&&(m=`${h}:${a}`),(P||k)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}:${a}`:a,k?m:void 0):m=this.options.parseMissingKeyHandler(m))}return i?(g.res=m,g.usedParams=this.getUsedParamsDetails(t),g):m}extendTranslation(e,t,n,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=ye(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let p;if(d){const m=e.match(this.interpolator.nestingRegexp);p=m&&m.length}let g=n.replace&&!ye(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,n.lng||this.language||i.usedLng,n),d){const m=e.match(this.interpolator.nestingRegexp),x=m&&m.length;p<x&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var m=arguments.length,x=new Array(m),v=0;v<m;v++)x[v]=arguments[v];return s&&s[0]===x[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${t[0]}`),null):a.translate(...x,t)},n)),n.interpolation&&this.interpolator.reset()}const u=n.postProcess||this.options.postProcess,h=ye(u)?[u]:u;return e!=null&&h&&h.length&&n.applyPostProcessor!==!1&&(e=_x.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,a,u;return ye(e)&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(h,t),p=d.key;i=p;let g=d.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const m=t.count!==void 0&&!ye(t.count),x=m&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),v=t.context!==void 0&&(ye(t.context)||typeof t.context=="number")&&t.context!=="",S=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);g.forEach(b=>{this.isValidLookup(n)||(u=b,!u0[`${S[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(u0[`${S[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(_=>{if(this.isValidLookup(n))return;a=_;const C=[p];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(C,p,_,b,t);else{let k;m&&(k=this.pluralResolver.getSuffix(_,t.count,t));const P=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(C.push(p+k),t.ordinal&&k.indexOf(E)===0&&C.push(p+k.replace(E,this.options.pluralSeparator)),x&&C.push(p+P)),v){const R=`${p}${this.options.contextSeparator}${t.context}`;C.push(R),m&&(C.push(R+k),t.ordinal&&k.indexOf(E)===0&&C.push(R+k.replace(E,this.options.pluralSeparator)),x&&C.push(R+P))}}let A;for(;A=C.pop();)this.isValidLookup(n)||(s=A,n=this.getResource(_,b,A,t))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!ye(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of t)delete i[s]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}const gd=l=>l.charAt(0).toUpperCase()+l.slice(1);class c0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=En.create("languageUtils")}getScriptPartFromCode(e){if(e=gu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=gu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ye(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=gd(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=gd(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=gd(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),ye(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return ye(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):ye(e)&&s(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}let SC=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],bC={1:l=>+(l>1),2:l=>+(l!=1),3:l=>0,4:l=>l%10==1&&l%100!=11?0:l%10>=2&&l%10<=4&&(l%100<10||l%100>=20)?1:2,5:l=>l==0?0:l==1?1:l==2?2:l%100>=3&&l%100<=10?3:l%100>=11?4:5,6:l=>l==1?0:l>=2&&l<=4?1:2,7:l=>l==1?0:l%10>=2&&l%10<=4&&(l%100<10||l%100>=20)?1:2,8:l=>l==1?0:l==2?1:l!=8&&l!=11?2:3,9:l=>+(l>=2),10:l=>l==1?0:l==2?1:l<7?2:l<11?3:4,11:l=>l==1||l==11?0:l==2||l==12?1:l>2&&l<20?2:3,12:l=>+(l%10!=1||l%100==11),13:l=>+(l!==0),14:l=>l==1?0:l==2?1:l==3?2:3,15:l=>l%10==1&&l%100!=11?0:l%10>=2&&(l%100<10||l%100>=20)?1:2,16:l=>l%10==1&&l%100!=11?0:l!==0?1:2,17:l=>l==1||l%10==1&&l%100!=11?0:1,18:l=>l==0?0:l==1?1:2,19:l=>l==1?0:l==0||l%100>1&&l%100<11?1:l%100>10&&l%100<20?2:3,20:l=>l==1?0:l==0||l%100>0&&l%100<20?1:2,21:l=>l%100==1?1:l%100==2?2:l%100==3||l%100==4?3:0,22:l=>l==1?0:l==2?1:(l<0||l>10)&&l%10==0?2:3};const MC=["v1","v2","v3"],_C=["v4"],h0={zero:0,one:1,two:2,few:3,many:4,other:5},CC=()=>{const l={};return SC.forEach(e=>{e.lngs.forEach(t=>{l[t]={numbers:e.nr,plurals:bC[e.fc]}})}),l};class AC{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=En.create("pluralResolver"),(!this.options.compatibilityJSON||_C.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=CC(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=gu(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const h=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(h,t)}return this.pluralRulesCache[s]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${t}${i}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,s)=>h0[i]-h0[s]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!MC.includes(this.options.compatibilityJSON)}}const d0=function(l,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=fC(l,e,t);return!s&&i&&ye(t)&&(s=Rd(l,t,n),s===void 0&&(s=Rd(e,t,n))),s},yd=l=>l.replace(/\$/g,"$$$$");class kC{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=En.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:u,suffixEscaped:h,formatSeparator:d,unescapeSuffix:p,unescapePrefix:g,nestingPrefix:m,nestingPrefixEscaped:x,nestingSuffix:v,nestingSuffixEscaped:S,nestingOptionsSeparator:b,maxReplaces:_,alwaysFormat:C}=e.interpolation;this.escape=t!==void 0?t:mC,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?as(s):a||"{{",this.suffix=u?as(u):h||"}}",this.formatSeparator=d||",",this.unescapePrefix=p?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=m?as(m):x||as("$t("),this.nestingSuffix=v?as(v):S||as(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=_||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t&&t.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let s,a,u;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=x=>{if(x.indexOf(this.formatSeparator)<0){const _=d0(t,h,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,n,{...i,...t,interpolationkey:x}):_}const v=x.split(this.formatSeparator),S=v.shift().trim(),b=v.join(this.formatSeparator).trim();return this.format(d0(t,h,S,this.options.keySeparator,this.options.ignoreJSONStructure),b,n,{...i,...t,interpolationkey:S})};this.resetRegExp();const p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>yd(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?yd(this.escape(x)):yd(x)}].forEach(x=>{for(u=0;s=x.regex.exec(e);){const v=s[1].trim();if(a=d(v),a===void 0)if(typeof p=="function"){const b=p(e,s,i);a=ye(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))a="";else if(g){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),a="";else!ye(a)&&!this.useRawValueToEscape&&(a=r0(a));const S=x.safeValue(a);if(e=e.replace(s[0],S),g?(x.regex.lastIndex+=a.length,x.regex.lastIndex-=s[0].length):x.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a;const u=(h,d)=>{const p=this.nestingOptionsSeparator;if(h.indexOf(p)<0)return h;const g=h.split(new RegExp(`${p}[ ]*{`));let m=`{${g[1]}`;h=g[0],m=this.interpolate(m,a);const x=m.match(/'/g),v=m.match(/"/g);(x&&x.length%2===0&&!v||v.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),d&&(a={...d,...a})}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,S),`${h}${p}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,h};for(;i=this.nestingRegexp.exec(e);){let h=[];a={...n},a=a.replace&&!ye(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const p=i[1].split(this.formatSeparator).map(g=>g.trim());i[1]=p.shift(),h=p,d=!0}if(s=t(u.call(this,i[1].trim(),a),a),s&&i[0]===e&&!ye(s))return s;ye(s)||(s=r0(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),d&&(s=h.reduce((p,g)=>this.format(p,g,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const TC=l=>{let e=l.toLowerCase().trim();const t={};if(l.indexOf("(")>-1){const n=l.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(a=>{if(a){const[u,...h]=a.split(":"),d=h.join(":").trim().replace(/^'+|'+$/g,""),p=u.trim();t[p]||(t[p]=d),d==="false"&&(t[p]=!1),d==="true"&&(t[p]=!0),isNaN(d)||(t[p]=parseInt(d,10))}})}return{formatName:e,formatOptions:t}},ls=l=>{const e={};return(t,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=n+JSON.stringify(s);let u=e[a];return u||(u=l(gu(n),i),e[a]=u),u(t)}};class EC{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=En.create("formatter"),this.options=e,this.formats={number:ls((t,n)=>{const i=new Intl.NumberFormat(t,{...n});return s=>i.format(s)}),currency:ls((t,n)=>{const i=new Intl.NumberFormat(t,{...n,style:"currency"});return s=>i.format(s)}),datetime:ls((t,n)=>{const i=new Intl.DateTimeFormat(t,{...n});return s=>i.format(s)}),relativetime:ls((t,n)=>{const i=new Intl.RelativeTimeFormat(t,{...n});return s=>i.format(s,n.range||"day")}),list:ls((t,n)=>{const i=new Intl.ListFormat(t,{...n});return s=>i.format(s)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ls(t)}format(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(u=>u.indexOf(")")>-1)){const u=s.findIndex(h=>h.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,u)].join(this.formatSeparator)}return s.reduce((u,h)=>{const{formatName:d,formatOptions:p}=TC(h);if(this.formats[d]){let g=u;try{const m=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},x=m.locale||m.lng||i.locale||i.lng||n;g=this.formats[d](u,x,{...p,...i,...m})}catch(m){this.logger.warn(m)}return g}else this.logger.warn(`there was no format function for ${d}`);return u},e)}}const IC=(l,e)=>{l.pending[e]!==void 0&&(delete l.pending[e],l.pendingCount--)};class PC extends Pu{constructor(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=En.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const s={},a={},u={},h={};return e.forEach(d=>{let p=!0;t.forEach(g=>{const m=`${d}|${g}`;!n.reload&&this.store.hasResourceBundle(d,g)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,p=!1,a[m]===void 0&&(a[m]=!0),s[m]===void 0&&(s[m]=!0),h[g]===void 0&&(h[g]=!0)))}),p||(u[d]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(h)}}loaded(e,t,n){const i=e.split("|"),s=i[0],a=i[1];t&&this.emit("failedLoading",s,a,t),!t&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const u={};this.queue.forEach(h=>{dC(h.loaded,[s],a),IC(h,e),t&&h.errors.push(t),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(d=>{u[d]||(u[d]={});const p=h.loaded[d];p.length&&p.forEach(g=>{u[d][g]===void 0&&(u[d][g]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(h=>!h.done)}read(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;const u=(d,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(d&&p&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,i+1,s*2,a)},s);return}a(d,p)},h=this.backend[n].bind(this.backend);if(h.length===2){try{const d=h(e,t);d&&typeof d.then=="function"?d.then(p=>u(null,p)).catch(u):u(null,d)}catch(d){u(d)}return}return h(e,t,u)}prepareLoading(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ye(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ye(t)&&(t=[t]);const s=this.queueLoad(e,t,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(a,u)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${i} failed`,a),!a&&u&&this.logger.log(`${t}loaded namespace ${s} for language ${i}`,u),this.loaded(e,a,u)})}saveMissing(e,t,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const h={...a,isUpdate:s},d=this.backend.create.bind(this.backend);if(d.length<6)try{let p;d.length===5?p=d(e,t,n,i,h):p=d(e,t,n,i),p&&typeof p.then=="function"?p.then(g=>u(null,g)).catch(u):u(null,p)}catch(p){u(p)}else d(e,t,n,i,u,h)}!e||!e[0]||this.store.addResource(e[0],t,n,i)}}}const f0=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let e={};if(typeof l[1]=="object"&&(e=l[1]),ye(l[1])&&(e.defaultValue=l[1]),ye(l[2])&&(e.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const t=l[3]||l[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),p0=l=>(ye(l.ns)&&(l.ns=[l.ns]),ye(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),ye(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),l.supportedLngs&&l.supportedLngs.indexOf("cimode")<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),l),Ql=()=>{},zC=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(t=>{typeof l[t]=="function"&&(l[t]=l[t].bind(l))})};class Ho extends Pu{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=p0(e),this.services={},this.logger=En,this.modules={external:[]},zC(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(ye(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=f0();this.options={...i,...this.options,...p0(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?En.init(s(this.modules.logger),this.options):En.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:typeof Intl<"u"&&(p=EC);const g=new c0(this.options);this.store=new l0(this.options.resources,this.options);const m=this.services;m.logger=En,m.resourceStore=this.store,m.languageUtils=g,m.pluralResolver=new AC(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),p&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(m.formatter=s(p),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new kC(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new PC(s(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(x){for(var v=arguments.length,S=new Array(v>1?v-1:0),b=1;b<v;b++)S[b-1]=arguments[b];e.emit(x,...S)}),this.modules.languageDetector&&(m.languageDetector=s(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=s(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new xu(this.services,this.options),this.translator.on("*",function(x){for(var v=arguments.length,S=new Array(v>1?v-1:0),b=1;b<v;b++)S[b-1]=arguments[b];e.emit(x,...S)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ql),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=function(){return e.store[p](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=function(){return e.store[p](...arguments),e}});const h=ko(),d=()=>{const p=(g,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(m),n(g,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),h}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ql;const i=ye(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],a=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(d=>{d!=="cimode"&&s.indexOf(d)<0&&s.push(d)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>a(h)),this.options.preload&&this.options.preload.forEach(u=>a(u)),this.services.backendConnector.load(s,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(u)})}else n(null)}reloadResources(e,t,n){const i=ko();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Ql),this.services.backendConnector.reload(e,t,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&_x.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=ko();this.emit("languageChanging",e);const s=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},a=(h,d)=>{d?(s(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(h,function(){return n.t(...arguments)})},u=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const d=ye(h)?h:this.services.languageUtils.getBestMatchFromCodes(h);d&&(this.language||s(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,p=>{a(p,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),i}getFixedT(e,t,n){var i=this;const s=function(a,u){let h;if(typeof u!="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),g=2;g<d;g++)p[g-2]=arguments[g];h=i.options.overloadTranslationOptionHandler([a,u].concat(p))}else h={...u};h.lng=h.lng||s.lng,h.lngs=h.lngs||s.lngs,h.ns=h.ns||s.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||n||s.keyPrefix);const m=i.options.keySeparator||".";let x;return h.keyPrefix&&Array.isArray(a)?x=a.map(v=>`${h.keyPrefix}${m}${v}`):x=h.keyPrefix?`${h.keyPrefix}${m}${a}`:a,i.t(x,h)};return ye(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(u,h)=>{const d=this.services.backendConnector.state[`${u}|${h}`];return d===-1||d===0||d===2};if(t.precheck){const u=t.precheck(this,a);if(u!==void 0)return u}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(s,e)))}loadNamespaces(e,t){const n=ko();return this.options.ns?(ye(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=ko();ye(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new c0(f0());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Ho(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ql;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Ho(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(u=>{s[u]=this[u]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new l0(this.store.data,i),s.services.resourceStore=s.store),s.translator=new xu(s.services,i),s.translator.on("*",function(u){for(var h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];s.emit(u,...d)}),s.init(i,t),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _t=Ho.createInstance();_t.createInstance=Ho.createInstance;_t.createInstance;_t.dir;_t.init;_t.loadResources;_t.reloadResources;_t.use;_t.changeLanguage;_t.getFixedT;_t.t;_t.exists;_t.setDefaultNamespace;_t.hasLoadedNamespace;_t.loadNamespaces;_t.loadLanguages;function RC(l,e){if(!(l instanceof e))throw new TypeError("Cannot call a class as a function")}function $o(l){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(l)}function FC(l,e){if($o(l)!="object"||!l)return l;var t=l[Symbol.toPrimitive];if(t!==void 0){var n=t.call(l,e);if($o(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(l)}function LC(l){var e=FC(l,"string");return $o(e)=="symbol"?e:e+""}function OC(l,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(l,LC(n.key),n)}}function NC(l,e,t){return e&&OC(l.prototype,e),Object.defineProperty(l,"prototype",{writable:!1}),l}var Cx=[],BC=Cx.forEach,DC=Cx.slice;function UC(l){return BC.call(DC.call(arguments,1),function(e){if(e)for(var t in e)l[t]===void 0&&(l[t]=e[t])}),l}var m0=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,VC=function(e,t,n){var i=n||{};i.path=i.path||"/";var s=encodeURIComponent(t),a="".concat(e,"=").concat(s);if(i.maxAge>0){var u=i.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(u))}if(i.domain){if(!m0.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!m0.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var h=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(h){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},g0={create:function(e,t,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+n*60*1e3)),i&&(s.domain=i),document.cookie=VC(e,encodeURIComponent(t),s)},read:function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var s=n[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},WC={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var n=g0.read(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&g0.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},HC={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),s=i.split("&"),a=0;a<s.length;a++){var u=s[a].indexOf("=");if(u>0){var h=s[a].substring(0,u);h===e.lookupQuerystring&&(t=s[a].substring(u+1))}}}return t}},To=null,y0=function(){if(To!==null)return To;try{To=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{To=!1}return To},$C={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&y0()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&y0()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},Eo=null,x0=function(){if(Eo!==null)return Eo;try{Eo=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Eo=!1}return Eo},jC={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&x0()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&x0()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},GC={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},qC={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},JC={name:"path",lookup:function(e){var t;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},XC={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};function YC(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Ax=function(){function l(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};RC(this,l),this.type="languageDetector",this.detectors={},this.init(e,t)}return NC(l,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=UC(n,this.options||{},YC()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(WC),this.addDetector(HC),this.addDetector($C),this.addDetector(jC),this.addDetector(GC),this.addDetector(qC),this.addDetector(JC),this.addDetector(XC)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var n=this;t||(t=this.options.order);var i=[];return t.forEach(function(s){if(n.detectors[s]){var a=n.detectors[s].lookup(n.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(t,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(t,i.options)}))}}]),l}();Ax.type="languageDetector";const ZC={en:"en",english:"english",visit:"visit",code:"code","article #1":"article #1","article #2":"article #2",present:"Present","open link in new tab":"open link in new tab","change the language":"change the language","scroll to project":"scroll to project","stop viewing model":"stop viewing model","inspect island model":"inspect island model"},QC={translation:ZC},KC={en:"es",english:"espanol",visit:"visitar",code:"código","article #1":"artículo #1","article #2":"artículo #2",present:"Presente","open link in new tab":"abrir en una nueva ficha","change the language":"cambiar de lengua","scroll to project":"desplázate al proyecto","stop viewing model":"stop viewing model","inspect island model":"inspect island model"},v0={translation:KC},eA={en:"中文",english:"中文",visit:"访问网站",code:"源代码","article #1":"相关新闻 #1","article #2":"相关新闻 #2",present:"现在","open link in new tab":"在新标签页打开链接","change the language":"更改语言","scroll to project":"滚动到项目","stop viewing model":"stop viewing model","inspect island model":"look at island model"},tA={translation:eA},nA={en:QC,es:v0,"es-ES":v0,zh:tA},iA={order:["localStorage","navigator"],lookupLocalStorage:"i18n",caches:["localStorage"],checkWhitelist:!0};_t.use(Ax).use(JS).init({resources:nA,detection:iA,fallbackLng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});console.log("v.4.0.0");const rA=document.getElementById("root"),sA=Rv.createRoot(rA);sA.render(Be.jsx(Jw,{basename:"/",children:Be.jsx(uC,{})}));export{q0 as $,mb as A,j0 as B,ve as C,yA as D,gb as E,nx as F,Wd as G,xb as H,yb as I,ys as J,Mb as K,Su as L,Rn as M,JA as N,xx as O,un as P,_b as Q,$0 as R,jd as S,No as T,G0 as U,X as V,bu as W,Cb as X,Ab as Y,zh as Z,jg as _,I as a,EA as a$,J0 as a0,kb as a1,Tb as a2,Eb as a3,Ib as a4,Pb as a5,zb as a6,Rb as a7,Fh as a8,Fb as a9,aM as aA,Sb as aB,Y0 as aC,Bi as aD,AT as aE,mT as aF,Bo as aG,Gg as aH,os as aI,cn as aJ,l2 as aK,ck as aL,u2 as aM,pA as aN,gA as aO,Sn as aP,Hg as aQ,Ug as aR,bA as aS,MA as aT,AA as aU,kA as aV,TA as aW,Vg as aX,FA as aY,zA as aZ,IA as a_,Lb as aa,Ob as ab,Nb as ac,Bb as ad,Db as ae,Ub as af,Vb as ag,Wb as ah,Hb as ai,$b as aj,jb as ak,Gb as al,qb as am,Jb as an,Xb as ao,Yb as ap,Zb as aq,Qb as ar,Kb as as,eM as at,tM as au,nM as av,iM as aw,rM as ax,sM as ay,oM as az,Vd as b,YA as b$,Wg as b0,RA as b1,PA as b2,LA as b3,OA as b4,NA as b5,BA as b6,Cd as b7,Tn as b8,Ad as b9,xA as bA,uA as bB,cA as bC,hA as bD,tC as bE,ut as bF,Pn as bG,TM as bH,qM as bI,GM as bJ,jk as bK,Z0 as bL,jA as bM,$A as bN,HA as bO,WA as bP,VA as bQ,UA as bR,DA as bS,_A as bT,CA as bU,qg as bV,KA as bW,tk as bX,ek as bY,QA as bZ,ZA as b_,hb as ba,db as bb,fb as bc,Tk as bd,Lk as be,Ek as bf,Pk as bg,Ik as bh,Fk as bi,zk as bj,Rk as bk,w_ as bl,_u as bm,lf as bn,aT as bo,lb as bp,ub as bq,uT as br,LM as bs,fk as bt,bs as bu,Dg as bv,lT as bw,SA as bx,wA as by,vA as bz,ab as c,eT as c$,XA as c0,mA as c1,ou as c2,OM as c3,qd as c4,qA as c5,GA as c6,Dd as c7,X0 as c8,Jg as c9,Fi as cA,Gd as cB,qT as cC,pT as cD,tf as cE,b_ as cF,nf as cG,F2 as cH,gx as cI,dT as cJ,fT as cK,Qd as cL,xT as cM,rf as cN,eE as cO,e_ as cP,vT as cQ,rx as cR,I_ as cS,p2 as cT,dA as cU,Fn as cV,z_ as cW,Xo as cX,NT as cY,ti as cZ,wT as c_,k2 as ca,J2 as cb,fu as cc,yT as cd,PT as ce,IT as cf,gT as cg,S_ as ch,ZT as ci,$g as cj,O2 as ck,ET as cl,vx as cm,kT as cn,_T as co,QT as cp,hM as cq,fA as cr,y_ as cs,tx as ct,_s as cu,BT as cv,Ut as cw,XT as cx,JT as cy,z2 as cz,bn as d,x_ as d$,yk as d0,vk as d1,Po as d2,ob as d3,A2 as d4,GT as d5,m2 as d6,sf as d7,Wk as d8,Ok as d9,P2 as dA,RT as dB,l_ as dC,rT as dD,sT as dE,tT as dF,Yd as dG,xs as dH,Eu as dI,nu as dJ,kd as dK,Rh as dL,wk as dM,Wr as dN,Ln as dO,i_ as dP,Cu as dQ,_k as dR,bk as dS,pr as dT,I2 as dU,hr as dV,DT as dW,Vt as dX,sx as dY,P_ as dZ,h2 as d_,Dk as da,R_ as db,Kd as dc,Mk as dd,of as de,Oi as df,oT as dg,le as dh,Xd as di,Jd as dj,hT as dk,FT as dl,$k as dm,kk as dn,Ck as dp,$T as dq,w2 as dr,HT as ds,af as dt,MT as du,pu as dv,PM as dw,gk as dx,xk as dy,Do as dz,Ms as e,Zd as e$,ri as e0,mx as e1,sk as e2,rk as e3,Qt as e4,Uy as e5,yx as e6,lM as e7,cM as e8,uM as e9,ix as eA,jT as eB,fr as eC,TT as eD,Oe as eE,B2 as eF,ox as eG,ax as eH,Zt as eI,Iu as eJ,g2 as eK,hk as eL,ok as eM,dk as eN,n2 as eO,Jo as eP,LT as eQ,T2 as eR,FM as eS,mk as eT,uf as eU,t_ as eV,t2 as eW,gs as eX,cf as eY,KT as eZ,ni as e_,aA as ea,It as eb,yf as ec,Gk as ed,Sx as ee,a2 as ef,c2 as eg,o2 as eh,r2 as ei,i2 as ej,dx as ek,s2 as el,ik as em,nk as en,Sk as eo,Hd as ep,Ak as eq,hu as er,Ne as es,bT as et,ku as eu,cu as ev,YT as ew,_2 as ex,WT as ey,v_ as ez,Mu as f,VT as f0,s_ as f1,fs as f2,Et as f3,Tu as f4,OT as f5,E2 as f6,lx as f7,b2 as f8,UT as f9,du as fA,cT as fB,Kk as fC,Qk as fD,nE as fE,su as fF,e2 as fG,iu as fH,cs as fI,hs as fJ,pk as fK,U as fL,vs as fM,w0 as fN,Be as fO,us as fP,ib as fQ,QS as fR,OS as fS,oS as fT,Rv as fU,B0 as fV,oA as fW,SS as fX,FS as fY,xd as fZ,n_ as fa,K0 as fb,Vk as fc,ru as fd,Bk as fe,CT as ff,Hk as fg,Nk as fh,Uk as fi,Cs as fj,lA as fk,hf as fl,ST as fm,tE as fn,df as fo,ff as fp,Xt as fq,uk as fr,lk as fs,ak as ft,pf as fu,Ud as fv,nT as fw,iT as fx,wx as fy,zT as fz,ke as g,Qe as h,cb as i,sb as j,qk as k,ln as l,YM as m,pt as n,Me as o,Jt as p,_d as q,Zk as r,Xk as s,Yk as t,Ri as u,vb as v,Jk as w,wb as x,bb as y,pb as z};
